"use strict";const pe=require("electron"),Gn=require("node:os"),se=require("node:path"),Ka=require("child_process"),ut=require("sudo-prompt"),Tl=require("util"),xn=require("fs"),kt=require("path"),ce=require("node:process"),ve=require("node:util"),Q=require("node:fs"),lt=require("node:crypto"),li=require("node:assert");require("node:events");require("node:stream");const Ha=require("os"),ld=require("assert"),dd=require("events"),fd=require("buffer"),Ba=require("stream");function jl(e){const t=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(e){for(const s in e)if(s!=="default"){const r=Object.getOwnPropertyDescriptor(e,s);Object.defineProperty(t,s,r.get?r:{enumerable:!0,get:()=>e[s]})}}return t.default=e,Object.freeze(t)}const Ne=jl(xn),We=jl(kt),St=e=>{const t=typeof e;return e!==null&&(t==="object"||t==="function")},Cl=new Set(["__proto__","prototype","constructor"]),Al=1e6,hd=e=>e>="0"&&e<="9";function kl(e){if(e==="0")return!0;if(/^[1-9]\d*$/.test(e)){const t=Number.parseInt(e,10);return t<=Number.MAX_SAFE_INTEGER&&t<=Al}return!1}function cs(e,t){return Cl.has(e)?!1:(e&&kl(e)?t.push(Number.parseInt(e,10)):t.push(e),!0)}function pd(e){if(typeof e!="string")throw new TypeError(`Expected a string, got ${typeof e}`);const t=[];let s="",r="start",c=!1,n=0;for(const a of e){if(n++,c){s+=a,c=!1;continue}if(a==="\\"){if(r==="index")throw new Error(`Invalid character '${a}' in an index at position ${n}`);if(r==="indexEnd")throw new Error(`Invalid character '${a}' after an index at position ${n}`);c=!0,r=r==="start"?"property":r;continue}switch(a){case".":{if(r==="index")throw new Error(`Invalid character '${a}' in an index at position ${n}`);if(r==="indexEnd"){r="property";break}if(!cs(s,t))return[];s="",r="property";break}case"[":{if(r==="index")throw new Error(`Invalid character '${a}' in an index at position ${n}`);if(r==="indexEnd"){r="index";break}if(r==="property"||r==="start"){if((s||r==="property")&&!cs(s,t))return[];s=""}r="index";break}case"]":{if(r==="index"){if(s==="")s=(t.pop()||"")+"[]",r="property";else{const i=Number.parseInt(s,10);!Number.isNaN(i)&&Number.isFinite(i)&&i>=0&&i<=Number.MAX_SAFE_INTEGER&&i<=Al&&s===String(i)?t.push(i):t.push(s),s="",r="indexEnd"}break}if(r==="indexEnd")throw new Error(`Invalid character '${a}' after an index at position ${n}`);s+=a;break}default:{if(r==="index"&&!hd(a))throw new Error(`Invalid character '${a}' in an index at position ${n}`);if(r==="indexEnd")throw new Error(`Invalid character '${a}' after an index at position ${n}`);r==="start"&&(r="property"),s+=a}}}switch(c&&(s+="\\"),r){case"property":{if(!cs(s,t))return[];break}case"index":throw new Error("Index was not closed");case"start":{t.push("");break}}return t}function Kn(e){if(typeof e=="string")return pd(e);if(Array.isArray(e)){const t=[];for(const[s,r]of e.entries()){if(typeof r!="string"&&typeof r!="number")throw new TypeError(`Expected a string or number for path segment at index ${s}, got ${typeof r}`);if(typeof r=="number"&&!Number.isFinite(r))throw new TypeError(`Path segment at index ${s} must be a finite number, got ${r}`);if(Cl.has(r))return[];typeof r=="string"&&kl(r)?t.push(Number.parseInt(r,10)):t.push(r)}return t}return[]}function di(e,t,s){if(!St(e)||typeof t!="string"&&!Array.isArray(t))return s===void 0?e:s;const r=Kn(t);if(r.length===0)return s;for(let c=0;c<r.length;c++){const n=r[c];if(e=e[n],e==null){if(c!==r.length-1)return s;break}}return e===void 0?s:e}function Bt(e,t,s){if(!St(e)||typeof t!="string"&&!Array.isArray(t))return e;const r=e,c=Kn(t);if(c.length===0)return e;for(let n=0;n<c.length;n++){const a=c[n];if(n===c.length-1)e[a]=s;else if(!St(e[a])){const u=typeof c[n+1]=="number";e[a]=u?[]:{}}e=e[a]}return r}function md(e,t){if(!St(e)||typeof t!="string"&&!Array.isArray(t))return!1;const s=Kn(t);if(s.length===0)return!1;for(let r=0;r<s.length;r++){const c=s[r];if(r===s.length-1)return Object.hasOwn(e,c)?(delete e[c],!0):!1;if(e=e[c],!St(e))return!1}}function us(e,t){if(!St(e)||typeof t!="string"&&!Array.isArray(t))return!1;const s=Kn(t);if(s.length===0)return!1;for(const r of s){if(!St(e)||!(r in e))return!1;e=e[r]}return!0}const st=Gn.homedir(),Wa=Gn.tmpdir(),{env:Ct}=ce,yd=e=>{const t=se.join(st,"Library");return{data:se.join(t,"Application Support",e),config:se.join(t,"Preferences",e),cache:se.join(t,"Caches",e),log:se.join(t,"Logs",e),temp:se.join(Wa,e)}},vd=e=>{const t=Ct.APPDATA||se.join(st,"AppData","Roaming"),s=Ct.LOCALAPPDATA||se.join(st,"AppData","Local");return{data:se.join(s,e,"Data"),config:se.join(t,e,"Config"),cache:se.join(s,e,"Cache"),log:se.join(s,e,"Log"),temp:se.join(Wa,e)}},gd=e=>{const t=se.basename(st);return{data:se.join(Ct.XDG_DATA_HOME||se.join(st,".local","share"),e),config:se.join(Ct.XDG_CONFIG_HOME||se.join(st,".config"),e),cache:se.join(Ct.XDG_CACHE_HOME||se.join(st,".cache"),e),log:se.join(Ct.XDG_STATE_HOME||se.join(st,".local","state"),e),temp:se.join(Wa,t,e)}};function $d(e,{suffix:t="nodejs"}={}){if(typeof e!="string")throw new TypeError(`Expected a string, got ${typeof e}`);return t&&(e+=`-${t}`),ce.platform==="darwin"?yd(e):ce.platform==="win32"?vd(e):gd(e)}const Xe=(e,t)=>{const{onError:s}=t;return function(...c){return e.apply(void 0,c).catch(s)}},Fe=(e,t)=>{const{onError:s}=t;return function(...c){try{return e.apply(void 0,c)}catch(n){return s(n)}}},_d=250,Je=(e,t)=>{const{isRetriable:s}=t;return function(c){const{timeout:n}=c,a=c.interval??_d,i=Date.now()+n;return function u(...d){return e.apply(void 0,d).catch(o=>{if(!s(o)||Date.now()>=i)throw o;const $=Math.round(a*Math.random());return $>0?new Promise(v=>setTimeout(v,$)).then(()=>u.apply(void 0,d)):u.apply(void 0,d)})}}},Ye=(e,t)=>{const{isRetriable:s}=t;return function(c){const{timeout:n}=c,a=Date.now()+n;return function(...u){for(;;)try{return e.apply(void 0,u)}catch(d){if(!s(d)||Date.now()>=a)throw d;continue}}}},At={isChangeErrorOk:e=>{if(!At.isNodeError(e))return!1;const{code:t}=e;return t==="ENOSYS"||!wd&&(t==="EINVAL"||t==="EPERM")},isNodeError:e=>e instanceof Error,isRetriableError:e=>{if(!At.isNodeError(e))return!1;const{code:t}=e;return t==="EMFILE"||t==="ENFILE"||t==="EAGAIN"||t==="EBUSY"||t==="EACCESS"||t==="EACCES"||t==="EACCS"||t==="EPERM"},onChangeError:e=>{if(!At.isNodeError(e))throw e;if(!At.isChangeErrorOk(e))throw e}},Wt={onError:At.onChangeError},Ie={onError:()=>{}},wd=ce.getuid?!ce.getuid():!1,_e={isRetriable:At.isRetriableError},we={attempt:{chmod:Xe(ve.promisify(Q.chmod),Wt),chown:Xe(ve.promisify(Q.chown),Wt),close:Xe(ve.promisify(Q.close),Ie),fsync:Xe(ve.promisify(Q.fsync),Ie),mkdir:Xe(ve.promisify(Q.mkdir),Ie),realpath:Xe(ve.promisify(Q.realpath),Ie),stat:Xe(ve.promisify(Q.stat),Ie),unlink:Xe(ve.promisify(Q.unlink),Ie),chmodSync:Fe(Q.chmodSync,Wt),chownSync:Fe(Q.chownSync,Wt),closeSync:Fe(Q.closeSync,Ie),existsSync:Fe(Q.existsSync,Ie),fsyncSync:Fe(Q.fsync,Ie),mkdirSync:Fe(Q.mkdirSync,Ie),realpathSync:Fe(Q.realpathSync,Ie),statSync:Fe(Q.statSync,Ie),unlinkSync:Fe(Q.unlinkSync,Ie)},retry:{close:Je(ve.promisify(Q.close),_e),fsync:Je(ve.promisify(Q.fsync),_e),open:Je(ve.promisify(Q.open),_e),readFile:Je(ve.promisify(Q.readFile),_e),rename:Je(ve.promisify(Q.rename),_e),stat:Je(ve.promisify(Q.stat),_e),write:Je(ve.promisify(Q.write),_e),writeFile:Je(ve.promisify(Q.writeFile),_e),closeSync:Ye(Q.closeSync,_e),fsyncSync:Ye(Q.fsyncSync,_e),openSync:Ye(Q.openSync,_e),readFileSync:Ye(Q.readFileSync,_e),renameSync:Ye(Q.renameSync,_e),statSync:Ye(Q.statSync,_e),writeSync:Ye(Q.writeSync,_e),writeFileSync:Ye(Q.writeFileSync,_e)}},Ed="utf8",fi=438,Sd=511,bd={},Pd=ce.geteuid?ce.geteuid():-1,Rd=ce.getegid?ce.getegid():-1,Nd=1e3,Id=!!ce.getuid;ce.getuid&&ce.getuid();const hi=128,Od=e=>e instanceof Error&&"code"in e,pi=e=>typeof e=="string",ls=e=>e===void 0,Td=ce.platform==="linux",ql=ce.platform==="win32",Xa=["SIGHUP","SIGINT","SIGTERM"];ql||Xa.push("SIGALRM","SIGABRT","SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT");Td&&Xa.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT");class jd{constructor(){this.callbacks=new Set,this.exited=!1,this.exit=t=>{if(!this.exited){this.exited=!0;for(const s of this.callbacks)s();t&&(ql&&t!=="SIGINT"&&t!=="SIGTERM"&&t!=="SIGKILL"?ce.kill(ce.pid,"SIGTERM"):ce.kill(ce.pid,t))}},this.hook=()=>{ce.once("exit",()=>this.exit());for(const t of Xa)try{ce.once(t,()=>this.exit(t))}catch{}},this.register=t=>(this.callbacks.add(t),()=>{this.callbacks.delete(t)}),this.hook()}}const Cd=new jd,Ad=Cd.register,Ee={store:{},create:e=>{const t=`000000${Math.floor(Math.random()*16777215).toString(16)}`.slice(-6),c=`.tmp-${Date.now().toString().slice(-10)}${t}`;return`${e}${c}`},get:(e,t,s=!0)=>{const r=Ee.truncate(t(e));return r in Ee.store?Ee.get(e,t,s):(Ee.store[r]=s,[r,()=>delete Ee.store[r]])},purge:e=>{Ee.store[e]&&(delete Ee.store[e],we.attempt.unlink(e))},purgeSync:e=>{Ee.store[e]&&(delete Ee.store[e],we.attempt.unlinkSync(e))},purgeSyncAll:()=>{for(const e in Ee.store)Ee.purgeSync(e)},truncate:e=>{const t=se.basename(e);if(t.length<=hi)return e;const s=/^(\.?)(.*?)((?:\.[^.]+)?(?:\.tmp-\d{10}[a-f0-9]{6})?)$/.exec(t);if(!s)return e;const r=t.length-hi;return`${e.slice(0,-t.length)}${s[1]}${s[2].slice(0,-r)}${s[3]}`}};Ad(Ee.purgeSyncAll);function Dl(e,t,s=bd){if(pi(s))return Dl(e,t,{encoding:s});const c={timeout:s.timeout??Nd};let n=null,a=null,i=null;try{const u=we.attempt.realpathSync(e),d=!!u;e=u||e,[a,n]=Ee.get(e,s.tmpCreate||Ee.create,s.tmpPurge!==!1);const o=Id&&ls(s.chown),$=ls(s.mode);if(d&&(o||$)){const g=we.attempt.statSync(e);g&&(s={...s},o&&(s.chown={uid:g.uid,gid:g.gid}),$&&(s.mode=g.mode))}if(!d){const g=se.dirname(e);we.attempt.mkdirSync(g,{mode:Sd,recursive:!0})}i=we.retry.openSync(c)(a,"w",s.mode||fi),s.tmpCreated&&s.tmpCreated(a),pi(t)?we.retry.writeSync(c)(i,t,0,s.encoding||Ed):ls(t)||we.retry.writeSync(c)(i,t,0,t.length,0),s.fsync!==!1&&(s.fsyncWait!==!1?we.retry.fsyncSync(c)(i):we.attempt.fsync(i)),we.retry.closeSync(c)(i),i=null,s.chown&&(s.chown.uid!==Pd||s.chown.gid!==Rd)&&we.attempt.chownSync(a,s.chown.uid,s.chown.gid),s.mode&&s.mode!==fi&&we.attempt.chmodSync(a,s.mode);try{we.retry.renameSync(c)(a,e)}catch(g){if(!Od(g)||g.code!=="ENAMETOOLONG")throw g;we.retry.renameSync(c)(a,Ee.truncate(e))}n(),a=null}finally{i&&we.attempt.closeSync(i),a&&Ee.purge(a)}}var rt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ja(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Xt={exports:{}},ds={},Ue={},dt={},fs={},hs={},ps={},mi;function Vn(){return mi||(mi=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class t{}e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class s extends t{constructor(l){if(super(),!e.IDENTIFIER.test(l))throw new Error("CodeGen: name must be a valid identifier");this.str=l}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=s;class r extends t{constructor(l){super(),this._items=typeof l=="string"?[l]:l}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const l=this._items[0];return l===""||l==='""'}get str(){var l;return(l=this._str)!==null&&l!==void 0?l:this._str=this._items.reduce((p,S)=>`${p}${S}`,"")}get names(){var l;return(l=this._names)!==null&&l!==void 0?l:this._names=this._items.reduce((p,S)=>(S instanceof s&&(p[S.str]=(p[S.str]||0)+1),p),{})}}e._Code=r,e.nil=new r("");function c(h,...l){const p=[h[0]];let S=0;for(;S<l.length;)i(p,l[S]),p.push(h[++S]);return new r(p)}e._=c;const n=new r("+");function a(h,...l){const p=[v(h[0])];let S=0;for(;S<l.length;)p.push(n),i(p,l[S]),p.push(n,v(h[++S]));return u(p),new r(p)}e.str=a;function i(h,l){l instanceof r?h.push(...l._items):l instanceof s?h.push(l):h.push($(l))}e.addCodeArg=i;function u(h){let l=1;for(;l<h.length-1;){if(h[l]===n){const p=d(h[l-1],h[l+1]);if(p!==void 0){h.splice(l-1,3,p);continue}h[l++]="+"}l++}}function d(h,l){if(l==='""')return h;if(h==='""')return l;if(typeof h=="string")return l instanceof s||h[h.length-1]!=='"'?void 0:typeof l!="string"?`${h.slice(0,-1)}${l}"`:l[0]==='"'?h.slice(0,-1)+l.slice(1):void 0;if(typeof l=="string"&&l[0]==='"'&&!(h instanceof s))return`"${h}${l.slice(1)}`}function o(h,l){return l.emptyStr()?h:h.emptyStr()?l:a`${h}${l}`}e.strConcat=o;function $(h){return typeof h=="number"||typeof h=="boolean"||h===null?h:v(Array.isArray(h)?h.join(","):h)}function g(h){return new r(v(h))}e.stringify=g;function v(h){return JSON.stringify(h).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=v;function w(h){return typeof h=="string"&&e.IDENTIFIER.test(h)?new r(`.${h}`):c`[${h}]`}e.getProperty=w;function E(h){if(typeof h=="string"&&e.IDENTIFIER.test(h))return new r(`${h}`);throw new Error(`CodeGen: invalid export name: ${h}, use explicit $id name mapping`)}e.getEsmExportName=E;function f(h){return new r(h.toString())}e.regexpCode=f})(ps)),ps}var ms={},yi;function vi(){return yi||(yi=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;const t=Vn();class s extends Error{constructor(d){super(`CodeGen: "code" for ${d} not defined`),this.value=d.value}}var r;(function(u){u[u.Started=0]="Started",u[u.Completed=1]="Completed"})(r||(e.UsedValueState=r={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};class c{constructor({prefixes:d,parent:o}={}){this._names={},this._prefixes=d,this._parent=o}toName(d){return d instanceof t.Name?d:this.name(d)}name(d){return new t.Name(this._newName(d))}_newName(d){const o=this._names[d]||this._nameGroup(d);return`${d}${o.index++}`}_nameGroup(d){var o,$;if(!(($=(o=this._parent)===null||o===void 0?void 0:o._prefixes)===null||$===void 0)&&$.has(d)||this._prefixes&&!this._prefixes.has(d))throw new Error(`CodeGen: prefix "${d}" is not allowed in this scope`);return this._names[d]={prefix:d,index:0}}}e.Scope=c;class n extends t.Name{constructor(d,o){super(o),this.prefix=d}setValue(d,{property:o,itemIndex:$}){this.value=d,this.scopePath=(0,t._)`.${new t.Name(o)}[${$}]`}}e.ValueScopeName=n;const a=(0,t._)`\n`;class i extends c{constructor(d){super(d),this._values={},this._scope=d.scope,this.opts={...d,_n:d.lines?a:t.nil}}get(){return this._scope}name(d){return new n(d,this._newName(d))}value(d,o){var $;if(o.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const g=this.toName(d),{prefix:v}=g,w=($=o.key)!==null&&$!==void 0?$:o.ref;let E=this._values[v];if(E){const l=E.get(w);if(l)return l}else E=this._values[v]=new Map;E.set(w,g);const f=this._scope[v]||(this._scope[v]=[]),h=f.length;return f[h]=o.ref,g.setValue(o,{property:v,itemIndex:h}),g}getValue(d,o){const $=this._values[d];if($)return $.get(o)}scopeRefs(d,o=this._values){return this._reduceValues(o,$=>{if($.scopePath===void 0)throw new Error(`CodeGen: name "${$}" has no value`);return(0,t._)`${d}${$.scopePath}`})}scopeCode(d=this._values,o,$){return this._reduceValues(d,g=>{if(g.value===void 0)throw new Error(`CodeGen: name "${g}" has no value`);return g.value.code},o,$)}_reduceValues(d,o,$={},g){let v=t.nil;for(const w in d){const E=d[w];if(!E)continue;const f=$[w]=$[w]||new Map;E.forEach(h=>{if(f.has(h))return;f.set(h,r.Started);let l=o(h);if(l){const p=this.opts.es5?e.varKinds.var:e.varKinds.const;v=(0,t._)`${v}${p} ${h} = ${l};${this.opts._n}`}else if(l=g?.(h))v=(0,t._)`${v}${l}${this.opts._n}`;else throw new s(h);f.set(h,r.Completed)})}return v}}e.ValueScope=i})(ms)),ms}var gi;function ee(){return gi||(gi=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;const t=Vn(),s=vi();var r=Vn();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return r.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return r.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return r.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}});var c=vi();Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return c.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return c.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return c.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return c.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};class n{optimizeNodes(){return this}optimizeNames(m,b){return this}}class a extends n{constructor(m,b,j){super(),this.varKind=m,this.name=b,this.rhs=j}render({es5:m,_n:b}){const j=m?s.varKinds.var:this.varKind,G=this.rhs===void 0?"":` = ${this.rhs}`;return`${j} ${this.name}${G};`+b}optimizeNames(m,b){if(m[this.name.str])return this.rhs&&(this.rhs=q(this.rhs,m,b)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}}class i extends n{constructor(m,b,j){super(),this.lhs=m,this.rhs=b,this.sideEffects=j}render({_n:m}){return`${this.lhs} = ${this.rhs};`+m}optimizeNames(m,b){if(!(this.lhs instanceof t.Name&&!m[this.lhs.str]&&!this.sideEffects))return this.rhs=q(this.rhs,m,b),this}get names(){const m=this.lhs instanceof t.Name?{}:{...this.lhs.names};return F(m,this.rhs)}}class u extends i{constructor(m,b,j,G){super(m,j,G),this.op=b}render({_n:m}){return`${this.lhs} ${this.op}= ${this.rhs};`+m}}class d extends n{constructor(m){super(),this.label=m,this.names={}}render({_n:m}){return`${this.label}:`+m}}class o extends n{constructor(m){super(),this.label=m,this.names={}}render({_n:m}){return`break${this.label?` ${this.label}`:""};`+m}}class $ extends n{constructor(m){super(),this.error=m}render({_n:m}){return`throw ${this.error};`+m}get names(){return this.error.names}}class g extends n{constructor(m){super(),this.code=m}render({_n:m}){return`${this.code};`+m}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(m,b){return this.code=q(this.code,m,b),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}}class v extends n{constructor(m=[]){super(),this.nodes=m}render(m){return this.nodes.reduce((b,j)=>b+j.render(m),"")}optimizeNodes(){const{nodes:m}=this;let b=m.length;for(;b--;){const j=m[b].optimizeNodes();Array.isArray(j)?m.splice(b,1,...j):j?m[b]=j:m.splice(b,1)}return m.length>0?this:void 0}optimizeNames(m,b){const{nodes:j}=this;let G=j.length;for(;G--;){const K=j[G];K.optimizeNames(m,b)||(z(m,K.names),j.splice(G,1))}return j.length>0?this:void 0}get names(){return this.nodes.reduce((m,b)=>V(m,b.names),{})}}class w extends v{render(m){return"{"+m._n+super.render(m)+"}"+m._n}}class E extends v{}class f extends w{}f.kind="else";class h extends w{constructor(m,b){super(b),this.condition=m}render(m){let b=`if(${this.condition})`+super.render(m);return this.else&&(b+="else "+this.else.render(m)),b}optimizeNodes(){super.optimizeNodes();const m=this.condition;if(m===!0)return this.nodes;let b=this.else;if(b){const j=b.optimizeNodes();b=this.else=Array.isArray(j)?new f(j):j}if(b)return m===!1?b instanceof h?b:b.nodes:this.nodes.length?this:new h(W(m),b instanceof h?[b]:b.nodes);if(!(m===!1||!this.nodes.length))return this}optimizeNames(m,b){var j;if(this.else=(j=this.else)===null||j===void 0?void 0:j.optimizeNames(m,b),!!(super.optimizeNames(m,b)||this.else))return this.condition=q(this.condition,m,b),this}get names(){const m=super.names;return F(m,this.condition),this.else&&V(m,this.else.names),m}}h.kind="if";class l extends w{}l.kind="for";class p extends l{constructor(m){super(),this.iteration=m}render(m){return`for(${this.iteration})`+super.render(m)}optimizeNames(m,b){if(super.optimizeNames(m,b))return this.iteration=q(this.iteration,m,b),this}get names(){return V(super.names,this.iteration.names)}}class S extends l{constructor(m,b,j,G){super(),this.varKind=m,this.name=b,this.from=j,this.to=G}render(m){const b=m.es5?s.varKinds.var:this.varKind,{name:j,from:G,to:K}=this;return`for(${b} ${j}=${G}; ${j}<${K}; ${j}++)`+super.render(m)}get names(){const m=F(super.names,this.from);return F(m,this.to)}}class y extends l{constructor(m,b,j,G){super(),this.loop=m,this.varKind=b,this.name=j,this.iterable=G}render(m){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(m)}optimizeNames(m,b){if(super.optimizeNames(m,b))return this.iterable=q(this.iterable,m,b),this}get names(){return V(super.names,this.iterable.names)}}class _ extends w{constructor(m,b,j){super(),this.name=m,this.args=b,this.async=j}render(m){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(m)}}_.kind="func";class P extends v{render(m){return"return "+super.render(m)}}P.kind="return";class T extends w{render(m){let b="try"+super.render(m);return this.catch&&(b+=this.catch.render(m)),this.finally&&(b+=this.finally.render(m)),b}optimizeNodes(){var m,b;return super.optimizeNodes(),(m=this.catch)===null||m===void 0||m.optimizeNodes(),(b=this.finally)===null||b===void 0||b.optimizeNodes(),this}optimizeNames(m,b){var j,G;return super.optimizeNames(m,b),(j=this.catch)===null||j===void 0||j.optimizeNames(m,b),(G=this.finally)===null||G===void 0||G.optimizeNames(m,b),this}get names(){const m=super.names;return this.catch&&V(m,this.catch.names),this.finally&&V(m,this.finally.names),m}}class M extends w{constructor(m){super(),this.error=m}render(m){return`catch(${this.error})`+super.render(m)}}M.kind="catch";class U extends w{render(m){return"finally"+super.render(m)}}U.kind="finally";class D{constructor(m,b={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...b,_n:b.lines?`
`:""},this._extScope=m,this._scope=new s.Scope({parent:m}),this._nodes=[new E]}toString(){return this._root.render(this.opts)}name(m){return this._scope.name(m)}scopeName(m){return this._extScope.name(m)}scopeValue(m,b){const j=this._extScope.value(m,b);return(this._values[j.prefix]||(this._values[j.prefix]=new Set)).add(j),j}getScopeValue(m,b){return this._extScope.getValue(m,b)}scopeRefs(m){return this._extScope.scopeRefs(m,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(m,b,j,G){const K=this._scope.toName(b);return j!==void 0&&G&&(this._constants[K.str]=j),this._leafNode(new a(m,K,j)),K}const(m,b,j){return this._def(s.varKinds.const,m,b,j)}let(m,b,j){return this._def(s.varKinds.let,m,b,j)}var(m,b,j){return this._def(s.varKinds.var,m,b,j)}assign(m,b,j){return this._leafNode(new i(m,b,j))}add(m,b){return this._leafNode(new u(m,e.operators.ADD,b))}code(m){return typeof m=="function"?m():m!==t.nil&&this._leafNode(new g(m)),this}object(...m){const b=["{"];for(const[j,G]of m)b.length>1&&b.push(","),b.push(j),(j!==G||this.opts.es5)&&(b.push(":"),(0,t.addCodeArg)(b,G));return b.push("}"),new t._Code(b)}if(m,b,j){if(this._blockNode(new h(m)),b&&j)this.code(b).else().code(j).endIf();else if(b)this.code(b).endIf();else if(j)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(m){return this._elseNode(new h(m))}else(){return this._elseNode(new f)}endIf(){return this._endBlockNode(h,f)}_for(m,b){return this._blockNode(m),b&&this.code(b).endFor(),this}for(m,b){return this._for(new p(m),b)}forRange(m,b,j,G,K=this.opts.es5?s.varKinds.var:s.varKinds.let){const Z=this._scope.toName(m);return this._for(new S(K,Z,b,j),()=>G(Z))}forOf(m,b,j,G=s.varKinds.const){const K=this._scope.toName(m);if(this.opts.es5){const Z=b instanceof t.Name?b:this.var("_arr",b);return this.forRange("_i",0,(0,t._)`${Z}.length`,Y=>{this.var(K,(0,t._)`${Z}[${Y}]`),j(K)})}return this._for(new y("of",G,K,b),()=>j(K))}forIn(m,b,j,G=this.opts.es5?s.varKinds.var:s.varKinds.const){if(this.opts.ownProperties)return this.forOf(m,(0,t._)`Object.keys(${b})`,j);const K=this._scope.toName(m);return this._for(new y("in",G,K,b),()=>j(K))}endFor(){return this._endBlockNode(l)}label(m){return this._leafNode(new d(m))}break(m){return this._leafNode(new o(m))}return(m){const b=new P;if(this._blockNode(b),this.code(m),b.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(P)}try(m,b,j){if(!b&&!j)throw new Error('CodeGen: "try" without "catch" and "finally"');const G=new T;if(this._blockNode(G),this.code(m),b){const K=this.name("e");this._currNode=G.catch=new M(K),b(K)}return j&&(this._currNode=G.finally=new U,this.code(j)),this._endBlockNode(M,U)}throw(m){return this._leafNode(new $(m))}block(m,b){return this._blockStarts.push(this._nodes.length),m&&this.code(m).endBlock(b),this}endBlock(m){const b=this._blockStarts.pop();if(b===void 0)throw new Error("CodeGen: not in self-balancing block");const j=this._nodes.length-b;if(j<0||m!==void 0&&j!==m)throw new Error(`CodeGen: wrong number of nodes: ${j} vs ${m} expected`);return this._nodes.length=b,this}func(m,b=t.nil,j,G){return this._blockNode(new _(m,b,j)),G&&this.code(G).endFunc(),this}endFunc(){return this._endBlockNode(_)}optimize(m=1){for(;m-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(m){return this._currNode.nodes.push(m),this}_blockNode(m){this._currNode.nodes.push(m),this._nodes.push(m)}_endBlockNode(m,b){const j=this._currNode;if(j instanceof m||b&&j instanceof b)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${b?`${m.kind}/${b.kind}`:m.kind}"`)}_elseNode(m){const b=this._currNode;if(!(b instanceof h))throw new Error('CodeGen: "else" without "if"');return this._currNode=b.else=m,this}get _root(){return this._nodes[0]}get _currNode(){const m=this._nodes;return m[m.length-1]}set _currNode(m){const b=this._nodes;b[b.length-1]=m}}e.CodeGen=D;function V(I,m){for(const b in m)I[b]=(I[b]||0)+(m[b]||0);return I}function F(I,m){return m instanceof t._CodeOrName?V(I,m.names):I}function q(I,m,b){if(I instanceof t.Name)return j(I);if(!G(I))return I;return new t._Code(I._items.reduce((K,Z)=>(Z instanceof t.Name&&(Z=j(Z)),Z instanceof t._Code?K.push(...Z._items):K.push(Z),K),[]));function j(K){const Z=b[K.str];return Z===void 0||m[K.str]!==1?K:(delete m[K.str],Z)}function G(K){return K instanceof t._Code&&K._items.some(Z=>Z instanceof t.Name&&m[Z.str]===1&&b[Z.str]!==void 0)}}function z(I,m){for(const b in m)I[b]=(I[b]||0)-(m[b]||0)}function W(I){return typeof I=="boolean"||typeof I=="number"||I===null?!I:(0,t._)`!${C(I)}`}e.not=W;const x=N(e.operators.AND);function B(...I){return I.reduce(x)}e.and=B;const X=N(e.operators.OR);function A(...I){return I.reduce(X)}e.or=A;function N(I){return(m,b)=>m===t.nil?b:b===t.nil?m:(0,t._)`${C(m)} ${I} ${C(b)}`}function C(I){return I instanceof t.Name?I:(0,t._)`(${I})`}})(hs)),hs}var te={},$i;function ae(){if($i)return te;$i=1,Object.defineProperty(te,"__esModule",{value:!0}),te.checkStrictMode=te.getErrorPath=te.Type=te.useFunc=te.setEvaluated=te.evaluatedPropsToName=te.mergeEvaluated=te.eachItem=te.unescapeJsonPointer=te.escapeJsonPointer=te.escapeFragment=te.unescapeFragment=te.schemaRefOrVal=te.schemaHasRulesButRef=te.schemaHasRules=te.checkUnknownRules=te.alwaysValidSchema=te.toHash=void 0;const e=ee(),t=Vn();function s(y){const _={};for(const P of y)_[P]=!0;return _}te.toHash=s;function r(y,_){return typeof _=="boolean"?_:Object.keys(_).length===0?!0:(c(y,_),!n(_,y.self.RULES.all))}te.alwaysValidSchema=r;function c(y,_=y.schema){const{opts:P,self:T}=y;if(!P.strictSchema||typeof _=="boolean")return;const M=T.RULES.keywords;for(const U in _)M[U]||S(y,`unknown keyword: "${U}"`)}te.checkUnknownRules=c;function n(y,_){if(typeof y=="boolean")return!y;for(const P in y)if(_[P])return!0;return!1}te.schemaHasRules=n;function a(y,_){if(typeof y=="boolean")return!y;for(const P in y)if(P!=="$ref"&&_.all[P])return!0;return!1}te.schemaHasRulesButRef=a;function i({topSchemaRef:y,schemaPath:_},P,T,M){if(!M){if(typeof P=="number"||typeof P=="boolean")return P;if(typeof P=="string")return(0,e._)`${P}`}return(0,e._)`${y}${_}${(0,e.getProperty)(T)}`}te.schemaRefOrVal=i;function u(y){return $(decodeURIComponent(y))}te.unescapeFragment=u;function d(y){return encodeURIComponent(o(y))}te.escapeFragment=d;function o(y){return typeof y=="number"?`${y}`:y.replace(/~/g,"~0").replace(/\//g,"~1")}te.escapeJsonPointer=o;function $(y){return y.replace(/~1/g,"/").replace(/~0/g,"~")}te.unescapeJsonPointer=$;function g(y,_){if(Array.isArray(y))for(const P of y)_(P);else _(y)}te.eachItem=g;function v({mergeNames:y,mergeToName:_,mergeValues:P,resultToName:T}){return(M,U,D,V)=>{const F=D===void 0?U:D instanceof e.Name?(U instanceof e.Name?y(M,U,D):_(M,U,D),D):U instanceof e.Name?(_(M,D,U),U):P(U,D);return V===e.Name&&!(F instanceof e.Name)?T(M,F):F}}te.mergeEvaluated={props:v({mergeNames:(y,_,P)=>y.if((0,e._)`${P} !== true && ${_} !== undefined`,()=>{y.if((0,e._)`${_} === true`,()=>y.assign(P,!0),()=>y.assign(P,(0,e._)`${P} || {}`).code((0,e._)`Object.assign(${P}, ${_})`))}),mergeToName:(y,_,P)=>y.if((0,e._)`${P} !== true`,()=>{_===!0?y.assign(P,!0):(y.assign(P,(0,e._)`${P} || {}`),E(y,P,_))}),mergeValues:(y,_)=>y===!0?!0:{...y,..._},resultToName:w}),items:v({mergeNames:(y,_,P)=>y.if((0,e._)`${P} !== true && ${_} !== undefined`,()=>y.assign(P,(0,e._)`${_} === true ? true : ${P} > ${_} ? ${P} : ${_}`)),mergeToName:(y,_,P)=>y.if((0,e._)`${P} !== true`,()=>y.assign(P,_===!0?!0:(0,e._)`${P} > ${_} ? ${P} : ${_}`)),mergeValues:(y,_)=>y===!0?!0:Math.max(y,_),resultToName:(y,_)=>y.var("items",_)})};function w(y,_){if(_===!0)return y.var("props",!0);const P=y.var("props",(0,e._)`{}`);return _!==void 0&&E(y,P,_),P}te.evaluatedPropsToName=w;function E(y,_,P){Object.keys(P).forEach(T=>y.assign((0,e._)`${_}${(0,e.getProperty)(T)}`,!0))}te.setEvaluated=E;const f={};function h(y,_){return y.scopeValue("func",{ref:_,code:f[_.code]||(f[_.code]=new t._Code(_.code))})}te.useFunc=h;var l;(function(y){y[y.Num=0]="Num",y[y.Str=1]="Str"})(l||(te.Type=l={}));function p(y,_,P){if(y instanceof e.Name){const T=_===l.Num;return P?T?(0,e._)`"[" + ${y} + "]"`:(0,e._)`"['" + ${y} + "']"`:T?(0,e._)`"/" + ${y}`:(0,e._)`"/" + ${y}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return P?(0,e.getProperty)(y).toString():"/"+o(y)}te.getErrorPath=p;function S(y,_,P=y.opts.strictSchema){if(P){if(_=`strict mode: ${_}`,P===!0)throw new Error(_);y.self.logger.warn(_)}}return te.checkStrictMode=S,te}var Jt={},_i;function qe(){if(_i)return Jt;_i=1,Object.defineProperty(Jt,"__esModule",{value:!0});const e=ee(),t={data:new e.Name("data"),valCxt:new e.Name("valCxt"),instancePath:new e.Name("instancePath"),parentData:new e.Name("parentData"),parentDataProperty:new e.Name("parentDataProperty"),rootData:new e.Name("rootData"),dynamicAnchors:new e.Name("dynamicAnchors"),vErrors:new e.Name("vErrors"),errors:new e.Name("errors"),this:new e.Name("this"),self:new e.Name("self"),scope:new e.Name("scope"),json:new e.Name("json"),jsonPos:new e.Name("jsonPos"),jsonLen:new e.Name("jsonLen"),jsonPart:new e.Name("jsonPart")};return Jt.default=t,Jt}var wi;function Hn(){return wi||(wi=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;const t=ee(),s=ae(),r=qe();e.keywordError={message:({keyword:f})=>(0,t.str)`must pass "${f}" keyword validation`},e.keyword$DataError={message:({keyword:f,schemaType:h})=>h?(0,t.str)`"${f}" keyword must be ${h} ($data)`:(0,t.str)`"${f}" keyword is invalid ($data)`};function c(f,h=e.keywordError,l,p){const{it:S}=f,{gen:y,compositeRule:_,allErrors:P}=S,T=$(f,h,l);p??(_||P)?u(y,T):d(S,(0,t._)`[${T}]`)}e.reportError=c;function n(f,h=e.keywordError,l){const{it:p}=f,{gen:S,compositeRule:y,allErrors:_}=p,P=$(f,h,l);u(S,P),y||_||d(p,r.default.vErrors)}e.reportExtraError=n;function a(f,h){f.assign(r.default.errors,h),f.if((0,t._)`${r.default.vErrors} !== null`,()=>f.if(h,()=>f.assign((0,t._)`${r.default.vErrors}.length`,h),()=>f.assign(r.default.vErrors,null)))}e.resetErrorsCount=a;function i({gen:f,keyword:h,schemaValue:l,data:p,errsCount:S,it:y}){if(S===void 0)throw new Error("ajv implementation error");const _=f.name("err");f.forRange("i",S,r.default.errors,P=>{f.const(_,(0,t._)`${r.default.vErrors}[${P}]`),f.if((0,t._)`${_}.instancePath === undefined`,()=>f.assign((0,t._)`${_}.instancePath`,(0,t.strConcat)(r.default.instancePath,y.errorPath))),f.assign((0,t._)`${_}.schemaPath`,(0,t.str)`${y.errSchemaPath}/${h}`),y.opts.verbose&&(f.assign((0,t._)`${_}.schema`,l),f.assign((0,t._)`${_}.data`,p))})}e.extendErrors=i;function u(f,h){const l=f.const("err",h);f.if((0,t._)`${r.default.vErrors} === null`,()=>f.assign(r.default.vErrors,(0,t._)`[${l}]`),(0,t._)`${r.default.vErrors}.push(${l})`),f.code((0,t._)`${r.default.errors}++`)}function d(f,h){const{gen:l,validateName:p,schemaEnv:S}=f;S.$async?l.throw((0,t._)`new ${f.ValidationError}(${h})`):(l.assign((0,t._)`${p}.errors`,h),l.return(!1))}const o={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function $(f,h,l){const{createErrors:p}=f.it;return p===!1?(0,t._)`{}`:g(f,h,l)}function g(f,h,l={}){const{gen:p,it:S}=f,y=[v(S,l),w(f,l)];return E(f,h,y),p.object(...y)}function v({errorPath:f},{instancePath:h}){const l=h?(0,t.str)`${f}${(0,s.getErrorPath)(h,s.Type.Str)}`:f;return[r.default.instancePath,(0,t.strConcat)(r.default.instancePath,l)]}function w({keyword:f,it:{errSchemaPath:h}},{schemaPath:l,parentSchema:p}){let S=p?h:(0,t.str)`${h}/${f}`;return l&&(S=(0,t.str)`${S}${(0,s.getErrorPath)(l,s.Type.Str)}`),[o.schemaPath,S]}function E(f,{params:h,message:l},p){const{keyword:S,data:y,schemaValue:_,it:P}=f,{opts:T,propertyName:M,topSchemaRef:U,schemaPath:D}=P;p.push([o.keyword,S],[o.params,typeof h=="function"?h(f):h||(0,t._)`{}`]),T.messages&&p.push([o.message,typeof l=="function"?l(f):l]),T.verbose&&p.push([o.schema,_],[o.parentSchema,(0,t._)`${U}${D}`],[r.default.data,y]),M&&p.push([o.propertyName,M])}})(fs)),fs}var Ei;function kd(){if(Ei)return dt;Ei=1,Object.defineProperty(dt,"__esModule",{value:!0}),dt.boolOrEmptySchema=dt.topBoolOrEmptySchema=void 0;const e=Hn(),t=ee(),s=qe(),r={message:"boolean schema is false"};function c(i){const{gen:u,schema:d,validateName:o}=i;d===!1?a(i,!1):typeof d=="object"&&d.$async===!0?u.return(s.default.data):(u.assign((0,t._)`${o}.errors`,null),u.return(!0))}dt.topBoolOrEmptySchema=c;function n(i,u){const{gen:d,schema:o}=i;o===!1?(d.var(u,!1),a(i)):d.var(u,!0)}dt.boolOrEmptySchema=n;function a(i,u){const{gen:d,data:o}=i,$={gen:d,keyword:"false schema",data:o,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:i};(0,e.reportError)($,r,void 0,u)}return dt}var ge={},ft={},Si;function Ml(){if(Si)return ft;Si=1,Object.defineProperty(ft,"__esModule",{value:!0}),ft.getRules=ft.isJSONType=void 0;const e=["string","number","integer","boolean","null","object","array"],t=new Set(e);function s(c){return typeof c=="string"&&t.has(c)}ft.isJSONType=s;function r(){const c={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...c,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},c.number,c.string,c.array,c.object],post:{rules:[]},all:{},keywords:{}}}return ft.getRules=r,ft}var ze={},bi;function Ll(){if(bi)return ze;bi=1,Object.defineProperty(ze,"__esModule",{value:!0}),ze.shouldUseRule=ze.shouldUseGroup=ze.schemaHasRulesForType=void 0;function e({schema:r,self:c},n){const a=c.RULES.types[n];return a&&a!==!0&&t(r,a)}ze.schemaHasRulesForType=e;function t(r,c){return c.rules.some(n=>s(r,n))}ze.shouldUseGroup=t;function s(r,c){var n;return r[c.keyword]!==void 0||((n=c.definition.implements)===null||n===void 0?void 0:n.some(a=>r[a]!==void 0))}return ze.shouldUseRule=s,ze}var Pi;function Fn(){if(Pi)return ge;Pi=1,Object.defineProperty(ge,"__esModule",{value:!0}),ge.reportTypeError=ge.checkDataTypes=ge.checkDataType=ge.coerceAndCheckDataType=ge.getJSONTypes=ge.getSchemaTypes=ge.DataType=void 0;const e=Ml(),t=Ll(),s=Hn(),r=ee(),c=ae();var n;(function(l){l[l.Correct=0]="Correct",l[l.Wrong=1]="Wrong"})(n||(ge.DataType=n={}));function a(l){const p=i(l.type);if(p.includes("null")){if(l.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!p.length&&l.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');l.nullable===!0&&p.push("null")}return p}ge.getSchemaTypes=a;function i(l){const p=Array.isArray(l)?l:l?[l]:[];if(p.every(e.isJSONType))return p;throw new Error("type must be JSONType or JSONType[]: "+p.join(","))}ge.getJSONTypes=i;function u(l,p){const{gen:S,data:y,opts:_}=l,P=o(p,_.coerceTypes),T=p.length>0&&!(P.length===0&&p.length===1&&(0,t.schemaHasRulesForType)(l,p[0]));if(T){const M=w(p,y,_.strictNumbers,n.Wrong);S.if(M,()=>{P.length?$(l,p,P):f(l)})}return T}ge.coerceAndCheckDataType=u;const d=new Set(["string","number","integer","boolean","null"]);function o(l,p){return p?l.filter(S=>d.has(S)||p==="array"&&S==="array"):[]}function $(l,p,S){const{gen:y,data:_,opts:P}=l,T=y.let("dataType",(0,r._)`typeof ${_}`),M=y.let("coerced",(0,r._)`undefined`);P.coerceTypes==="array"&&y.if((0,r._)`${T} == 'object' && Array.isArray(${_}) && ${_}.length == 1`,()=>y.assign(_,(0,r._)`${_}[0]`).assign(T,(0,r._)`typeof ${_}`).if(w(p,_,P.strictNumbers),()=>y.assign(M,_))),y.if((0,r._)`${M} !== undefined`);for(const D of S)(d.has(D)||D==="array"&&P.coerceTypes==="array")&&U(D);y.else(),f(l),y.endIf(),y.if((0,r._)`${M} !== undefined`,()=>{y.assign(_,M),g(l,M)});function U(D){switch(D){case"string":y.elseIf((0,r._)`${T} == "number" || ${T} == "boolean"`).assign(M,(0,r._)`"" + ${_}`).elseIf((0,r._)`${_} === null`).assign(M,(0,r._)`""`);return;case"number":y.elseIf((0,r._)`${T} == "boolean" || ${_} === null
              || (${T} == "string" && ${_} && ${_} == +${_})`).assign(M,(0,r._)`+${_}`);return;case"integer":y.elseIf((0,r._)`${T} === "boolean" || ${_} === null
              || (${T} === "string" && ${_} && ${_} == +${_} && !(${_} % 1))`).assign(M,(0,r._)`+${_}`);return;case"boolean":y.elseIf((0,r._)`${_} === "false" || ${_} === 0 || ${_} === null`).assign(M,!1).elseIf((0,r._)`${_} === "true" || ${_} === 1`).assign(M,!0);return;case"null":y.elseIf((0,r._)`${_} === "" || ${_} === 0 || ${_} === false`),y.assign(M,null);return;case"array":y.elseIf((0,r._)`${T} === "string" || ${T} === "number"
              || ${T} === "boolean" || ${_} === null`).assign(M,(0,r._)`[${_}]`)}}}function g({gen:l,parentData:p,parentDataProperty:S},y){l.if((0,r._)`${p} !== undefined`,()=>l.assign((0,r._)`${p}[${S}]`,y))}function v(l,p,S,y=n.Correct){const _=y===n.Correct?r.operators.EQ:r.operators.NEQ;let P;switch(l){case"null":return(0,r._)`${p} ${_} null`;case"array":P=(0,r._)`Array.isArray(${p})`;break;case"object":P=(0,r._)`${p} && typeof ${p} == "object" && !Array.isArray(${p})`;break;case"integer":P=T((0,r._)`!(${p} % 1) && !isNaN(${p})`);break;case"number":P=T();break;default:return(0,r._)`typeof ${p} ${_} ${l}`}return y===n.Correct?P:(0,r.not)(P);function T(M=r.nil){return(0,r.and)((0,r._)`typeof ${p} == "number"`,M,S?(0,r._)`isFinite(${p})`:r.nil)}}ge.checkDataType=v;function w(l,p,S,y){if(l.length===1)return v(l[0],p,S,y);let _;const P=(0,c.toHash)(l);if(P.array&&P.object){const T=(0,r._)`typeof ${p} != "object"`;_=P.null?T:(0,r._)`!${p} || ${T}`,delete P.null,delete P.array,delete P.object}else _=r.nil;P.number&&delete P.integer;for(const T in P)_=(0,r.and)(_,v(T,p,S,y));return _}ge.checkDataTypes=w;const E={message:({schema:l})=>`must be ${l}`,params:({schema:l,schemaValue:p})=>typeof l=="string"?(0,r._)`{type: ${l}}`:(0,r._)`{type: ${p}}`};function f(l){const p=h(l);(0,s.reportError)(p,E)}ge.reportTypeError=f;function h(l){const{gen:p,data:S,schema:y}=l,_=(0,c.schemaRefOrVal)(l,y,"type");return{gen:p,keyword:"type",data:S,schema:y.type,schemaCode:_,schemaValue:_,parentSchema:y,params:{},it:l}}return ge}var Lt={},Ri;function qd(){if(Ri)return Lt;Ri=1,Object.defineProperty(Lt,"__esModule",{value:!0}),Lt.assignDefaults=void 0;const e=ee(),t=ae();function s(c,n){const{properties:a,items:i}=c.schema;if(n==="object"&&a)for(const u in a)r(c,u,a[u].default);else n==="array"&&Array.isArray(i)&&i.forEach((u,d)=>r(c,d,u.default))}Lt.assignDefaults=s;function r(c,n,a){const{gen:i,compositeRule:u,data:d,opts:o}=c;if(a===void 0)return;const $=(0,e._)`${d}${(0,e.getProperty)(n)}`;if(u){(0,t.checkStrictMode)(c,`default is ignored for: ${$}`);return}let g=(0,e._)`${$} === undefined`;o.useDefaults==="empty"&&(g=(0,e._)`${g} || ${$} === null || ${$} === ""`),i.if(g,(0,e._)`${$} = ${(0,e.stringify)(a)}`)}return Lt}var Ae={},fe={},Ni;function De(){if(Ni)return fe;Ni=1,Object.defineProperty(fe,"__esModule",{value:!0}),fe.validateUnion=fe.validateArray=fe.usePattern=fe.callValidateCode=fe.schemaProperties=fe.allSchemaProperties=fe.noPropertyInData=fe.propertyInData=fe.isOwnProperty=fe.hasPropFunc=fe.reportMissingProp=fe.checkMissingProp=fe.checkReportMissingProp=void 0;const e=ee(),t=ae(),s=qe(),r=ae();function c(l,p){const{gen:S,data:y,it:_}=l;S.if(o(S,y,p,_.opts.ownProperties),()=>{l.setParams({missingProperty:(0,e._)`${p}`},!0),l.error()})}fe.checkReportMissingProp=c;function n({gen:l,data:p,it:{opts:S}},y,_){return(0,e.or)(...y.map(P=>(0,e.and)(o(l,p,P,S.ownProperties),(0,e._)`${_} = ${P}`)))}fe.checkMissingProp=n;function a(l,p){l.setParams({missingProperty:p},!0),l.error()}fe.reportMissingProp=a;function i(l){return l.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,e._)`Object.prototype.hasOwnProperty`})}fe.hasPropFunc=i;function u(l,p,S){return(0,e._)`${i(l)}.call(${p}, ${S})`}fe.isOwnProperty=u;function d(l,p,S,y){const _=(0,e._)`${p}${(0,e.getProperty)(S)} !== undefined`;return y?(0,e._)`${_} && ${u(l,p,S)}`:_}fe.propertyInData=d;function o(l,p,S,y){const _=(0,e._)`${p}${(0,e.getProperty)(S)} === undefined`;return y?(0,e.or)(_,(0,e.not)(u(l,p,S))):_}fe.noPropertyInData=o;function $(l){return l?Object.keys(l).filter(p=>p!=="__proto__"):[]}fe.allSchemaProperties=$;function g(l,p){return $(p).filter(S=>!(0,t.alwaysValidSchema)(l,p[S]))}fe.schemaProperties=g;function v({schemaCode:l,data:p,it:{gen:S,topSchemaRef:y,schemaPath:_,errorPath:P},it:T},M,U,D){const V=D?(0,e._)`${l}, ${p}, ${y}${_}`:p,F=[[s.default.instancePath,(0,e.strConcat)(s.default.instancePath,P)],[s.default.parentData,T.parentData],[s.default.parentDataProperty,T.parentDataProperty],[s.default.rootData,s.default.rootData]];T.opts.dynamicRef&&F.push([s.default.dynamicAnchors,s.default.dynamicAnchors]);const q=(0,e._)`${V}, ${S.object(...F)}`;return U!==e.nil?(0,e._)`${M}.call(${U}, ${q})`:(0,e._)`${M}(${q})`}fe.callValidateCode=v;const w=(0,e._)`new RegExp`;function E({gen:l,it:{opts:p}},S){const y=p.unicodeRegExp?"u":"",{regExp:_}=p.code,P=_(S,y);return l.scopeValue("pattern",{key:P.toString(),ref:P,code:(0,e._)`${_.code==="new RegExp"?w:(0,r.useFunc)(l,_)}(${S}, ${y})`})}fe.usePattern=E;function f(l){const{gen:p,data:S,keyword:y,it:_}=l,P=p.name("valid");if(_.allErrors){const M=p.let("valid",!0);return T(()=>p.assign(M,!1)),M}return p.var(P,!0),T(()=>p.break()),P;function T(M){const U=p.const("len",(0,e._)`${S}.length`);p.forRange("i",0,U,D=>{l.subschema({keyword:y,dataProp:D,dataPropType:t.Type.Num},P),p.if((0,e.not)(P),M)})}}fe.validateArray=f;function h(l){const{gen:p,schema:S,keyword:y,it:_}=l;if(!Array.isArray(S))throw new Error("ajv implementation error");if(S.some(U=>(0,t.alwaysValidSchema)(_,U))&&!_.opts.unevaluated)return;const T=p.let("valid",!1),M=p.name("_valid");p.block(()=>S.forEach((U,D)=>{const V=l.subschema({keyword:y,schemaProp:D,compositeRule:!0},M);p.assign(T,(0,e._)`${T} || ${M}`),l.mergeValidEvaluated(V,M)||p.if((0,e.not)(T))})),l.result(T,()=>l.reset(),()=>l.error(!0))}return fe.validateUnion=h,fe}var Ii;function Dd(){if(Ii)return Ae;Ii=1,Object.defineProperty(Ae,"__esModule",{value:!0}),Ae.validateKeywordUsage=Ae.validSchemaType=Ae.funcKeywordCode=Ae.macroKeywordCode=void 0;const e=ee(),t=qe(),s=De(),r=Hn();function c(g,v){const{gen:w,keyword:E,schema:f,parentSchema:h,it:l}=g,p=v.macro.call(l.self,f,h,l),S=d(w,E,p);l.opts.validateSchema!==!1&&l.self.validateSchema(p,!0);const y=w.name("valid");g.subschema({schema:p,schemaPath:e.nil,errSchemaPath:`${l.errSchemaPath}/${E}`,topSchemaRef:S,compositeRule:!0},y),g.pass(y,()=>g.error(!0))}Ae.macroKeywordCode=c;function n(g,v){var w;const{gen:E,keyword:f,schema:h,parentSchema:l,$data:p,it:S}=g;u(S,v);const y=!p&&v.compile?v.compile.call(S.self,h,l,S):v.validate,_=d(E,f,y),P=E.let("valid");g.block$data(P,T),g.ok((w=v.valid)!==null&&w!==void 0?w:P);function T(){if(v.errors===!1)D(),v.modifying&&a(g),V(()=>g.error());else{const F=v.async?M():U();v.modifying&&a(g),V(()=>i(g,F))}}function M(){const F=E.let("ruleErrs",null);return E.try(()=>D((0,e._)`await `),q=>E.assign(P,!1).if((0,e._)`${q} instanceof ${S.ValidationError}`,()=>E.assign(F,(0,e._)`${q}.errors`),()=>E.throw(q))),F}function U(){const F=(0,e._)`${_}.errors`;return E.assign(F,null),D(e.nil),F}function D(F=v.async?(0,e._)`await `:e.nil){const q=S.opts.passContext?t.default.this:t.default.self,z=!("compile"in v&&!p||v.schema===!1);E.assign(P,(0,e._)`${F}${(0,s.callValidateCode)(g,_,q,z)}`,v.modifying)}function V(F){var q;E.if((0,e.not)((q=v.valid)!==null&&q!==void 0?q:P),F)}}Ae.funcKeywordCode=n;function a(g){const{gen:v,data:w,it:E}=g;v.if(E.parentData,()=>v.assign(w,(0,e._)`${E.parentData}[${E.parentDataProperty}]`))}function i(g,v){const{gen:w}=g;w.if((0,e._)`Array.isArray(${v})`,()=>{w.assign(t.default.vErrors,(0,e._)`${t.default.vErrors} === null ? ${v} : ${t.default.vErrors}.concat(${v})`).assign(t.default.errors,(0,e._)`${t.default.vErrors}.length`),(0,r.extendErrors)(g)},()=>g.error())}function u({schemaEnv:g},v){if(v.async&&!g.$async)throw new Error("async keyword in sync schema")}function d(g,v,w){if(w===void 0)throw new Error(`keyword "${v}" failed to compile`);return g.scopeValue("keyword",typeof w=="function"?{ref:w}:{ref:w,code:(0,e.stringify)(w)})}function o(g,v,w=!1){return!v.length||v.some(E=>E==="array"?Array.isArray(g):E==="object"?g&&typeof g=="object"&&!Array.isArray(g):typeof g==E||w&&typeof g>"u")}Ae.validSchemaType=o;function $({schema:g,opts:v,self:w,errSchemaPath:E},f,h){if(Array.isArray(f.keyword)?!f.keyword.includes(h):f.keyword!==h)throw new Error("ajv implementation error");const l=f.dependencies;if(l?.some(p=>!Object.prototype.hasOwnProperty.call(g,p)))throw new Error(`parent schema must have dependencies of ${h}: ${l.join(",")}`);if(f.validateSchema&&!f.validateSchema(g[h])){const S=`keyword "${h}" value is invalid at path "${E}": `+w.errorsText(f.validateSchema.errors);if(v.validateSchema==="log")w.logger.error(S);else throw new Error(S)}}return Ae.validateKeywordUsage=$,Ae}var Ge={},Oi;function Md(){if(Oi)return Ge;Oi=1,Object.defineProperty(Ge,"__esModule",{value:!0}),Ge.extendSubschemaMode=Ge.extendSubschemaData=Ge.getSubschema=void 0;const e=ee(),t=ae();function s(n,{keyword:a,schemaProp:i,schema:u,schemaPath:d,errSchemaPath:o,topSchemaRef:$}){if(a!==void 0&&u!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(a!==void 0){const g=n.schema[a];return i===void 0?{schema:g,schemaPath:(0,e._)`${n.schemaPath}${(0,e.getProperty)(a)}`,errSchemaPath:`${n.errSchemaPath}/${a}`}:{schema:g[i],schemaPath:(0,e._)`${n.schemaPath}${(0,e.getProperty)(a)}${(0,e.getProperty)(i)}`,errSchemaPath:`${n.errSchemaPath}/${a}/${(0,t.escapeFragment)(i)}`}}if(u!==void 0){if(d===void 0||o===void 0||$===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:u,schemaPath:d,topSchemaRef:$,errSchemaPath:o}}throw new Error('either "keyword" or "schema" must be passed')}Ge.getSubschema=s;function r(n,a,{dataProp:i,dataPropType:u,data:d,dataTypes:o,propertyName:$}){if(d!==void 0&&i!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:g}=a;if(i!==void 0){const{errorPath:w,dataPathArr:E,opts:f}=a,h=g.let("data",(0,e._)`${a.data}${(0,e.getProperty)(i)}`,!0);v(h),n.errorPath=(0,e.str)`${w}${(0,t.getErrorPath)(i,u,f.jsPropertySyntax)}`,n.parentDataProperty=(0,e._)`${i}`,n.dataPathArr=[...E,n.parentDataProperty]}if(d!==void 0){const w=d instanceof e.Name?d:g.let("data",d,!0);v(w),$!==void 0&&(n.propertyName=$)}o&&(n.dataTypes=o);function v(w){n.data=w,n.dataLevel=a.dataLevel+1,n.dataTypes=[],a.definedProperties=new Set,n.parentData=a.data,n.dataNames=[...a.dataNames,w]}}Ge.extendSubschemaData=r;function c(n,{jtdDiscriminator:a,jtdMetadata:i,compositeRule:u,createErrors:d,allErrors:o}){u!==void 0&&(n.compositeRule=u),d!==void 0&&(n.createErrors=d),o!==void 0&&(n.allErrors=o),n.jtdDiscriminator=a,n.jtdMetadata=i}return Ge.extendSubschemaMode=c,Ge}var Se={},ys,Ti;function Bn(){return Ti||(Ti=1,ys=function e(t,s){if(t===s)return!0;if(t&&s&&typeof t=="object"&&typeof s=="object"){if(t.constructor!==s.constructor)return!1;var r,c,n;if(Array.isArray(t)){if(r=t.length,r!=s.length)return!1;for(c=r;c--!==0;)if(!e(t[c],s[c]))return!1;return!0}if(t.constructor===RegExp)return t.source===s.source&&t.flags===s.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===s.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===s.toString();if(n=Object.keys(t),r=n.length,r!==Object.keys(s).length)return!1;for(c=r;c--!==0;)if(!Object.prototype.hasOwnProperty.call(s,n[c]))return!1;for(c=r;c--!==0;){var a=n[c];if(!e(t[a],s[a]))return!1}return!0}return t!==t&&s!==s}),ys}var vs={exports:{}},ji;function Ld(){if(ji)return vs.exports;ji=1;var e=vs.exports=function(r,c,n){typeof c=="function"&&(n=c,c={}),n=c.cb||n;var a=typeof n=="function"?n:n.pre||function(){},i=n.post||function(){};t(c,a,i,r,"",r)};e.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},e.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},e.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},e.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function t(r,c,n,a,i,u,d,o,$,g){if(a&&typeof a=="object"&&!Array.isArray(a)){c(a,i,u,d,o,$,g);for(var v in a){var w=a[v];if(Array.isArray(w)){if(v in e.arrayKeywords)for(var E=0;E<w.length;E++)t(r,c,n,w[E],i+"/"+v+"/"+E,u,i,v,a,E)}else if(v in e.propsKeywords){if(w&&typeof w=="object")for(var f in w)t(r,c,n,w[f],i+"/"+v+"/"+s(f),u,i,v,a,f)}else(v in e.keywords||r.allKeys&&!(v in e.skipKeywords))&&t(r,c,n,w,i+"/"+v,u,i,v,a)}n(a,i,u,d,o,$,g)}}function s(r){return r.replace(/~/g,"~0").replace(/\//g,"~1")}return vs.exports}var Ci;function Wn(){if(Ci)return Se;Ci=1,Object.defineProperty(Se,"__esModule",{value:!0}),Se.getSchemaRefs=Se.resolveUrl=Se.normalizeId=Se._getFullPath=Se.getFullPath=Se.inlineRef=void 0;const e=ae(),t=Bn(),s=Ld(),r=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function c(E,f=!0){return typeof E=="boolean"?!0:f===!0?!a(E):f?i(E)<=f:!1}Se.inlineRef=c;const n=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function a(E){for(const f in E){if(n.has(f))return!0;const h=E[f];if(Array.isArray(h)&&h.some(a)||typeof h=="object"&&a(h))return!0}return!1}function i(E){let f=0;for(const h in E){if(h==="$ref")return 1/0;if(f++,!r.has(h)&&(typeof E[h]=="object"&&(0,e.eachItem)(E[h],l=>f+=i(l)),f===1/0))return 1/0}return f}function u(E,f="",h){h!==!1&&(f=$(f));const l=E.parse(f);return d(E,l)}Se.getFullPath=u;function d(E,f){return E.serialize(f).split("#")[0]+"#"}Se._getFullPath=d;const o=/#\/?$/;function $(E){return E?E.replace(o,""):""}Se.normalizeId=$;function g(E,f,h){return h=$(h),E.resolve(f,h)}Se.resolveUrl=g;const v=/^[a-z_][-a-z0-9._]*$/i;function w(E,f){if(typeof E=="boolean")return{};const{schemaId:h,uriResolver:l}=this.opts,p=$(E[h]||f),S={"":p},y=u(l,p,!1),_={},P=new Set;return s(E,{allKeys:!0},(U,D,V,F)=>{if(F===void 0)return;const q=y+D;let z=S[F];typeof U[h]=="string"&&(z=W.call(this,U[h])),x.call(this,U.$anchor),x.call(this,U.$dynamicAnchor),S[D]=z;function W(B){const X=this.opts.uriResolver.resolve;if(B=$(z?X(z,B):B),P.has(B))throw M(B);P.add(B);let A=this.refs[B];return typeof A=="string"&&(A=this.refs[A]),typeof A=="object"?T(U,A.schema,B):B!==$(q)&&(B[0]==="#"?(T(U,_[B],B),_[B]=U):this.refs[B]=q),B}function x(B){if(typeof B=="string"){if(!v.test(B))throw new Error(`invalid anchor "${B}"`);W.call(this,`#${B}`)}}}),_;function T(U,D,V){if(D!==void 0&&!t(U,D))throw M(V)}function M(U){return new Error(`reference "${U}" resolves to more than one schema`)}}return Se.getSchemaRefs=w,Se}var Ai;function Xn(){if(Ai)return Ue;Ai=1,Object.defineProperty(Ue,"__esModule",{value:!0}),Ue.getData=Ue.KeywordCxt=Ue.validateFunctionCode=void 0;const e=kd(),t=Fn(),s=Ll(),r=Fn(),c=qd(),n=Dd(),a=Md(),i=ee(),u=qe(),d=Wn(),o=ae(),$=Hn();function g(R){if(y(R)&&(P(R),S(R))){f(R);return}v(R,()=>(0,e.topBoolOrEmptySchema)(R))}Ue.validateFunctionCode=g;function v({gen:R,validateName:O,schema:k,schemaEnv:L,opts:H},J){H.code.es5?R.func(O,(0,i._)`${u.default.data}, ${u.default.valCxt}`,L.$async,()=>{R.code((0,i._)`"use strict"; ${l(k,H)}`),E(R,H),R.code(J)}):R.func(O,(0,i._)`${u.default.data}, ${w(H)}`,L.$async,()=>R.code(l(k,H)).code(J))}function w(R){return(0,i._)`{${u.default.instancePath}="", ${u.default.parentData}, ${u.default.parentDataProperty}, ${u.default.rootData}=${u.default.data}${R.dynamicRef?(0,i._)`, ${u.default.dynamicAnchors}={}`:i.nil}}={}`}function E(R,O){R.if(u.default.valCxt,()=>{R.var(u.default.instancePath,(0,i._)`${u.default.valCxt}.${u.default.instancePath}`),R.var(u.default.parentData,(0,i._)`${u.default.valCxt}.${u.default.parentData}`),R.var(u.default.parentDataProperty,(0,i._)`${u.default.valCxt}.${u.default.parentDataProperty}`),R.var(u.default.rootData,(0,i._)`${u.default.valCxt}.${u.default.rootData}`),O.dynamicRef&&R.var(u.default.dynamicAnchors,(0,i._)`${u.default.valCxt}.${u.default.dynamicAnchors}`)},()=>{R.var(u.default.instancePath,(0,i._)`""`),R.var(u.default.parentData,(0,i._)`undefined`),R.var(u.default.parentDataProperty,(0,i._)`undefined`),R.var(u.default.rootData,u.default.data),O.dynamicRef&&R.var(u.default.dynamicAnchors,(0,i._)`{}`)})}function f(R){const{schema:O,opts:k,gen:L}=R;v(R,()=>{k.$comment&&O.$comment&&F(R),U(R),L.let(u.default.vErrors,null),L.let(u.default.errors,0),k.unevaluated&&h(R),T(R),q(R)})}function h(R){const{gen:O,validateName:k}=R;R.evaluated=O.const("evaluated",(0,i._)`${k}.evaluated`),O.if((0,i._)`${R.evaluated}.dynamicProps`,()=>O.assign((0,i._)`${R.evaluated}.props`,(0,i._)`undefined`)),O.if((0,i._)`${R.evaluated}.dynamicItems`,()=>O.assign((0,i._)`${R.evaluated}.items`,(0,i._)`undefined`))}function l(R,O){const k=typeof R=="object"&&R[O.schemaId];return k&&(O.code.source||O.code.process)?(0,i._)`/*# sourceURL=${k} */`:i.nil}function p(R,O){if(y(R)&&(P(R),S(R))){_(R,O);return}(0,e.boolOrEmptySchema)(R,O)}function S({schema:R,self:O}){if(typeof R=="boolean")return!R;for(const k in R)if(O.RULES.all[k])return!0;return!1}function y(R){return typeof R.schema!="boolean"}function _(R,O){const{schema:k,gen:L,opts:H}=R;H.$comment&&k.$comment&&F(R),D(R),V(R);const J=L.const("_errs",u.default.errors);T(R,J),L.var(O,(0,i._)`${J} === ${u.default.errors}`)}function P(R){(0,o.checkUnknownRules)(R),M(R)}function T(R,O){if(R.opts.jtd)return W(R,[],!1,O);const k=(0,t.getSchemaTypes)(R.schema),L=(0,t.coerceAndCheckDataType)(R,k);W(R,k,!L,O)}function M(R){const{schema:O,errSchemaPath:k,opts:L,self:H}=R;O.$ref&&L.ignoreKeywordsWithRef&&(0,o.schemaHasRulesButRef)(O,H.RULES)&&H.logger.warn(`$ref: keywords ignored in schema at path "${k}"`)}function U(R){const{schema:O,opts:k}=R;O.default!==void 0&&k.useDefaults&&k.strictSchema&&(0,o.checkStrictMode)(R,"default is ignored in the schema root")}function D(R){const O=R.schema[R.opts.schemaId];O&&(R.baseId=(0,d.resolveUrl)(R.opts.uriResolver,R.baseId,O))}function V(R){if(R.schema.$async&&!R.schemaEnv.$async)throw new Error("async schema in sync schema")}function F({gen:R,schemaEnv:O,schema:k,errSchemaPath:L,opts:H}){const J=k.$comment;if(H.$comment===!0)R.code((0,i._)`${u.default.self}.logger.log(${J})`);else if(typeof H.$comment=="function"){const ie=(0,i.str)`${L}/$comment`,ye=R.scopeValue("root",{ref:O.root});R.code((0,i._)`${u.default.self}.opts.$comment(${J}, ${ie}, ${ye}.schema)`)}}function q(R){const{gen:O,schemaEnv:k,validateName:L,ValidationError:H,opts:J}=R;k.$async?O.if((0,i._)`${u.default.errors} === 0`,()=>O.return(u.default.data),()=>O.throw((0,i._)`new ${H}(${u.default.vErrors})`)):(O.assign((0,i._)`${L}.errors`,u.default.vErrors),J.unevaluated&&z(R),O.return((0,i._)`${u.default.errors} === 0`))}function z({gen:R,evaluated:O,props:k,items:L}){k instanceof i.Name&&R.assign((0,i._)`${O}.props`,k),L instanceof i.Name&&R.assign((0,i._)`${O}.items`,L)}function W(R,O,k,L){const{gen:H,schema:J,data:ie,allErrors:ye,opts:le,self:de}=R,{RULES:oe}=de;if(J.$ref&&(le.ignoreKeywordsWithRef||!(0,o.schemaHasRulesButRef)(J,oe))){H.block(()=>G(R,"$ref",oe.all.$ref.definition));return}le.jtd||B(R,O),H.block(()=>{for(const me of oe.rules)Re(me);Re(oe.post)});function Re(me){(0,s.shouldUseGroup)(J,me)&&(me.type?(H.if((0,r.checkDataType)(me.type,ie,le.strictNumbers)),x(R,me),O.length===1&&O[0]===me.type&&k&&(H.else(),(0,r.reportTypeError)(R)),H.endIf()):x(R,me),ye||H.if((0,i._)`${u.default.errors} === ${L||0}`))}}function x(R,O){const{gen:k,schema:L,opts:{useDefaults:H}}=R;H&&(0,c.assignDefaults)(R,O.type),k.block(()=>{for(const J of O.rules)(0,s.shouldUseRule)(L,J)&&G(R,J.keyword,J.definition,O.type)})}function B(R,O){R.schemaEnv.meta||!R.opts.strictTypes||(X(R,O),R.opts.allowUnionTypes||A(R,O),N(R,R.dataTypes))}function X(R,O){if(O.length){if(!R.dataTypes.length){R.dataTypes=O;return}O.forEach(k=>{I(R.dataTypes,k)||b(R,`type "${k}" not allowed by context "${R.dataTypes.join(",")}"`)}),m(R,O)}}function A(R,O){O.length>1&&!(O.length===2&&O.includes("null"))&&b(R,"use allowUnionTypes to allow union type keyword")}function N(R,O){const k=R.self.RULES.all;for(const L in k){const H=k[L];if(typeof H=="object"&&(0,s.shouldUseRule)(R.schema,H)){const{type:J}=H.definition;J.length&&!J.some(ie=>C(O,ie))&&b(R,`missing type "${J.join(",")}" for keyword "${L}"`)}}}function C(R,O){return R.includes(O)||O==="number"&&R.includes("integer")}function I(R,O){return R.includes(O)||O==="integer"&&R.includes("number")}function m(R,O){const k=[];for(const L of R.dataTypes)I(O,L)?k.push(L):O.includes("integer")&&L==="number"&&k.push("integer");R.dataTypes=k}function b(R,O){const k=R.schemaEnv.baseId+R.errSchemaPath;O+=` at "${k}" (strictTypes)`,(0,o.checkStrictMode)(R,O,R.opts.strictTypes)}class j{constructor(O,k,L){if((0,n.validateKeywordUsage)(O,k,L),this.gen=O.gen,this.allErrors=O.allErrors,this.keyword=L,this.data=O.data,this.schema=O.schema[L],this.$data=k.$data&&O.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,o.schemaRefOrVal)(O,this.schema,L,this.$data),this.schemaType=k.schemaType,this.parentSchema=O.schema,this.params={},this.it=O,this.def=k,this.$data)this.schemaCode=O.gen.const("vSchema",Y(this.$data,O));else if(this.schemaCode=this.schemaValue,!(0,n.validSchemaType)(this.schema,k.schemaType,k.allowUndefined))throw new Error(`${L} value must be ${JSON.stringify(k.schemaType)}`);("code"in k?k.trackErrors:k.errors!==!1)&&(this.errsCount=O.gen.const("_errs",u.default.errors))}result(O,k,L){this.failResult((0,i.not)(O),k,L)}failResult(O,k,L){this.gen.if(O),L?L():this.error(),k?(this.gen.else(),k(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(O,k){this.failResult((0,i.not)(O),void 0,k)}fail(O){if(O===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(O),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(O){if(!this.$data)return this.fail(O);const{schemaCode:k}=this;this.fail((0,i._)`${k} !== undefined && (${(0,i.or)(this.invalid$data(),O)})`)}error(O,k,L){if(k){this.setParams(k),this._error(O,L),this.setParams({});return}this._error(O,L)}_error(O,k){(O?$.reportExtraError:$.reportError)(this,this.def.error,k)}$dataError(){(0,$.reportError)(this,this.def.$dataError||$.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,$.resetErrorsCount)(this.gen,this.errsCount)}ok(O){this.allErrors||this.gen.if(O)}setParams(O,k){k?Object.assign(this.params,O):this.params=O}block$data(O,k,L=i.nil){this.gen.block(()=>{this.check$data(O,L),k()})}check$data(O=i.nil,k=i.nil){if(!this.$data)return;const{gen:L,schemaCode:H,schemaType:J,def:ie}=this;L.if((0,i.or)((0,i._)`${H} === undefined`,k)),O!==i.nil&&L.assign(O,!0),(J.length||ie.validateSchema)&&(L.elseIf(this.invalid$data()),this.$dataError(),O!==i.nil&&L.assign(O,!1)),L.else()}invalid$data(){const{gen:O,schemaCode:k,schemaType:L,def:H,it:J}=this;return(0,i.or)(ie(),ye());function ie(){if(L.length){if(!(k instanceof i.Name))throw new Error("ajv implementation error");const le=Array.isArray(L)?L:[L];return(0,i._)`${(0,r.checkDataTypes)(le,k,J.opts.strictNumbers,r.DataType.Wrong)}`}return i.nil}function ye(){if(H.validateSchema){const le=O.scopeValue("validate$data",{ref:H.validateSchema});return(0,i._)`!${le}(${k})`}return i.nil}}subschema(O,k){const L=(0,a.getSubschema)(this.it,O);(0,a.extendSubschemaData)(L,this.it,O),(0,a.extendSubschemaMode)(L,O);const H={...this.it,...L,items:void 0,props:void 0};return p(H,k),H}mergeEvaluated(O,k){const{it:L,gen:H}=this;L.opts.unevaluated&&(L.props!==!0&&O.props!==void 0&&(L.props=o.mergeEvaluated.props(H,O.props,L.props,k)),L.items!==!0&&O.items!==void 0&&(L.items=o.mergeEvaluated.items(H,O.items,L.items,k)))}mergeValidEvaluated(O,k){const{it:L,gen:H}=this;if(L.opts.unevaluated&&(L.props!==!0||L.items!==!0))return H.if(k,()=>this.mergeEvaluated(O,i.Name)),!0}}Ue.KeywordCxt=j;function G(R,O,k,L){const H=new j(R,k,O);"code"in k?k.code(H,L):H.$data&&k.validate?(0,n.funcKeywordCode)(H,k):"macro"in k?(0,n.macroKeywordCode)(H,k):(k.compile||k.validate)&&(0,n.funcKeywordCode)(H,k)}const K=/^\/(?:[^~]|~0|~1)*$/,Z=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function Y(R,{dataLevel:O,dataNames:k,dataPathArr:L}){let H,J;if(R==="")return u.default.rootData;if(R[0]==="/"){if(!K.test(R))throw new Error(`Invalid JSON-pointer: ${R}`);H=R,J=u.default.rootData}else{const de=Z.exec(R);if(!de)throw new Error(`Invalid JSON-pointer: ${R}`);const oe=+de[1];if(H=de[2],H==="#"){if(oe>=O)throw new Error(le("property/index",oe));return L[O-oe]}if(oe>O)throw new Error(le("data",oe));if(J=k[O-oe],!H)return J}let ie=J;const ye=H.split("/");for(const de of ye)de&&(J=(0,i._)`${J}${(0,i.getProperty)((0,o.unescapeJsonPointer)(de))}`,ie=(0,i._)`${ie} && ${J}`);return ie;function le(de,oe){return`Cannot access ${de} ${oe} levels up, current level is ${O}`}}return Ue.getData=Y,Ue}var Yt={},ki;function Ya(){if(ki)return Yt;ki=1,Object.defineProperty(Yt,"__esModule",{value:!0});class e extends Error{constructor(s){super("validation failed"),this.errors=s,this.ajv=this.validation=!0}}return Yt.default=e,Yt}var Zt={},qi;function Jn(){if(qi)return Zt;qi=1,Object.defineProperty(Zt,"__esModule",{value:!0});const e=Wn();class t extends Error{constructor(r,c,n,a){super(a||`can't resolve reference ${n} from id ${c}`),this.missingRef=(0,e.resolveUrl)(r,c,n),this.missingSchema=(0,e.normalizeId)((0,e.getFullPath)(r,this.missingRef))}}return Zt.default=t,Zt}var Oe={},Di;function Yn(){if(Di)return Oe;Di=1,Object.defineProperty(Oe,"__esModule",{value:!0}),Oe.resolveSchema=Oe.getCompilingSchema=Oe.resolveRef=Oe.compileSchema=Oe.SchemaEnv=void 0;const e=ee(),t=Ya(),s=qe(),r=Wn(),c=ae(),n=Xn();class a{constructor(h){var l;this.refs={},this.dynamicAnchors={};let p;typeof h.schema=="object"&&(p=h.schema),this.schema=h.schema,this.schemaId=h.schemaId,this.root=h.root||this,this.baseId=(l=h.baseId)!==null&&l!==void 0?l:(0,r.normalizeId)(p?.[h.schemaId||"$id"]),this.schemaPath=h.schemaPath,this.localRefs=h.localRefs,this.meta=h.meta,this.$async=p?.$async,this.refs={}}}Oe.SchemaEnv=a;function i(f){const h=o.call(this,f);if(h)return h;const l=(0,r.getFullPath)(this.opts.uriResolver,f.root.baseId),{es5:p,lines:S}=this.opts.code,{ownProperties:y}=this.opts,_=new e.CodeGen(this.scope,{es5:p,lines:S,ownProperties:y});let P;f.$async&&(P=_.scopeValue("Error",{ref:t.default,code:(0,e._)`require("ajv/dist/runtime/validation_error").default`}));const T=_.scopeName("validate");f.validateName=T;const M={gen:_,allErrors:this.opts.allErrors,data:s.default.data,parentData:s.default.parentData,parentDataProperty:s.default.parentDataProperty,dataNames:[s.default.data],dataPathArr:[e.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:_.scopeValue("schema",this.opts.code.source===!0?{ref:f.schema,code:(0,e.stringify)(f.schema)}:{ref:f.schema}),validateName:T,ValidationError:P,schema:f.schema,schemaEnv:f,rootId:l,baseId:f.baseId||l,schemaPath:e.nil,errSchemaPath:f.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,e._)`""`,opts:this.opts,self:this};let U;try{this._compilations.add(f),(0,n.validateFunctionCode)(M),_.optimize(this.opts.code.optimize);const D=_.toString();U=`${_.scopeRefs(s.default.scope)}return ${D}`,this.opts.code.process&&(U=this.opts.code.process(U,f));const F=new Function(`${s.default.self}`,`${s.default.scope}`,U)(this,this.scope.get());if(this.scope.value(T,{ref:F}),F.errors=null,F.schema=f.schema,F.schemaEnv=f,f.$async&&(F.$async=!0),this.opts.code.source===!0&&(F.source={validateName:T,validateCode:D,scopeValues:_._values}),this.opts.unevaluated){const{props:q,items:z}=M;F.evaluated={props:q instanceof e.Name?void 0:q,items:z instanceof e.Name?void 0:z,dynamicProps:q instanceof e.Name,dynamicItems:z instanceof e.Name},F.source&&(F.source.evaluated=(0,e.stringify)(F.evaluated))}return f.validate=F,f}catch(D){throw delete f.validate,delete f.validateName,U&&this.logger.error("Error compiling schema, function code:",U),D}finally{this._compilations.delete(f)}}Oe.compileSchema=i;function u(f,h,l){var p;l=(0,r.resolveUrl)(this.opts.uriResolver,h,l);const S=f.refs[l];if(S)return S;let y=g.call(this,f,l);if(y===void 0){const _=(p=f.localRefs)===null||p===void 0?void 0:p[l],{schemaId:P}=this.opts;_&&(y=new a({schema:_,schemaId:P,root:f,baseId:h}))}if(y!==void 0)return f.refs[l]=d.call(this,y)}Oe.resolveRef=u;function d(f){return(0,r.inlineRef)(f.schema,this.opts.inlineRefs)?f.schema:f.validate?f:i.call(this,f)}function o(f){for(const h of this._compilations)if($(h,f))return h}Oe.getCompilingSchema=o;function $(f,h){return f.schema===h.schema&&f.root===h.root&&f.baseId===h.baseId}function g(f,h){let l;for(;typeof(l=this.refs[h])=="string";)h=l;return l||this.schemas[h]||v.call(this,f,h)}function v(f,h){const l=this.opts.uriResolver.parse(h),p=(0,r._getFullPath)(this.opts.uriResolver,l);let S=(0,r.getFullPath)(this.opts.uriResolver,f.baseId,void 0);if(Object.keys(f.schema).length>0&&p===S)return E.call(this,l,f);const y=(0,r.normalizeId)(p),_=this.refs[y]||this.schemas[y];if(typeof _=="string"){const P=v.call(this,f,_);return typeof P?.schema!="object"?void 0:E.call(this,l,P)}if(typeof _?.schema=="object"){if(_.validate||i.call(this,_),y===(0,r.normalizeId)(h)){const{schema:P}=_,{schemaId:T}=this.opts,M=P[T];return M&&(S=(0,r.resolveUrl)(this.opts.uriResolver,S,M)),new a({schema:P,schemaId:T,root:f,baseId:S})}return E.call(this,l,_)}}Oe.resolveSchema=v;const w=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function E(f,{baseId:h,schema:l,root:p}){var S;if(((S=f.fragment)===null||S===void 0?void 0:S[0])!=="/")return;for(const P of f.fragment.slice(1).split("/")){if(typeof l=="boolean")return;const T=l[(0,c.unescapeFragment)(P)];if(T===void 0)return;l=T;const M=typeof l=="object"&&l[this.opts.schemaId];!w.has(P)&&M&&(h=(0,r.resolveUrl)(this.opts.uriResolver,h,M))}let y;if(typeof l!="boolean"&&l.$ref&&!(0,c.schemaHasRulesButRef)(l,this.RULES)){const P=(0,r.resolveUrl)(this.opts.uriResolver,h,l.$ref);y=v.call(this,p,P)}const{schemaId:_}=this.opts;if(y=y||new a({schema:l,schemaId:_,root:p,baseId:h}),y.schema!==y.root.schema)return y}return Oe}const Vd="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",Fd="Meta-schema for $data reference (JSON AnySchema extension proposal)",Ud="object",zd=["$data"],Gd={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},xd=!1,Kd={$id:Vd,description:Fd,type:Ud,required:zd,properties:Gd,additionalProperties:xd};var Qt={},Vt={exports:{}},gs,Mi;function Vl(){if(Mi)return gs;Mi=1;const e=RegExp.prototype.test.bind(/^[\da-f]{8}-[\da-f]{4}-[\da-f]{4}-[\da-f]{4}-[\da-f]{12}$/iu),t=RegExp.prototype.test.bind(/^(?:(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)$/u);function s(g){let v="",w=0,E=0;for(E=0;E<g.length;E++)if(w=g[E].charCodeAt(0),w!==48){if(!(w>=48&&w<=57||w>=65&&w<=70||w>=97&&w<=102))return"";v+=g[E];break}for(E+=1;E<g.length;E++){if(w=g[E].charCodeAt(0),!(w>=48&&w<=57||w>=65&&w<=70||w>=97&&w<=102))return"";v+=g[E]}return v}const r=RegExp.prototype.test.bind(/[^!"$&'()*+,\-.;=_`a-z{}~]/u);function c(g){return g.length=0,!0}function n(g,v,w){if(g.length){const E=s(g);if(E!=="")v.push(E);else return w.error=!0,!1;g.length=0}return!0}function a(g){let v=0;const w={error:!1,address:"",zone:""},E=[],f=[];let h=!1,l=!1,p=n;for(let S=0;S<g.length;S++){const y=g[S];if(!(y==="["||y==="]"))if(y===":"){if(h===!0&&(l=!0),!p(f,E,w))break;if(++v>7){w.error=!0;break}S>0&&g[S-1]===":"&&(h=!0),E.push(":");continue}else if(y==="%"){if(!p(f,E,w))break;p=c}else{f.push(y);continue}}return f.length&&(p===c?w.zone=f.join(""):l?E.push(f.join("")):E.push(s(f))),w.address=E.join(""),w}function i(g){if(u(g,":")<2)return{host:g,isIPV6:!1};const v=a(g);if(v.error)return{host:g,isIPV6:!1};{let w=v.address,E=v.address;return v.zone&&(w+="%"+v.zone,E+="%25"+v.zone),{host:w,isIPV6:!0,escapedHost:E}}}function u(g,v){let w=0;for(let E=0;E<g.length;E++)g[E]===v&&w++;return w}function d(g){let v=g;const w=[];let E=-1,f=0;for(;f=v.length;){if(f===1){if(v===".")break;if(v==="/"){w.push("/");break}else{w.push(v);break}}else if(f===2){if(v[0]==="."){if(v[1]===".")break;if(v[1]==="/"){v=v.slice(2);continue}}else if(v[0]==="/"&&(v[1]==="."||v[1]==="/")){w.push("/");break}}else if(f===3&&v==="/.."){w.length!==0&&w.pop(),w.push("/");break}if(v[0]==="."){if(v[1]==="."){if(v[2]==="/"){v=v.slice(3);continue}}else if(v[1]==="/"){v=v.slice(2);continue}}else if(v[0]==="/"&&v[1]==="."){if(v[2]==="/"){v=v.slice(2);continue}else if(v[2]==="."&&v[3]==="/"){v=v.slice(3),w.length!==0&&w.pop();continue}}if((E=v.indexOf("/",1))===-1){w.push(v);break}else w.push(v.slice(0,E)),v=v.slice(E)}return w.join("")}function o(g,v){const w=v!==!0?escape:unescape;return g.scheme!==void 0&&(g.scheme=w(g.scheme)),g.userinfo!==void 0&&(g.userinfo=w(g.userinfo)),g.host!==void 0&&(g.host=w(g.host)),g.path!==void 0&&(g.path=w(g.path)),g.query!==void 0&&(g.query=w(g.query)),g.fragment!==void 0&&(g.fragment=w(g.fragment)),g}function $(g){const v=[];if(g.userinfo!==void 0&&(v.push(g.userinfo),v.push("@")),g.host!==void 0){let w=unescape(g.host);if(!t(w)){const E=i(w);E.isIPV6===!0?w=`[${E.escapedHost}]`:w=g.host}v.push(w)}return(typeof g.port=="number"||typeof g.port=="string")&&(v.push(":"),v.push(String(g.port))),v.length?v.join(""):void 0}return gs={nonSimpleDomain:r,recomposeAuthority:$,normalizeComponentEncoding:o,removeDotSegments:d,isIPv4:t,isUUID:e,normalizeIPv6:i,stringArrayToHexStripped:s},gs}var $s,Li;function Hd(){if(Li)return $s;Li=1;const{isUUID:e}=Vl(),t=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu,s=["http","https","ws","wss","urn","urn:uuid"];function r(y){return s.indexOf(y)!==-1}function c(y){return y.secure===!0?!0:y.secure===!1?!1:y.scheme?y.scheme.length===3&&(y.scheme[0]==="w"||y.scheme[0]==="W")&&(y.scheme[1]==="s"||y.scheme[1]==="S")&&(y.scheme[2]==="s"||y.scheme[2]==="S"):!1}function n(y){return y.host||(y.error=y.error||"HTTP URIs must have a host."),y}function a(y){const _=String(y.scheme).toLowerCase()==="https";return(y.port===(_?443:80)||y.port==="")&&(y.port=void 0),y.path||(y.path="/"),y}function i(y){return y.secure=c(y),y.resourceName=(y.path||"/")+(y.query?"?"+y.query:""),y.path=void 0,y.query=void 0,y}function u(y){if((y.port===(c(y)?443:80)||y.port==="")&&(y.port=void 0),typeof y.secure=="boolean"&&(y.scheme=y.secure?"wss":"ws",y.secure=void 0),y.resourceName){const[_,P]=y.resourceName.split("?");y.path=_&&_!=="/"?_:void 0,y.query=P,y.resourceName=void 0}return y.fragment=void 0,y}function d(y,_){if(!y.path)return y.error="URN can not be parsed",y;const P=y.path.match(t);if(P){const T=_.scheme||y.scheme||"urn";y.nid=P[1].toLowerCase(),y.nss=P[2];const M=`${T}:${_.nid||y.nid}`,U=S(M);y.path=void 0,U&&(y=U.parse(y,_))}else y.error=y.error||"URN can not be parsed.";return y}function o(y,_){if(y.nid===void 0)throw new Error("URN without nid cannot be serialized");const P=_.scheme||y.scheme||"urn",T=y.nid.toLowerCase(),M=`${P}:${_.nid||T}`,U=S(M);U&&(y=U.serialize(y,_));const D=y,V=y.nss;return D.path=`${T||_.nid}:${V}`,_.skipEscape=!0,D}function $(y,_){const P=y;return P.uuid=P.nss,P.nss=void 0,!_.tolerant&&(!P.uuid||!e(P.uuid))&&(P.error=P.error||"UUID is not valid."),P}function g(y){const _=y;return _.nss=(y.uuid||"").toLowerCase(),_}const v={scheme:"http",domainHost:!0,parse:n,serialize:a},w={scheme:"https",domainHost:v.domainHost,parse:n,serialize:a},E={scheme:"ws",domainHost:!0,parse:i,serialize:u},f={scheme:"wss",domainHost:E.domainHost,parse:E.parse,serialize:E.serialize},p={http:v,https:w,ws:E,wss:f,urn:{scheme:"urn",parse:d,serialize:o,skipNormalize:!0},"urn:uuid":{scheme:"urn:uuid",parse:$,serialize:g,skipNormalize:!0}};Object.setPrototypeOf(p,null);function S(y){return y&&(p[y]||p[y.toLowerCase()])||void 0}return $s={wsIsSecure:c,SCHEMES:p,isValidSchemeName:r,getSchemeHandler:S},$s}var Vi;function Fl(){if(Vi)return Vt.exports;Vi=1;const{normalizeIPv6:e,removeDotSegments:t,recomposeAuthority:s,normalizeComponentEncoding:r,isIPv4:c,nonSimpleDomain:n}=Vl(),{SCHEMES:a,getSchemeHandler:i}=Hd();function u(f,h){return typeof f=="string"?f=g(w(f,h),h):typeof f=="object"&&(f=w(g(f,h),h)),f}function d(f,h,l){const p=l?Object.assign({scheme:"null"},l):{scheme:"null"},S=o(w(f,p),w(h,p),p,!0);return p.skipEscape=!0,g(S,p)}function o(f,h,l,p){const S={};return p||(f=w(g(f,l),l),h=w(g(h,l),l)),l=l||{},!l.tolerant&&h.scheme?(S.scheme=h.scheme,S.userinfo=h.userinfo,S.host=h.host,S.port=h.port,S.path=t(h.path||""),S.query=h.query):(h.userinfo!==void 0||h.host!==void 0||h.port!==void 0?(S.userinfo=h.userinfo,S.host=h.host,S.port=h.port,S.path=t(h.path||""),S.query=h.query):(h.path?(h.path[0]==="/"?S.path=t(h.path):((f.userinfo!==void 0||f.host!==void 0||f.port!==void 0)&&!f.path?S.path="/"+h.path:f.path?S.path=f.path.slice(0,f.path.lastIndexOf("/")+1)+h.path:S.path=h.path,S.path=t(S.path)),S.query=h.query):(S.path=f.path,h.query!==void 0?S.query=h.query:S.query=f.query),S.userinfo=f.userinfo,S.host=f.host,S.port=f.port),S.scheme=f.scheme),S.fragment=h.fragment,S}function $(f,h,l){return typeof f=="string"?(f=unescape(f),f=g(r(w(f,l),!0),{...l,skipEscape:!0})):typeof f=="object"&&(f=g(r(f,!0),{...l,skipEscape:!0})),typeof h=="string"?(h=unescape(h),h=g(r(w(h,l),!0),{...l,skipEscape:!0})):typeof h=="object"&&(h=g(r(h,!0),{...l,skipEscape:!0})),f.toLowerCase()===h.toLowerCase()}function g(f,h){const l={host:f.host,scheme:f.scheme,userinfo:f.userinfo,port:f.port,path:f.path,query:f.query,nid:f.nid,nss:f.nss,uuid:f.uuid,fragment:f.fragment,reference:f.reference,resourceName:f.resourceName,secure:f.secure,error:""},p=Object.assign({},h),S=[],y=i(p.scheme||l.scheme);y&&y.serialize&&y.serialize(l,p),l.path!==void 0&&(p.skipEscape?l.path=unescape(l.path):(l.path=escape(l.path),l.scheme!==void 0&&(l.path=l.path.split("%3A").join(":")))),p.reference!=="suffix"&&l.scheme&&S.push(l.scheme,":");const _=s(l);if(_!==void 0&&(p.reference!=="suffix"&&S.push("//"),S.push(_),l.path&&l.path[0]!=="/"&&S.push("/")),l.path!==void 0){let P=l.path;!p.absolutePath&&(!y||!y.absolutePath)&&(P=t(P)),_===void 0&&P[0]==="/"&&P[1]==="/"&&(P="/%2F"+P.slice(2)),S.push(P)}return l.query!==void 0&&S.push("?",l.query),l.fragment!==void 0&&S.push("#",l.fragment),S.join("")}const v=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function w(f,h){const l=Object.assign({},h),p={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0};let S=!1;l.reference==="suffix"&&(l.scheme?f=l.scheme+":"+f:f="//"+f);const y=f.match(v);if(y){if(p.scheme=y[1],p.userinfo=y[3],p.host=y[4],p.port=parseInt(y[5],10),p.path=y[6]||"",p.query=y[7],p.fragment=y[8],isNaN(p.port)&&(p.port=y[5]),p.host)if(c(p.host)===!1){const T=e(p.host);p.host=T.host.toLowerCase(),S=T.isIPV6}else S=!0;p.scheme===void 0&&p.userinfo===void 0&&p.host===void 0&&p.port===void 0&&p.query===void 0&&!p.path?p.reference="same-document":p.scheme===void 0?p.reference="relative":p.fragment===void 0?p.reference="absolute":p.reference="uri",l.reference&&l.reference!=="suffix"&&l.reference!==p.reference&&(p.error=p.error||"URI is not a "+l.reference+" reference.");const _=i(l.scheme||p.scheme);if(!l.unicodeSupport&&(!_||!_.unicodeSupport)&&p.host&&(l.domainHost||_&&_.domainHost)&&S===!1&&n(p.host))try{p.host=URL.domainToASCII(p.host.toLowerCase())}catch(P){p.error=p.error||"Host's domain name can not be converted to ASCII: "+P}(!_||_&&!_.skipNormalize)&&(f.indexOf("%")!==-1&&(p.scheme!==void 0&&(p.scheme=unescape(p.scheme)),p.host!==void 0&&(p.host=unescape(p.host))),p.path&&(p.path=escape(unescape(p.path))),p.fragment&&(p.fragment=encodeURI(decodeURIComponent(p.fragment)))),_&&_.parse&&_.parse(p,l)}else p.error=p.error||"URI can not be parsed.";return p}const E={SCHEMES:a,normalize:u,resolve:d,resolveComponent:o,equal:$,serialize:g,parse:w};return Vt.exports=E,Vt.exports.default=E,Vt.exports.fastUri=E,Vt.exports}var Fi;function Bd(){if(Fi)return Qt;Fi=1,Object.defineProperty(Qt,"__esModule",{value:!0});const e=Fl();return e.code='require("ajv/dist/runtime/uri").default',Qt.default=e,Qt}var Ui;function Wd(){return Ui||(Ui=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=Xn();Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var s=ee();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return s._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return s.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return s.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return s.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return s.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return s.CodeGen}});const r=Ya(),c=Jn(),n=Ml(),a=Yn(),i=ee(),u=Wn(),d=Fn(),o=ae(),$=Kd,g=Bd(),v=(A,N)=>new RegExp(A,N);v.code="new RegExp";const w=["removeAdditional","useDefaults","coerceTypes"],E=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),f={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},h={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},l=200;function p(A){var N,C,I,m,b,j,G,K,Z,Y,R,O,k,L,H,J,ie,ye,le,de,oe,Re,me,it,ot;const Ce=A.strict,ct=(N=A.code)===null||N===void 0?void 0:N.optimize,Dt=ct===!0||ct===void 0?1:ct||0,Mt=(I=(C=A.code)===null||C===void 0?void 0:C.regExp)!==null&&I!==void 0?I:v,os=(m=A.uriResolver)!==null&&m!==void 0?m:g.default;return{strictSchema:(j=(b=A.strictSchema)!==null&&b!==void 0?b:Ce)!==null&&j!==void 0?j:!0,strictNumbers:(K=(G=A.strictNumbers)!==null&&G!==void 0?G:Ce)!==null&&K!==void 0?K:!0,strictTypes:(Y=(Z=A.strictTypes)!==null&&Z!==void 0?Z:Ce)!==null&&Y!==void 0?Y:"log",strictTuples:(O=(R=A.strictTuples)!==null&&R!==void 0?R:Ce)!==null&&O!==void 0?O:"log",strictRequired:(L=(k=A.strictRequired)!==null&&k!==void 0?k:Ce)!==null&&L!==void 0?L:!1,code:A.code?{...A.code,optimize:Dt,regExp:Mt}:{optimize:Dt,regExp:Mt},loopRequired:(H=A.loopRequired)!==null&&H!==void 0?H:l,loopEnum:(J=A.loopEnum)!==null&&J!==void 0?J:l,meta:(ie=A.meta)!==null&&ie!==void 0?ie:!0,messages:(ye=A.messages)!==null&&ye!==void 0?ye:!0,inlineRefs:(le=A.inlineRefs)!==null&&le!==void 0?le:!0,schemaId:(de=A.schemaId)!==null&&de!==void 0?de:"$id",addUsedSchema:(oe=A.addUsedSchema)!==null&&oe!==void 0?oe:!0,validateSchema:(Re=A.validateSchema)!==null&&Re!==void 0?Re:!0,validateFormats:(me=A.validateFormats)!==null&&me!==void 0?me:!0,unicodeRegExp:(it=A.unicodeRegExp)!==null&&it!==void 0?it:!0,int32range:(ot=A.int32range)!==null&&ot!==void 0?ot:!0,uriResolver:os}}class S{constructor(N={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,N=this.opts={...N,...p(N)};const{es5:C,lines:I}=this.opts.code;this.scope=new i.ValueScope({scope:{},prefixes:E,es5:C,lines:I}),this.logger=V(N.logger);const m=N.validateFormats;N.validateFormats=!1,this.RULES=(0,n.getRules)(),y.call(this,f,N,"NOT SUPPORTED"),y.call(this,h,N,"DEPRECATED","warn"),this._metaOpts=U.call(this),N.formats&&T.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),N.keywords&&M.call(this,N.keywords),typeof N.meta=="object"&&this.addMetaSchema(N.meta),P.call(this),N.validateFormats=m}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:N,meta:C,schemaId:I}=this.opts;let m=$;I==="id"&&(m={...$},m.id=m.$id,delete m.$id),C&&N&&this.addMetaSchema(m,m[I],!1)}defaultMeta(){const{meta:N,schemaId:C}=this.opts;return this.opts.defaultMeta=typeof N=="object"?N[C]||N:void 0}validate(N,C){let I;if(typeof N=="string"){if(I=this.getSchema(N),!I)throw new Error(`no schema with key or ref "${N}"`)}else I=this.compile(N);const m=I(C);return"$async"in I||(this.errors=I.errors),m}compile(N,C){const I=this._addSchema(N,C);return I.validate||this._compileSchemaEnv(I)}compileAsync(N,C){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:I}=this.opts;return m.call(this,N,C);async function m(Y,R){await b.call(this,Y.$schema);const O=this._addSchema(Y,R);return O.validate||j.call(this,O)}async function b(Y){Y&&!this.getSchema(Y)&&await m.call(this,{$ref:Y},!0)}async function j(Y){try{return this._compileSchemaEnv(Y)}catch(R){if(!(R instanceof c.default))throw R;return G.call(this,R),await K.call(this,R.missingSchema),j.call(this,Y)}}function G({missingSchema:Y,missingRef:R}){if(this.refs[Y])throw new Error(`AnySchema ${Y} is loaded but ${R} cannot be resolved`)}async function K(Y){const R=await Z.call(this,Y);this.refs[Y]||await b.call(this,R.$schema),this.refs[Y]||this.addSchema(R,Y,C)}async function Z(Y){const R=this._loading[Y];if(R)return R;try{return await(this._loading[Y]=I(Y))}finally{delete this._loading[Y]}}}addSchema(N,C,I,m=this.opts.validateSchema){if(Array.isArray(N)){for(const j of N)this.addSchema(j,void 0,I,m);return this}let b;if(typeof N=="object"){const{schemaId:j}=this.opts;if(b=N[j],b!==void 0&&typeof b!="string")throw new Error(`schema ${j} must be string`)}return C=(0,u.normalizeId)(C||b),this._checkUnique(C),this.schemas[C]=this._addSchema(N,I,C,m,!0),this}addMetaSchema(N,C,I=this.opts.validateSchema){return this.addSchema(N,C,!0,I),this}validateSchema(N,C){if(typeof N=="boolean")return!0;let I;if(I=N.$schema,I!==void 0&&typeof I!="string")throw new Error("$schema must be a string");if(I=I||this.opts.defaultMeta||this.defaultMeta(),!I)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const m=this.validate(I,N);if(!m&&C){const b="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(b);else throw new Error(b)}return m}getSchema(N){let C;for(;typeof(C=_.call(this,N))=="string";)N=C;if(C===void 0){const{schemaId:I}=this.opts,m=new a.SchemaEnv({schema:{},schemaId:I});if(C=a.resolveSchema.call(this,m,N),!C)return;this.refs[N]=C}return C.validate||this._compileSchemaEnv(C)}removeSchema(N){if(N instanceof RegExp)return this._removeAllSchemas(this.schemas,N),this._removeAllSchemas(this.refs,N),this;switch(typeof N){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const C=_.call(this,N);return typeof C=="object"&&this._cache.delete(C.schema),delete this.schemas[N],delete this.refs[N],this}case"object":{const C=N;this._cache.delete(C);let I=N[this.opts.schemaId];return I&&(I=(0,u.normalizeId)(I),delete this.schemas[I],delete this.refs[I]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(N){for(const C of N)this.addKeyword(C);return this}addKeyword(N,C){let I;if(typeof N=="string")I=N,typeof C=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),C.keyword=I);else if(typeof N=="object"&&C===void 0){if(C=N,I=C.keyword,Array.isArray(I)&&!I.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(q.call(this,I,C),!C)return(0,o.eachItem)(I,b=>z.call(this,b)),this;x.call(this,C);const m={...C,type:(0,d.getJSONTypes)(C.type),schemaType:(0,d.getJSONTypes)(C.schemaType)};return(0,o.eachItem)(I,m.type.length===0?b=>z.call(this,b,m):b=>m.type.forEach(j=>z.call(this,b,m,j))),this}getKeyword(N){const C=this.RULES.all[N];return typeof C=="object"?C.definition:!!C}removeKeyword(N){const{RULES:C}=this;delete C.keywords[N],delete C.all[N];for(const I of C.rules){const m=I.rules.findIndex(b=>b.keyword===N);m>=0&&I.rules.splice(m,1)}return this}addFormat(N,C){return typeof C=="string"&&(C=new RegExp(C)),this.formats[N]=C,this}errorsText(N=this.errors,{separator:C=", ",dataVar:I="data"}={}){return!N||N.length===0?"No errors":N.map(m=>`${I}${m.instancePath} ${m.message}`).reduce((m,b)=>m+C+b)}$dataMetaSchema(N,C){const I=this.RULES.all;N=JSON.parse(JSON.stringify(N));for(const m of C){const b=m.split("/").slice(1);let j=N;for(const G of b)j=j[G];for(const G in I){const K=I[G];if(typeof K!="object")continue;const{$data:Z}=K.definition,Y=j[G];Z&&Y&&(j[G]=X(Y))}}return N}_removeAllSchemas(N,C){for(const I in N){const m=N[I];(!C||C.test(I))&&(typeof m=="string"?delete N[I]:m&&!m.meta&&(this._cache.delete(m.schema),delete N[I]))}}_addSchema(N,C,I,m=this.opts.validateSchema,b=this.opts.addUsedSchema){let j;const{schemaId:G}=this.opts;if(typeof N=="object")j=N[G];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof N!="boolean")throw new Error("schema must be object or boolean")}let K=this._cache.get(N);if(K!==void 0)return K;I=(0,u.normalizeId)(j||I);const Z=u.getSchemaRefs.call(this,N,I);return K=new a.SchemaEnv({schema:N,schemaId:G,meta:C,baseId:I,localRefs:Z}),this._cache.set(K.schema,K),b&&!I.startsWith("#")&&(I&&this._checkUnique(I),this.refs[I]=K),m&&this.validateSchema(N,!0),K}_checkUnique(N){if(this.schemas[N]||this.refs[N])throw new Error(`schema with key or id "${N}" already exists`)}_compileSchemaEnv(N){if(N.meta?this._compileMetaSchema(N):a.compileSchema.call(this,N),!N.validate)throw new Error("ajv implementation error");return N.validate}_compileMetaSchema(N){const C=this.opts;this.opts=this._metaOpts;try{a.compileSchema.call(this,N)}finally{this.opts=C}}}S.ValidationError=r.default,S.MissingRefError=c.default,e.default=S;function y(A,N,C,I="error"){for(const m in A){const b=m;b in N&&this.logger[I](`${C}: option ${m}. ${A[b]}`)}}function _(A){return A=(0,u.normalizeId)(A),this.schemas[A]||this.refs[A]}function P(){const A=this.opts.schemas;if(A)if(Array.isArray(A))this.addSchema(A);else for(const N in A)this.addSchema(A[N],N)}function T(){for(const A in this.opts.formats){const N=this.opts.formats[A];N&&this.addFormat(A,N)}}function M(A){if(Array.isArray(A)){this.addVocabulary(A);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const N in A){const C=A[N];C.keyword||(C.keyword=N),this.addKeyword(C)}}function U(){const A={...this.opts};for(const N of w)delete A[N];return A}const D={log(){},warn(){},error(){}};function V(A){if(A===!1)return D;if(A===void 0)return console;if(A.log&&A.warn&&A.error)return A;throw new Error("logger must implement log, warn and error methods")}const F=/^[a-z_$][a-z0-9_$:-]*$/i;function q(A,N){const{RULES:C}=this;if((0,o.eachItem)(A,I=>{if(C.keywords[I])throw new Error(`Keyword ${I} is already defined`);if(!F.test(I))throw new Error(`Keyword ${I} has invalid name`)}),!!N&&N.$data&&!("code"in N||"validate"in N))throw new Error('$data keyword must have "code" or "validate" function')}function z(A,N,C){var I;const m=N?.post;if(C&&m)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:b}=this;let j=m?b.post:b.rules.find(({type:K})=>K===C);if(j||(j={type:C,rules:[]},b.rules.push(j)),b.keywords[A]=!0,!N)return;const G={keyword:A,definition:{...N,type:(0,d.getJSONTypes)(N.type),schemaType:(0,d.getJSONTypes)(N.schemaType)}};N.before?W.call(this,j,G,N.before):j.rules.push(G),b.all[A]=G,(I=N.implements)===null||I===void 0||I.forEach(K=>this.addKeyword(K))}function W(A,N,C){const I=A.rules.findIndex(m=>m.keyword===C);I>=0?A.rules.splice(I,0,N):(A.rules.push(N),this.logger.warn(`rule ${C} is not defined`))}function x(A){let{metaSchema:N}=A;N!==void 0&&(A.$data&&this.opts.$data&&(N=X(N)),A.validateSchema=this.compile(N,!0))}const B={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function X(A){return{anyOf:[A,B]}}})(ds)),ds}var er={},tr={},rr={},zi;function Xd(){if(zi)return rr;zi=1,Object.defineProperty(rr,"__esModule",{value:!0});const e={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};return rr.default=e,rr}var Ze={},Gi;function Za(){if(Gi)return Ze;Gi=1,Object.defineProperty(Ze,"__esModule",{value:!0}),Ze.callRef=Ze.getValidate=void 0;const e=Jn(),t=De(),s=ee(),r=qe(),c=Yn(),n=ae(),a={keyword:"$ref",schemaType:"string",code(d){const{gen:o,schema:$,it:g}=d,{baseId:v,schemaEnv:w,validateName:E,opts:f,self:h}=g,{root:l}=w;if(($==="#"||$==="#/")&&v===l.baseId)return S();const p=c.resolveRef.call(h,l,v,$);if(p===void 0)throw new e.default(g.opts.uriResolver,v,$);if(p instanceof c.SchemaEnv)return y(p);return _(p);function S(){if(w===l)return u(d,E,w,w.$async);const P=o.scopeValue("root",{ref:l});return u(d,(0,s._)`${P}.validate`,l,l.$async)}function y(P){const T=i(d,P);u(d,T,P,P.$async)}function _(P){const T=o.scopeValue("schema",f.code.source===!0?{ref:P,code:(0,s.stringify)(P)}:{ref:P}),M=o.name("valid"),U=d.subschema({schema:P,dataTypes:[],schemaPath:s.nil,topSchemaRef:T,errSchemaPath:$},M);d.mergeEvaluated(U),d.ok(M)}}};function i(d,o){const{gen:$}=d;return o.validate?$.scopeValue("validate",{ref:o.validate}):(0,s._)`${$.scopeValue("wrapper",{ref:o})}.validate`}Ze.getValidate=i;function u(d,o,$,g){const{gen:v,it:w}=d,{allErrors:E,schemaEnv:f,opts:h}=w,l=h.passContext?r.default.this:s.nil;g?p():S();function p(){if(!f.$async)throw new Error("async schema referenced by sync schema");const P=v.let("valid");v.try(()=>{v.code((0,s._)`await ${(0,t.callValidateCode)(d,o,l)}`),_(o),E||v.assign(P,!0)},T=>{v.if((0,s._)`!(${T} instanceof ${w.ValidationError})`,()=>v.throw(T)),y(T),E||v.assign(P,!1)}),d.ok(P)}function S(){d.result((0,t.callValidateCode)(d,o,l),()=>_(o),()=>y(o))}function y(P){const T=(0,s._)`${P}.errors`;v.assign(r.default.vErrors,(0,s._)`${r.default.vErrors} === null ? ${T} : ${r.default.vErrors}.concat(${T})`),v.assign(r.default.errors,(0,s._)`${r.default.vErrors}.length`)}function _(P){var T;if(!w.opts.unevaluated)return;const M=(T=$?.validate)===null||T===void 0?void 0:T.evaluated;if(w.props!==!0)if(M&&!M.dynamicProps)M.props!==void 0&&(w.props=n.mergeEvaluated.props(v,M.props,w.props));else{const U=v.var("props",(0,s._)`${P}.evaluated.props`);w.props=n.mergeEvaluated.props(v,U,w.props,s.Name)}if(w.items!==!0)if(M&&!M.dynamicItems)M.items!==void 0&&(w.items=n.mergeEvaluated.items(v,M.items,w.items));else{const U=v.var("items",(0,s._)`${P}.evaluated.items`);w.items=n.mergeEvaluated.items(v,U,w.items,s.Name)}}}return Ze.callRef=u,Ze.default=a,Ze}var xi;function Jd(){if(xi)return tr;xi=1,Object.defineProperty(tr,"__esModule",{value:!0});const e=Xd(),t=Za(),s=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",e.default,t.default];return tr.default=s,tr}var nr={},sr={},Ki;function Yd(){if(Ki)return sr;Ki=1,Object.defineProperty(sr,"__esModule",{value:!0});const e=ee(),t=e.operators,s={maximum:{okStr:"<=",ok:t.LTE,fail:t.GT},minimum:{okStr:">=",ok:t.GTE,fail:t.LT},exclusiveMaximum:{okStr:"<",ok:t.LT,fail:t.GTE},exclusiveMinimum:{okStr:">",ok:t.GT,fail:t.LTE}},r={message:({keyword:n,schemaCode:a})=>(0,e.str)`must be ${s[n].okStr} ${a}`,params:({keyword:n,schemaCode:a})=>(0,e._)`{comparison: ${s[n].okStr}, limit: ${a}}`},c={keyword:Object.keys(s),type:"number",schemaType:"number",$data:!0,error:r,code(n){const{keyword:a,data:i,schemaCode:u}=n;n.fail$data((0,e._)`${i} ${s[a].fail} ${u} || isNaN(${i})`)}};return sr.default=c,sr}var ar={},Hi;function Zd(){if(Hi)return ar;Hi=1,Object.defineProperty(ar,"__esModule",{value:!0});const e=ee(),s={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:({schemaCode:r})=>(0,e.str)`must be multiple of ${r}`,params:({schemaCode:r})=>(0,e._)`{multipleOf: ${r}}`},code(r){const{gen:c,data:n,schemaCode:a,it:i}=r,u=i.opts.multipleOfPrecision,d=c.let("res"),o=u?(0,e._)`Math.abs(Math.round(${d}) - ${d}) > 1e-${u}`:(0,e._)`${d} !== parseInt(${d})`;r.fail$data((0,e._)`(${a} === 0 || (${d} = ${n}/${a}, ${o}))`)}};return ar.default=s,ar}var ir={},or={},Bi;function Qd(){if(Bi)return or;Bi=1,Object.defineProperty(or,"__esModule",{value:!0});function e(t){const s=t.length;let r=0,c=0,n;for(;c<s;)r++,n=t.charCodeAt(c++),n>=55296&&n<=56319&&c<s&&(n=t.charCodeAt(c),(n&64512)===56320&&c++);return r}return or.default=e,e.code='require("ajv/dist/runtime/ucs2length").default',or}var Wi;function ef(){if(Wi)return ir;Wi=1,Object.defineProperty(ir,"__esModule",{value:!0});const e=ee(),t=ae(),s=Qd(),c={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message({keyword:n,schemaCode:a}){const i=n==="maxLength"?"more":"fewer";return(0,e.str)`must NOT have ${i} than ${a} characters`},params:({schemaCode:n})=>(0,e._)`{limit: ${n}}`},code(n){const{keyword:a,data:i,schemaCode:u,it:d}=n,o=a==="maxLength"?e.operators.GT:e.operators.LT,$=d.opts.unicode===!1?(0,e._)`${i}.length`:(0,e._)`${(0,t.useFunc)(n.gen,s.default)}(${i})`;n.fail$data((0,e._)`${$} ${o} ${u}`)}};return ir.default=c,ir}var cr={},Xi;function tf(){if(Xi)return cr;Xi=1,Object.defineProperty(cr,"__esModule",{value:!0});const e=De(),t=ee(),r={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:({schemaCode:c})=>(0,t.str)`must match pattern "${c}"`,params:({schemaCode:c})=>(0,t._)`{pattern: ${c}}`},code(c){const{data:n,$data:a,schema:i,schemaCode:u,it:d}=c,o=d.opts.unicodeRegExp?"u":"",$=a?(0,t._)`(new RegExp(${u}, ${o}))`:(0,e.usePattern)(c,i);c.fail$data((0,t._)`!${$}.test(${n})`)}};return cr.default=r,cr}var ur={},Ji;function rf(){if(Ji)return ur;Ji=1,Object.defineProperty(ur,"__esModule",{value:!0});const e=ee(),s={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message({keyword:r,schemaCode:c}){const n=r==="maxProperties"?"more":"fewer";return(0,e.str)`must NOT have ${n} than ${c} properties`},params:({schemaCode:r})=>(0,e._)`{limit: ${r}}`},code(r){const{keyword:c,data:n,schemaCode:a}=r,i=c==="maxProperties"?e.operators.GT:e.operators.LT;r.fail$data((0,e._)`Object.keys(${n}).length ${i} ${a}`)}};return ur.default=s,ur}var lr={},Yi;function nf(){if(Yi)return lr;Yi=1,Object.defineProperty(lr,"__esModule",{value:!0});const e=De(),t=ee(),s=ae(),c={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:({params:{missingProperty:n}})=>(0,t.str)`must have required property '${n}'`,params:({params:{missingProperty:n}})=>(0,t._)`{missingProperty: ${n}}`},code(n){const{gen:a,schema:i,schemaCode:u,data:d,$data:o,it:$}=n,{opts:g}=$;if(!o&&i.length===0)return;const v=i.length>=g.loopRequired;if($.allErrors?w():E(),g.strictRequired){const l=n.parentSchema.properties,{definedProperties:p}=n.it;for(const S of i)if(l?.[S]===void 0&&!p.has(S)){const y=$.schemaEnv.baseId+$.errSchemaPath,_=`required property "${S}" is not defined at "${y}" (strictRequired)`;(0,s.checkStrictMode)($,_,$.opts.strictRequired)}}function w(){if(v||o)n.block$data(t.nil,f);else for(const l of i)(0,e.checkReportMissingProp)(n,l)}function E(){const l=a.let("missing");if(v||o){const p=a.let("valid",!0);n.block$data(p,()=>h(l,p)),n.ok(p)}else a.if((0,e.checkMissingProp)(n,i,l)),(0,e.reportMissingProp)(n,l),a.else()}function f(){a.forOf("prop",u,l=>{n.setParams({missingProperty:l}),a.if((0,e.noPropertyInData)(a,d,l,g.ownProperties),()=>n.error())})}function h(l,p){n.setParams({missingProperty:l}),a.forOf(l,u,()=>{a.assign(p,(0,e.propertyInData)(a,d,l,g.ownProperties)),a.if((0,t.not)(p),()=>{n.error(),a.break()})},t.nil)}}};return lr.default=c,lr}var dr={},Zi;function sf(){if(Zi)return dr;Zi=1,Object.defineProperty(dr,"__esModule",{value:!0});const e=ee(),s={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message({keyword:r,schemaCode:c}){const n=r==="maxItems"?"more":"fewer";return(0,e.str)`must NOT have ${n} than ${c} items`},params:({schemaCode:r})=>(0,e._)`{limit: ${r}}`},code(r){const{keyword:c,data:n,schemaCode:a}=r,i=c==="maxItems"?e.operators.GT:e.operators.LT;r.fail$data((0,e._)`${n}.length ${i} ${a}`)}};return dr.default=s,dr}var fr={},hr={},Qi;function Qa(){if(Qi)return hr;Qi=1,Object.defineProperty(hr,"__esModule",{value:!0});const e=Bn();return e.code='require("ajv/dist/runtime/equal").default',hr.default=e,hr}var eo;function af(){if(eo)return fr;eo=1,Object.defineProperty(fr,"__esModule",{value:!0});const e=Fn(),t=ee(),s=ae(),r=Qa(),n={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:({params:{i:a,j:i}})=>(0,t.str)`must NOT have duplicate items (items ## ${i} and ${a} are identical)`,params:({params:{i:a,j:i}})=>(0,t._)`{i: ${a}, j: ${i}}`},code(a){const{gen:i,data:u,$data:d,schema:o,parentSchema:$,schemaCode:g,it:v}=a;if(!d&&!o)return;const w=i.let("valid"),E=$.items?(0,e.getSchemaTypes)($.items):[];a.block$data(w,f,(0,t._)`${g} === false`),a.ok(w);function f(){const S=i.let("i",(0,t._)`${u}.length`),y=i.let("j");a.setParams({i:S,j:y}),i.assign(w,!0),i.if((0,t._)`${S} > 1`,()=>(h()?l:p)(S,y))}function h(){return E.length>0&&!E.some(S=>S==="object"||S==="array")}function l(S,y){const _=i.name("item"),P=(0,e.checkDataTypes)(E,_,v.opts.strictNumbers,e.DataType.Wrong),T=i.const("indices",(0,t._)`{}`);i.for((0,t._)`;${S}--;`,()=>{i.let(_,(0,t._)`${u}[${S}]`),i.if(P,(0,t._)`continue`),E.length>1&&i.if((0,t._)`typeof ${_} == "string"`,(0,t._)`${_} += "_"`),i.if((0,t._)`typeof ${T}[${_}] == "number"`,()=>{i.assign(y,(0,t._)`${T}[${_}]`),a.error(),i.assign(w,!1).break()}).code((0,t._)`${T}[${_}] = ${S}`)})}function p(S,y){const _=(0,s.useFunc)(i,r.default),P=i.name("outer");i.label(P).for((0,t._)`;${S}--;`,()=>i.for((0,t._)`${y} = ${S}; ${y}--;`,()=>i.if((0,t._)`${_}(${u}[${S}], ${u}[${y}])`,()=>{a.error(),i.assign(w,!1).break(P)})))}}};return fr.default=n,fr}var pr={},to;function of(){if(to)return pr;to=1,Object.defineProperty(pr,"__esModule",{value:!0});const e=ee(),t=ae(),s=Qa(),c={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:({schemaCode:n})=>(0,e._)`{allowedValue: ${n}}`},code(n){const{gen:a,data:i,$data:u,schemaCode:d,schema:o}=n;u||o&&typeof o=="object"?n.fail$data((0,e._)`!${(0,t.useFunc)(a,s.default)}(${i}, ${d})`):n.fail((0,e._)`${o} !== ${i}`)}};return pr.default=c,pr}var mr={},ro;function cf(){if(ro)return mr;ro=1,Object.defineProperty(mr,"__esModule",{value:!0});const e=ee(),t=ae(),s=Qa(),c={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:({schemaCode:n})=>(0,e._)`{allowedValues: ${n}}`},code(n){const{gen:a,data:i,$data:u,schema:d,schemaCode:o,it:$}=n;if(!u&&d.length===0)throw new Error("enum must have non-empty array");const g=d.length>=$.opts.loopEnum;let v;const w=()=>v??(v=(0,t.useFunc)(a,s.default));let E;if(g||u)E=a.let("valid"),n.block$data(E,f);else{if(!Array.isArray(d))throw new Error("ajv implementation error");const l=a.const("vSchema",o);E=(0,e.or)(...d.map((p,S)=>h(l,S)))}n.pass(E);function f(){a.assign(E,!1),a.forOf("v",o,l=>a.if((0,e._)`${w()}(${i}, ${l})`,()=>a.assign(E,!0).break()))}function h(l,p){const S=d[p];return typeof S=="object"&&S!==null?(0,e._)`${w()}(${i}, ${l}[${p}])`:(0,e._)`${i} === ${S}`}}};return mr.default=c,mr}var no;function uf(){if(no)return nr;no=1,Object.defineProperty(nr,"__esModule",{value:!0});const e=Yd(),t=Zd(),s=ef(),r=tf(),c=rf(),n=nf(),a=sf(),i=af(),u=of(),d=cf(),o=[e.default,t.default,s.default,r.default,c.default,n.default,a.default,i.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},u.default,d.default];return nr.default=o,nr}var yr={},bt={},so;function Ul(){if(so)return bt;so=1,Object.defineProperty(bt,"__esModule",{value:!0}),bt.validateAdditionalItems=void 0;const e=ee(),t=ae(),r={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:({params:{len:n}})=>(0,e.str)`must NOT have more than ${n} items`,params:({params:{len:n}})=>(0,e._)`{limit: ${n}}`},code(n){const{parentSchema:a,it:i}=n,{items:u}=a;if(!Array.isArray(u)){(0,t.checkStrictMode)(i,'"additionalItems" is ignored when "items" is not an array of schemas');return}c(n,u)}};function c(n,a){const{gen:i,schema:u,data:d,keyword:o,it:$}=n;$.items=!0;const g=i.const("len",(0,e._)`${d}.length`);if(u===!1)n.setParams({len:a.length}),n.pass((0,e._)`${g} <= ${a.length}`);else if(typeof u=="object"&&!(0,t.alwaysValidSchema)($,u)){const w=i.var("valid",(0,e._)`${g} <= ${a.length}`);i.if((0,e.not)(w),()=>v(w)),n.ok(w)}function v(w){i.forRange("i",a.length,g,E=>{n.subschema({keyword:o,dataProp:E,dataPropType:t.Type.Num},w),$.allErrors||i.if((0,e.not)(w),()=>i.break())})}}return bt.validateAdditionalItems=c,bt.default=r,bt}var vr={},Pt={},ao;function zl(){if(ao)return Pt;ao=1,Object.defineProperty(Pt,"__esModule",{value:!0}),Pt.validateTuple=void 0;const e=ee(),t=ae(),s=De(),r={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(n){const{schema:a,it:i}=n;if(Array.isArray(a))return c(n,"additionalItems",a);i.items=!0,!(0,t.alwaysValidSchema)(i,a)&&n.ok((0,s.validateArray)(n))}};function c(n,a,i=n.schema){const{gen:u,parentSchema:d,data:o,keyword:$,it:g}=n;E(d),g.opts.unevaluated&&i.length&&g.items!==!0&&(g.items=t.mergeEvaluated.items(u,i.length,g.items));const v=u.name("valid"),w=u.const("len",(0,e._)`${o}.length`);i.forEach((f,h)=>{(0,t.alwaysValidSchema)(g,f)||(u.if((0,e._)`${w} > ${h}`,()=>n.subschema({keyword:$,schemaProp:h,dataProp:h},v)),n.ok(v))});function E(f){const{opts:h,errSchemaPath:l}=g,p=i.length,S=p===f.minItems&&(p===f.maxItems||f[a]===!1);if(h.strictTuples&&!S){const y=`"${$}" is ${p}-tuple, but minItems or maxItems/${a} are not specified or different at path "${l}"`;(0,t.checkStrictMode)(g,y,h.strictTuples)}}}return Pt.validateTuple=c,Pt.default=r,Pt}var io;function lf(){if(io)return vr;io=1,Object.defineProperty(vr,"__esModule",{value:!0});const e=zl(),t={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:s=>(0,e.validateTuple)(s,"items")};return vr.default=t,vr}var gr={},oo;function df(){if(oo)return gr;oo=1,Object.defineProperty(gr,"__esModule",{value:!0});const e=ee(),t=ae(),s=De(),r=Ul(),n={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:({params:{len:a}})=>(0,e.str)`must NOT have more than ${a} items`,params:({params:{len:a}})=>(0,e._)`{limit: ${a}}`},code(a){const{schema:i,parentSchema:u,it:d}=a,{prefixItems:o}=u;d.items=!0,!(0,t.alwaysValidSchema)(d,i)&&(o?(0,r.validateAdditionalItems)(a,o):a.ok((0,s.validateArray)(a)))}};return gr.default=n,gr}var $r={},co;function ff(){if(co)return $r;co=1,Object.defineProperty($r,"__esModule",{value:!0});const e=ee(),t=ae(),r={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:({params:{min:c,max:n}})=>n===void 0?(0,e.str)`must contain at least ${c} valid item(s)`:(0,e.str)`must contain at least ${c} and no more than ${n} valid item(s)`,params:({params:{min:c,max:n}})=>n===void 0?(0,e._)`{minContains: ${c}}`:(0,e._)`{minContains: ${c}, maxContains: ${n}}`},code(c){const{gen:n,schema:a,parentSchema:i,data:u,it:d}=c;let o,$;const{minContains:g,maxContains:v}=i;d.opts.next?(o=g===void 0?1:g,$=v):o=1;const w=n.const("len",(0,e._)`${u}.length`);if(c.setParams({min:o,max:$}),$===void 0&&o===0){(0,t.checkStrictMode)(d,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if($!==void 0&&o>$){(0,t.checkStrictMode)(d,'"minContains" > "maxContains" is always invalid'),c.fail();return}if((0,t.alwaysValidSchema)(d,a)){let p=(0,e._)`${w} >= ${o}`;$!==void 0&&(p=(0,e._)`${p} && ${w} <= ${$}`),c.pass(p);return}d.items=!0;const E=n.name("valid");$===void 0&&o===1?h(E,()=>n.if(E,()=>n.break())):o===0?(n.let(E,!0),$!==void 0&&n.if((0,e._)`${u}.length > 0`,f)):(n.let(E,!1),f()),c.result(E,()=>c.reset());function f(){const p=n.name("_valid"),S=n.let("count",0);h(p,()=>n.if(p,()=>l(S)))}function h(p,S){n.forRange("i",0,w,y=>{c.subschema({keyword:"contains",dataProp:y,dataPropType:t.Type.Num,compositeRule:!0},p),S()})}function l(p){n.code((0,e._)`${p}++`),$===void 0?n.if((0,e._)`${p} >= ${o}`,()=>n.assign(E,!0).break()):(n.if((0,e._)`${p} > ${$}`,()=>n.assign(E,!1).break()),o===1?n.assign(E,!0):n.if((0,e._)`${p} >= ${o}`,()=>n.assign(E,!0)))}}};return $r.default=r,$r}var _s={},uo;function ei(){return uo||(uo=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;const t=ee(),s=ae(),r=De();e.error={message:({params:{property:u,depsCount:d,deps:o}})=>{const $=d===1?"property":"properties";return(0,t.str)`must have ${$} ${o} when property ${u} is present`},params:({params:{property:u,depsCount:d,deps:o,missingProperty:$}})=>(0,t._)`{property: ${u},
    missingProperty: ${$},
    depsCount: ${d},
    deps: ${o}}`};const c={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(u){const[d,o]=n(u);a(u,d),i(u,o)}};function n({schema:u}){const d={},o={};for(const $ in u){if($==="__proto__")continue;const g=Array.isArray(u[$])?d:o;g[$]=u[$]}return[d,o]}function a(u,d=u.schema){const{gen:o,data:$,it:g}=u;if(Object.keys(d).length===0)return;const v=o.let("missing");for(const w in d){const E=d[w];if(E.length===0)continue;const f=(0,r.propertyInData)(o,$,w,g.opts.ownProperties);u.setParams({property:w,depsCount:E.length,deps:E.join(", ")}),g.allErrors?o.if(f,()=>{for(const h of E)(0,r.checkReportMissingProp)(u,h)}):(o.if((0,t._)`${f} && (${(0,r.checkMissingProp)(u,E,v)})`),(0,r.reportMissingProp)(u,v),o.else())}}e.validatePropertyDeps=a;function i(u,d=u.schema){const{gen:o,data:$,keyword:g,it:v}=u,w=o.name("valid");for(const E in d)(0,s.alwaysValidSchema)(v,d[E])||(o.if((0,r.propertyInData)(o,$,E,v.opts.ownProperties),()=>{const f=u.subschema({keyword:g,schemaProp:E},w);u.mergeValidEvaluated(f,w)},()=>o.var(w,!0)),u.ok(w))}e.validateSchemaDeps=i,e.default=c})(_s)),_s}var _r={},lo;function hf(){if(lo)return _r;lo=1,Object.defineProperty(_r,"__esModule",{value:!0});const e=ee(),t=ae(),r={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:({params:c})=>(0,e._)`{propertyName: ${c.propertyName}}`},code(c){const{gen:n,schema:a,data:i,it:u}=c;if((0,t.alwaysValidSchema)(u,a))return;const d=n.name("valid");n.forIn("key",i,o=>{c.setParams({propertyName:o}),c.subschema({keyword:"propertyNames",data:o,dataTypes:["string"],propertyName:o,compositeRule:!0},d),n.if((0,e.not)(d),()=>{c.error(!0),u.allErrors||n.break()})}),c.ok(d)}};return _r.default=r,_r}var wr={},fo;function Gl(){if(fo)return wr;fo=1,Object.defineProperty(wr,"__esModule",{value:!0});const e=De(),t=ee(),s=qe(),r=ae(),n={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:({params:a})=>(0,t._)`{additionalProperty: ${a.additionalProperty}}`},code(a){const{gen:i,schema:u,parentSchema:d,data:o,errsCount:$,it:g}=a;if(!$)throw new Error("ajv implementation error");const{allErrors:v,opts:w}=g;if(g.props=!0,w.removeAdditional!=="all"&&(0,r.alwaysValidSchema)(g,u))return;const E=(0,e.allSchemaProperties)(d.properties),f=(0,e.allSchemaProperties)(d.patternProperties);h(),a.ok((0,t._)`${$} === ${s.default.errors}`);function h(){i.forIn("key",o,_=>{!E.length&&!f.length?S(_):i.if(l(_),()=>S(_))})}function l(_){let P;if(E.length>8){const T=(0,r.schemaRefOrVal)(g,d.properties,"properties");P=(0,e.isOwnProperty)(i,T,_)}else E.length?P=(0,t.or)(...E.map(T=>(0,t._)`${_} === ${T}`)):P=t.nil;return f.length&&(P=(0,t.or)(P,...f.map(T=>(0,t._)`${(0,e.usePattern)(a,T)}.test(${_})`))),(0,t.not)(P)}function p(_){i.code((0,t._)`delete ${o}[${_}]`)}function S(_){if(w.removeAdditional==="all"||w.removeAdditional&&u===!1){p(_);return}if(u===!1){a.setParams({additionalProperty:_}),a.error(),v||i.break();return}if(typeof u=="object"&&!(0,r.alwaysValidSchema)(g,u)){const P=i.name("valid");w.removeAdditional==="failing"?(y(_,P,!1),i.if((0,t.not)(P),()=>{a.reset(),p(_)})):(y(_,P),v||i.if((0,t.not)(P),()=>i.break()))}}function y(_,P,T){const M={keyword:"additionalProperties",dataProp:_,dataPropType:r.Type.Str};T===!1&&Object.assign(M,{compositeRule:!0,createErrors:!1,allErrors:!1}),a.subschema(M,P)}}};return wr.default=n,wr}var Er={},ho;function pf(){if(ho)return Er;ho=1,Object.defineProperty(Er,"__esModule",{value:!0});const e=Xn(),t=De(),s=ae(),r=Gl(),c={keyword:"properties",type:"object",schemaType:"object",code(n){const{gen:a,schema:i,parentSchema:u,data:d,it:o}=n;o.opts.removeAdditional==="all"&&u.additionalProperties===void 0&&r.default.code(new e.KeywordCxt(o,r.default,"additionalProperties"));const $=(0,t.allSchemaProperties)(i);for(const f of $)o.definedProperties.add(f);o.opts.unevaluated&&$.length&&o.props!==!0&&(o.props=s.mergeEvaluated.props(a,(0,s.toHash)($),o.props));const g=$.filter(f=>!(0,s.alwaysValidSchema)(o,i[f]));if(g.length===0)return;const v=a.name("valid");for(const f of g)w(f)?E(f):(a.if((0,t.propertyInData)(a,d,f,o.opts.ownProperties)),E(f),o.allErrors||a.else().var(v,!0),a.endIf()),n.it.definedProperties.add(f),n.ok(v);function w(f){return o.opts.useDefaults&&!o.compositeRule&&i[f].default!==void 0}function E(f){n.subschema({keyword:"properties",schemaProp:f,dataProp:f},v)}}};return Er.default=c,Er}var Sr={},po;function mf(){if(po)return Sr;po=1,Object.defineProperty(Sr,"__esModule",{value:!0});const e=De(),t=ee(),s=ae(),r=ae(),c={keyword:"patternProperties",type:"object",schemaType:"object",code(n){const{gen:a,schema:i,data:u,parentSchema:d,it:o}=n,{opts:$}=o,g=(0,e.allSchemaProperties)(i),v=g.filter(S=>(0,s.alwaysValidSchema)(o,i[S]));if(g.length===0||v.length===g.length&&(!o.opts.unevaluated||o.props===!0))return;const w=$.strictSchema&&!$.allowMatchingProperties&&d.properties,E=a.name("valid");o.props!==!0&&!(o.props instanceof t.Name)&&(o.props=(0,r.evaluatedPropsToName)(a,o.props));const{props:f}=o;h();function h(){for(const S of g)w&&l(S),o.allErrors?p(S):(a.var(E,!0),p(S),a.if(E))}function l(S){for(const y in w)new RegExp(S).test(y)&&(0,s.checkStrictMode)(o,`property ${y} matches pattern ${S} (use allowMatchingProperties)`)}function p(S){a.forIn("key",u,y=>{a.if((0,t._)`${(0,e.usePattern)(n,S)}.test(${y})`,()=>{const _=v.includes(S);_||n.subschema({keyword:"patternProperties",schemaProp:S,dataProp:y,dataPropType:r.Type.Str},E),o.opts.unevaluated&&f!==!0?a.assign((0,t._)`${f}[${y}]`,!0):!_&&!o.allErrors&&a.if((0,t.not)(E),()=>a.break())})})}}};return Sr.default=c,Sr}var br={},mo;function yf(){if(mo)return br;mo=1,Object.defineProperty(br,"__esModule",{value:!0});const e=ae(),t={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(s){const{gen:r,schema:c,it:n}=s;if((0,e.alwaysValidSchema)(n,c)){s.fail();return}const a=r.name("valid");s.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},a),s.failResult(a,()=>s.reset(),()=>s.error())},error:{message:"must NOT be valid"}};return br.default=t,br}var Pr={},yo;function vf(){if(yo)return Pr;yo=1,Object.defineProperty(Pr,"__esModule",{value:!0});const t={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:De().validateUnion,error:{message:"must match a schema in anyOf"}};return Pr.default=t,Pr}var Rr={},vo;function gf(){if(vo)return Rr;vo=1,Object.defineProperty(Rr,"__esModule",{value:!0});const e=ee(),t=ae(),r={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:({params:c})=>(0,e._)`{passingSchemas: ${c.passing}}`},code(c){const{gen:n,schema:a,parentSchema:i,it:u}=c;if(!Array.isArray(a))throw new Error("ajv implementation error");if(u.opts.discriminator&&i.discriminator)return;const d=a,o=n.let("valid",!1),$=n.let("passing",null),g=n.name("_valid");c.setParams({passing:$}),n.block(v),c.result(o,()=>c.reset(),()=>c.error(!0));function v(){d.forEach((w,E)=>{let f;(0,t.alwaysValidSchema)(u,w)?n.var(g,!0):f=c.subschema({keyword:"oneOf",schemaProp:E,compositeRule:!0},g),E>0&&n.if((0,e._)`${g} && ${o}`).assign(o,!1).assign($,(0,e._)`[${$}, ${E}]`).else(),n.if(g,()=>{n.assign(o,!0),n.assign($,E),f&&c.mergeEvaluated(f,e.Name)})})}}};return Rr.default=r,Rr}var Nr={},go;function $f(){if(go)return Nr;go=1,Object.defineProperty(Nr,"__esModule",{value:!0});const e=ae(),t={keyword:"allOf",schemaType:"array",code(s){const{gen:r,schema:c,it:n}=s;if(!Array.isArray(c))throw new Error("ajv implementation error");const a=r.name("valid");c.forEach((i,u)=>{if((0,e.alwaysValidSchema)(n,i))return;const d=s.subschema({keyword:"allOf",schemaProp:u},a);s.ok(a),s.mergeEvaluated(d)})}};return Nr.default=t,Nr}var Ir={},$o;function _f(){if($o)return Ir;$o=1,Object.defineProperty(Ir,"__esModule",{value:!0});const e=ee(),t=ae(),r={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:({params:n})=>(0,e.str)`must match "${n.ifClause}" schema`,params:({params:n})=>(0,e._)`{failingKeyword: ${n.ifClause}}`},code(n){const{gen:a,parentSchema:i,it:u}=n;i.then===void 0&&i.else===void 0&&(0,t.checkStrictMode)(u,'"if" without "then" and "else" is ignored');const d=c(u,"then"),o=c(u,"else");if(!d&&!o)return;const $=a.let("valid",!0),g=a.name("_valid");if(v(),n.reset(),d&&o){const E=a.let("ifClause");n.setParams({ifClause:E}),a.if(g,w("then",E),w("else",E))}else d?a.if(g,w("then")):a.if((0,e.not)(g),w("else"));n.pass($,()=>n.error(!0));function v(){const E=n.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},g);n.mergeEvaluated(E)}function w(E,f){return()=>{const h=n.subschema({keyword:E},g);a.assign($,g),n.mergeValidEvaluated(h,$),f?a.assign(f,(0,e._)`${E}`):n.setParams({ifClause:E})}}}};function c(n,a){const i=n.schema[a];return i!==void 0&&!(0,t.alwaysValidSchema)(n,i)}return Ir.default=r,Ir}var Or={},_o;function wf(){if(_o)return Or;_o=1,Object.defineProperty(Or,"__esModule",{value:!0});const e=ae(),t={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:s,parentSchema:r,it:c}){r.if===void 0&&(0,e.checkStrictMode)(c,`"${s}" without "if" is ignored`)}};return Or.default=t,Or}var wo;function Ef(){if(wo)return yr;wo=1,Object.defineProperty(yr,"__esModule",{value:!0});const e=Ul(),t=lf(),s=zl(),r=df(),c=ff(),n=ei(),a=hf(),i=Gl(),u=pf(),d=mf(),o=yf(),$=vf(),g=gf(),v=$f(),w=_f(),E=wf();function f(h=!1){const l=[o.default,$.default,g.default,v.default,w.default,E.default,a.default,i.default,n.default,u.default,d.default];return h?l.push(t.default,r.default):l.push(e.default,s.default),l.push(c.default),l}return yr.default=f,yr}var Tr={},Rt={},Eo;function xl(){if(Eo)return Rt;Eo=1,Object.defineProperty(Rt,"__esModule",{value:!0}),Rt.dynamicAnchor=void 0;const e=ee(),t=qe(),s=Yn(),r=Za(),c={keyword:"$dynamicAnchor",schemaType:"string",code:i=>n(i,i.schema)};function n(i,u){const{gen:d,it:o}=i;o.schemaEnv.root.dynamicAnchors[u]=!0;const $=(0,e._)`${t.default.dynamicAnchors}${(0,e.getProperty)(u)}`,g=o.errSchemaPath==="#"?o.validateName:a(i);d.if((0,e._)`!${$}`,()=>d.assign($,g))}Rt.dynamicAnchor=n;function a(i){const{schemaEnv:u,schema:d,self:o}=i.it,{root:$,baseId:g,localRefs:v,meta:w}=u.root,{schemaId:E}=o.opts,f=new s.SchemaEnv({schema:d,schemaId:E,root:$,baseId:g,localRefs:v,meta:w});return s.compileSchema.call(o,f),(0,r.getValidate)(i,f)}return Rt.default=c,Rt}var Nt={},So;function Kl(){if(So)return Nt;So=1,Object.defineProperty(Nt,"__esModule",{value:!0}),Nt.dynamicRef=void 0;const e=ee(),t=qe(),s=Za(),r={keyword:"$dynamicRef",schemaType:"string",code:n=>c(n,n.schema)};function c(n,a){const{gen:i,keyword:u,it:d}=n;if(a[0]!=="#")throw new Error(`"${u}" only supports hash fragment reference`);const o=a.slice(1);if(d.allErrors)$();else{const v=i.let("valid",!1);$(v),n.ok(v)}function $(v){if(d.schemaEnv.root.dynamicAnchors[o]){const w=i.let("_v",(0,e._)`${t.default.dynamicAnchors}${(0,e.getProperty)(o)}`);i.if(w,g(w,v),g(d.validateName,v))}else g(d.validateName,v)()}function g(v,w){return w?()=>i.block(()=>{(0,s.callRef)(n,v),i.let(w,!0)}):()=>(0,s.callRef)(n,v)}}return Nt.dynamicRef=c,Nt.default=r,Nt}var jr={},bo;function Sf(){if(bo)return jr;bo=1,Object.defineProperty(jr,"__esModule",{value:!0});const e=xl(),t=ae(),s={keyword:"$recursiveAnchor",schemaType:"boolean",code(r){r.schema?(0,e.dynamicAnchor)(r,""):(0,t.checkStrictMode)(r.it,"$recursiveAnchor: false is ignored")}};return jr.default=s,jr}var Cr={},Po;function bf(){if(Po)return Cr;Po=1,Object.defineProperty(Cr,"__esModule",{value:!0});const e=Kl(),t={keyword:"$recursiveRef",schemaType:"string",code:s=>(0,e.dynamicRef)(s,s.schema)};return Cr.default=t,Cr}var Ro;function Pf(){if(Ro)return Tr;Ro=1,Object.defineProperty(Tr,"__esModule",{value:!0});const e=xl(),t=Kl(),s=Sf(),r=bf(),c=[e.default,t.default,s.default,r.default];return Tr.default=c,Tr}var Ar={},kr={},No;function Rf(){if(No)return kr;No=1,Object.defineProperty(kr,"__esModule",{value:!0});const e=ei(),t={keyword:"dependentRequired",type:"object",schemaType:"object",error:e.error,code:s=>(0,e.validatePropertyDeps)(s)};return kr.default=t,kr}var qr={},Io;function Nf(){if(Io)return qr;Io=1,Object.defineProperty(qr,"__esModule",{value:!0});const e=ei(),t={keyword:"dependentSchemas",type:"object",schemaType:"object",code:s=>(0,e.validateSchemaDeps)(s)};return qr.default=t,qr}var Dr={},Oo;function If(){if(Oo)return Dr;Oo=1,Object.defineProperty(Dr,"__esModule",{value:!0});const e=ae(),t={keyword:["maxContains","minContains"],type:"array",schemaType:"number",code({keyword:s,parentSchema:r,it:c}){r.contains===void 0&&(0,e.checkStrictMode)(c,`"${s}" without "contains" is ignored`)}};return Dr.default=t,Dr}var To;function Of(){if(To)return Ar;To=1,Object.defineProperty(Ar,"__esModule",{value:!0});const e=Rf(),t=Nf(),s=If(),r=[e.default,t.default,s.default];return Ar.default=r,Ar}var Mr={},Lr={},jo;function Tf(){if(jo)return Lr;jo=1,Object.defineProperty(Lr,"__esModule",{value:!0});const e=ee(),t=ae(),s=qe(),c={keyword:"unevaluatedProperties",type:"object",schemaType:["boolean","object"],trackErrors:!0,error:{message:"must NOT have unevaluated properties",params:({params:n})=>(0,e._)`{unevaluatedProperty: ${n.unevaluatedProperty}}`},code(n){const{gen:a,schema:i,data:u,errsCount:d,it:o}=n;if(!d)throw new Error("ajv implementation error");const{allErrors:$,props:g}=o;g instanceof e.Name?a.if((0,e._)`${g} !== true`,()=>a.forIn("key",u,f=>a.if(w(g,f),()=>v(f)))):g!==!0&&a.forIn("key",u,f=>g===void 0?v(f):a.if(E(g,f),()=>v(f))),o.props=!0,n.ok((0,e._)`${d} === ${s.default.errors}`);function v(f){if(i===!1){n.setParams({unevaluatedProperty:f}),n.error(),$||a.break();return}if(!(0,t.alwaysValidSchema)(o,i)){const h=a.name("valid");n.subschema({keyword:"unevaluatedProperties",dataProp:f,dataPropType:t.Type.Str},h),$||a.if((0,e.not)(h),()=>a.break())}}function w(f,h){return(0,e._)`!${f} || !${f}[${h}]`}function E(f,h){const l=[];for(const p in f)f[p]===!0&&l.push((0,e._)`${h} !== ${p}`);return(0,e.and)(...l)}}};return Lr.default=c,Lr}var Vr={},Co;function jf(){if(Co)return Vr;Co=1,Object.defineProperty(Vr,"__esModule",{value:!0});const e=ee(),t=ae(),r={keyword:"unevaluatedItems",type:"array",schemaType:["boolean","object"],error:{message:({params:{len:c}})=>(0,e.str)`must NOT have more than ${c} items`,params:({params:{len:c}})=>(0,e._)`{limit: ${c}}`},code(c){const{gen:n,schema:a,data:i,it:u}=c,d=u.items||0;if(d===!0)return;const o=n.const("len",(0,e._)`${i}.length`);if(a===!1)c.setParams({len:d}),c.fail((0,e._)`${o} > ${d}`);else if(typeof a=="object"&&!(0,t.alwaysValidSchema)(u,a)){const g=n.var("valid",(0,e._)`${o} <= ${d}`);n.if((0,e.not)(g),()=>$(g,d)),c.ok(g)}u.items=!0;function $(g,v){n.forRange("i",v,o,w=>{c.subschema({keyword:"unevaluatedItems",dataProp:w,dataPropType:t.Type.Num},g),u.allErrors||n.if((0,e.not)(g),()=>n.break())})}}};return Vr.default=r,Vr}var Ao;function Cf(){if(Ao)return Mr;Ao=1,Object.defineProperty(Mr,"__esModule",{value:!0});const e=Tf(),t=jf(),s=[e.default,t.default];return Mr.default=s,Mr}var Fr={},Ur={},ko;function Af(){if(ko)return Ur;ko=1,Object.defineProperty(Ur,"__esModule",{value:!0});const e=ee(),s={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:({schemaCode:r})=>(0,e.str)`must match format "${r}"`,params:({schemaCode:r})=>(0,e._)`{format: ${r}}`},code(r,c){const{gen:n,data:a,$data:i,schema:u,schemaCode:d,it:o}=r,{opts:$,errSchemaPath:g,schemaEnv:v,self:w}=o;if(!$.validateFormats)return;i?E():f();function E(){const h=n.scopeValue("formats",{ref:w.formats,code:$.code.formats}),l=n.const("fDef",(0,e._)`${h}[${d}]`),p=n.let("fType"),S=n.let("format");n.if((0,e._)`typeof ${l} == "object" && !(${l} instanceof RegExp)`,()=>n.assign(p,(0,e._)`${l}.type || "string"`).assign(S,(0,e._)`${l}.validate`),()=>n.assign(p,(0,e._)`"string"`).assign(S,l)),r.fail$data((0,e.or)(y(),_()));function y(){return $.strictSchema===!1?e.nil:(0,e._)`${d} && !${S}`}function _(){const P=v.$async?(0,e._)`(${l}.async ? await ${S}(${a}) : ${S}(${a}))`:(0,e._)`${S}(${a})`,T=(0,e._)`(typeof ${S} == "function" ? ${P} : ${S}.test(${a}))`;return(0,e._)`${S} && ${S} !== true && ${p} === ${c} && !${T}`}}function f(){const h=w.formats[u];if(!h){y();return}if(h===!0)return;const[l,p,S]=_(h);l===c&&r.pass(P());function y(){if($.strictSchema===!1){w.logger.warn(T());return}throw new Error(T());function T(){return`unknown format "${u}" ignored in schema at path "${g}"`}}function _(T){const M=T instanceof RegExp?(0,e.regexpCode)(T):$.code.formats?(0,e._)`${$.code.formats}${(0,e.getProperty)(u)}`:void 0,U=n.scopeValue("formats",{key:u,ref:T,code:M});return typeof T=="object"&&!(T instanceof RegExp)?[T.type||"string",T.validate,(0,e._)`${U}.validate`]:["string",T,U]}function P(){if(typeof h=="object"&&!(h instanceof RegExp)&&h.async){if(!v.$async)throw new Error("async format in sync schema");return(0,e._)`await ${S}(${a})`}return typeof p=="function"?(0,e._)`${S}(${a})`:(0,e._)`${S}.test(${a})`}}}};return Ur.default=s,Ur}var qo;function kf(){if(qo)return Fr;qo=1,Object.defineProperty(Fr,"__esModule",{value:!0});const t=[Af().default];return Fr.default=t,Fr}var ht={},Do;function qf(){return Do||(Do=1,Object.defineProperty(ht,"__esModule",{value:!0}),ht.contentVocabulary=ht.metadataVocabulary=void 0,ht.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],ht.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]),ht}var Mo;function Df(){if(Mo)return er;Mo=1,Object.defineProperty(er,"__esModule",{value:!0});const e=Jd(),t=uf(),s=Ef(),r=Pf(),c=Of(),n=Cf(),a=kf(),i=qf(),u=[r.default,e.default,t.default,(0,s.default)(!0),a.default,i.metadataVocabulary,i.contentVocabulary,c.default,n.default];return er.default=u,er}var zr={},Ft={},Lo;function Mf(){if(Lo)return Ft;Lo=1,Object.defineProperty(Ft,"__esModule",{value:!0}),Ft.DiscrError=void 0;var e;return(function(t){t.Tag="tag",t.Mapping="mapping"})(e||(Ft.DiscrError=e={})),Ft}var Vo;function Lf(){if(Vo)return zr;Vo=1,Object.defineProperty(zr,"__esModule",{value:!0});const e=ee(),t=Mf(),s=Yn(),r=Jn(),c=ae(),a={keyword:"discriminator",type:"object",schemaType:"object",error:{message:({params:{discrError:i,tagName:u}})=>i===t.DiscrError.Tag?`tag "${u}" must be string`:`value of tag "${u}" must be in oneOf`,params:({params:{discrError:i,tag:u,tagName:d}})=>(0,e._)`{error: ${i}, tag: ${d}, tagValue: ${u}}`},code(i){const{gen:u,data:d,schema:o,parentSchema:$,it:g}=i,{oneOf:v}=$;if(!g.opts.discriminator)throw new Error("discriminator: requires discriminator option");const w=o.propertyName;if(typeof w!="string")throw new Error("discriminator: requires propertyName");if(o.mapping)throw new Error("discriminator: mapping is not supported");if(!v)throw new Error("discriminator: requires oneOf keyword");const E=u.let("valid",!1),f=u.const("tag",(0,e._)`${d}${(0,e.getProperty)(w)}`);u.if((0,e._)`typeof ${f} == "string"`,()=>h(),()=>i.error(!1,{discrError:t.DiscrError.Tag,tag:f,tagName:w})),i.ok(E);function h(){const S=p();u.if(!1);for(const y in S)u.elseIf((0,e._)`${f} === ${y}`),u.assign(E,l(S[y]));u.else(),i.error(!1,{discrError:t.DiscrError.Mapping,tag:f,tagName:w}),u.endIf()}function l(S){const y=u.name("valid"),_=i.subschema({keyword:"oneOf",schemaProp:S},y);return i.mergeEvaluated(_,e.Name),y}function p(){var S;const y={},_=T($);let P=!0;for(let D=0;D<v.length;D++){let V=v[D];if(V?.$ref&&!(0,c.schemaHasRulesButRef)(V,g.self.RULES)){const q=V.$ref;if(V=s.resolveRef.call(g.self,g.schemaEnv.root,g.baseId,q),V instanceof s.SchemaEnv&&(V=V.schema),V===void 0)throw new r.default(g.opts.uriResolver,g.baseId,q)}const F=(S=V?.properties)===null||S===void 0?void 0:S[w];if(typeof F!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${w}"`);P=P&&(_||T(V)),M(F,D)}if(!P)throw new Error(`discriminator: "${w}" must be required`);return y;function T({required:D}){return Array.isArray(D)&&D.includes(w)}function M(D,V){if(D.const)U(D.const,V);else if(D.enum)for(const F of D.enum)U(F,V);else throw new Error(`discriminator: "properties/${w}" must have "const" or "enum"`)}function U(D,V){if(typeof D!="string"||D in y)throw new Error(`discriminator: "${w}" values must be unique strings`);y[D]=V}}}};return zr.default=a,zr}var Gr={};const Vf="https://json-schema.org/draft/2020-12/schema",Ff="https://json-schema.org/draft/2020-12/schema",Uf={"https://json-schema.org/draft/2020-12/vocab/core":!0,"https://json-schema.org/draft/2020-12/vocab/applicator":!0,"https://json-schema.org/draft/2020-12/vocab/unevaluated":!0,"https://json-schema.org/draft/2020-12/vocab/validation":!0,"https://json-schema.org/draft/2020-12/vocab/meta-data":!0,"https://json-schema.org/draft/2020-12/vocab/format-annotation":!0,"https://json-schema.org/draft/2020-12/vocab/content":!0},zf="meta",Gf="Core and Validation specifications meta-schema",xf=[{$ref:"meta/core"},{$ref:"meta/applicator"},{$ref:"meta/unevaluated"},{$ref:"meta/validation"},{$ref:"meta/meta-data"},{$ref:"meta/format-annotation"},{$ref:"meta/content"}],Kf=["object","boolean"],Hf="This meta-schema also defines keywords that have appeared in previous drafts in order to prevent incompatible extensions as they remain in common use.",Bf={definitions:{$comment:'"definitions" has been replaced by "$defs".',type:"object",additionalProperties:{$dynamicRef:"#meta"},deprecated:!0,default:{}},dependencies:{$comment:'"dependencies" has been split and replaced by "dependentSchemas" and "dependentRequired" in order to serve their differing semantics.',type:"object",additionalProperties:{anyOf:[{$dynamicRef:"#meta"},{$ref:"meta/validation#/$defs/stringArray"}]},deprecated:!0,default:{}},$recursiveAnchor:{$comment:'"$recursiveAnchor" has been replaced by "$dynamicAnchor".',$ref:"meta/core#/$defs/anchorString",deprecated:!0},$recursiveRef:{$comment:'"$recursiveRef" has been replaced by "$dynamicRef".',$ref:"meta/core#/$defs/uriReferenceString",deprecated:!0}},Wf={$schema:Vf,$id:Ff,$vocabulary:Uf,$dynamicAnchor:zf,title:Gf,allOf:xf,type:Kf,$comment:Hf,properties:Bf},Xf="https://json-schema.org/draft/2020-12/schema",Jf="https://json-schema.org/draft/2020-12/meta/applicator",Yf={"https://json-schema.org/draft/2020-12/vocab/applicator":!0},Zf="meta",Qf="Applicator vocabulary meta-schema",eh=["object","boolean"],th={prefixItems:{$ref:"#/$defs/schemaArray"},items:{$dynamicRef:"#meta"},contains:{$dynamicRef:"#meta"},additionalProperties:{$dynamicRef:"#meta"},properties:{type:"object",additionalProperties:{$dynamicRef:"#meta"},default:{}},patternProperties:{type:"object",additionalProperties:{$dynamicRef:"#meta"},propertyNames:{format:"regex"},default:{}},dependentSchemas:{type:"object",additionalProperties:{$dynamicRef:"#meta"},default:{}},propertyNames:{$dynamicRef:"#meta"},if:{$dynamicRef:"#meta"},then:{$dynamicRef:"#meta"},else:{$dynamicRef:"#meta"},allOf:{$ref:"#/$defs/schemaArray"},anyOf:{$ref:"#/$defs/schemaArray"},oneOf:{$ref:"#/$defs/schemaArray"},not:{$dynamicRef:"#meta"}},rh={schemaArray:{type:"array",minItems:1,items:{$dynamicRef:"#meta"}}},nh={$schema:Xf,$id:Jf,$vocabulary:Yf,$dynamicAnchor:Zf,title:Qf,type:eh,properties:th,$defs:rh},sh="https://json-schema.org/draft/2020-12/schema",ah="https://json-schema.org/draft/2020-12/meta/unevaluated",ih={"https://json-schema.org/draft/2020-12/vocab/unevaluated":!0},oh="meta",ch="Unevaluated applicator vocabulary meta-schema",uh=["object","boolean"],lh={unevaluatedItems:{$dynamicRef:"#meta"},unevaluatedProperties:{$dynamicRef:"#meta"}},dh={$schema:sh,$id:ah,$vocabulary:ih,$dynamicAnchor:oh,title:ch,type:uh,properties:lh},fh="https://json-schema.org/draft/2020-12/schema",hh="https://json-schema.org/draft/2020-12/meta/content",ph={"https://json-schema.org/draft/2020-12/vocab/content":!0},mh="meta",yh="Content vocabulary meta-schema",vh=["object","boolean"],gh={contentEncoding:{type:"string"},contentMediaType:{type:"string"},contentSchema:{$dynamicRef:"#meta"}},$h={$schema:fh,$id:hh,$vocabulary:ph,$dynamicAnchor:mh,title:yh,type:vh,properties:gh},_h="https://json-schema.org/draft/2020-12/schema",wh="https://json-schema.org/draft/2020-12/meta/core",Eh={"https://json-schema.org/draft/2020-12/vocab/core":!0},Sh="meta",bh="Core vocabulary meta-schema",Ph=["object","boolean"],Rh={$id:{$ref:"#/$defs/uriReferenceString",$comment:"Non-empty fragments not allowed.",pattern:"^[^#]*#?$"},$schema:{$ref:"#/$defs/uriString"},$ref:{$ref:"#/$defs/uriReferenceString"},$anchor:{$ref:"#/$defs/anchorString"},$dynamicRef:{$ref:"#/$defs/uriReferenceString"},$dynamicAnchor:{$ref:"#/$defs/anchorString"},$vocabulary:{type:"object",propertyNames:{$ref:"#/$defs/uriString"},additionalProperties:{type:"boolean"}},$comment:{type:"string"},$defs:{type:"object",additionalProperties:{$dynamicRef:"#meta"}}},Nh={anchorString:{type:"string",pattern:"^[A-Za-z_][-A-Za-z0-9._]*$"},uriString:{type:"string",format:"uri"},uriReferenceString:{type:"string",format:"uri-reference"}},Ih={$schema:_h,$id:wh,$vocabulary:Eh,$dynamicAnchor:Sh,title:bh,type:Ph,properties:Rh,$defs:Nh},Oh="https://json-schema.org/draft/2020-12/schema",Th="https://json-schema.org/draft/2020-12/meta/format-annotation",jh={"https://json-schema.org/draft/2020-12/vocab/format-annotation":!0},Ch="meta",Ah="Format vocabulary meta-schema for annotation results",kh=["object","boolean"],qh={format:{type:"string"}},Dh={$schema:Oh,$id:Th,$vocabulary:jh,$dynamicAnchor:Ch,title:Ah,type:kh,properties:qh},Mh="https://json-schema.org/draft/2020-12/schema",Lh="https://json-schema.org/draft/2020-12/meta/meta-data",Vh={"https://json-schema.org/draft/2020-12/vocab/meta-data":!0},Fh="meta",Uh="Meta-data vocabulary meta-schema",zh=["object","boolean"],Gh={title:{type:"string"},description:{type:"string"},default:!0,deprecated:{type:"boolean",default:!1},readOnly:{type:"boolean",default:!1},writeOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0}},xh={$schema:Mh,$id:Lh,$vocabulary:Vh,$dynamicAnchor:Fh,title:Uh,type:zh,properties:Gh},Kh="https://json-schema.org/draft/2020-12/schema",Hh="https://json-schema.org/draft/2020-12/meta/validation",Bh={"https://json-schema.org/draft/2020-12/vocab/validation":!0},Wh="meta",Xh="Validation vocabulary meta-schema",Jh=["object","boolean"],Yh={type:{anyOf:[{$ref:"#/$defs/simpleTypes"},{type:"array",items:{$ref:"#/$defs/simpleTypes"},minItems:1,uniqueItems:!0}]},const:!0,enum:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/$defs/nonNegativeInteger"},minLength:{$ref:"#/$defs/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},maxItems:{$ref:"#/$defs/nonNegativeInteger"},minItems:{$ref:"#/$defs/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},maxContains:{$ref:"#/$defs/nonNegativeInteger"},minContains:{$ref:"#/$defs/nonNegativeInteger",default:1},maxProperties:{$ref:"#/$defs/nonNegativeInteger"},minProperties:{$ref:"#/$defs/nonNegativeIntegerDefault0"},required:{$ref:"#/$defs/stringArray"},dependentRequired:{type:"object",additionalProperties:{$ref:"#/$defs/stringArray"}}},Zh={nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{$ref:"#/$defs/nonNegativeInteger",default:0},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},Qh={$schema:Kh,$id:Hh,$vocabulary:Bh,$dynamicAnchor:Wh,title:Xh,type:Jh,properties:Yh,$defs:Zh};var Fo;function ep(){if(Fo)return Gr;Fo=1,Object.defineProperty(Gr,"__esModule",{value:!0});const e=Wf,t=nh,s=dh,r=$h,c=Ih,n=Dh,a=xh,i=Qh,u=["/properties"];function d(o){return[e,t,s,r,c,$(this,n),a,$(this,i)].forEach(g=>this.addMetaSchema(g,void 0,!1)),this;function $(g,v){return o?g.$dataMetaSchema(v,u):v}}return Gr.default=d,Gr}var Uo;function tp(){return Uo||(Uo=1,(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=t.Ajv2020=void 0;const s=Wd(),r=Df(),c=Lf(),n=ep(),a="https://json-schema.org/draft/2020-12/schema";class i extends s.default{constructor(v={}){super({...v,dynamicRef:!0,next:!0,unevaluated:!0})}_addVocabularies(){super._addVocabularies(),r.default.forEach(v=>this.addVocabulary(v)),this.opts.discriminator&&this.addKeyword(c.default)}_addDefaultMetaSchema(){super._addDefaultMetaSchema();const{$data:v,meta:w}=this.opts;w&&(n.default.call(this,v),this.refs["http://json-schema.org/schema"]=a)}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(a)?a:void 0)}}t.Ajv2020=i,e.exports=t=i,e.exports.Ajv2020=i,Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var u=Xn();Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return u.KeywordCxt}});var d=ee();Object.defineProperty(t,"_",{enumerable:!0,get:function(){return d._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return d.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return d.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return d.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return d.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return d.CodeGen}});var o=Ya();Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return o.default}});var $=Jn();Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return $.default}})})(Xt,Xt.exports)),Xt.exports}var rp=tp(),xr={exports:{}},ws={},zo;function np(){return zo||(zo=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.formatNames=e.fastFormats=e.fullFormats=void 0;function t(D,V){return{validate:D,compare:V}}e.fullFormats={date:t(n,a),time:t(u(!0),d),"date-time":t(g(!0),v),"iso-time":t(u(),o),"iso-date-time":t(g(),w),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:h,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:U,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:p,int32:{type:"number",validate:_},int64:{type:"number",validate:P},float:{type:"number",validate:T},double:{type:"number",validate:T},password:!0,binary:!0},e.fastFormats={...e.fullFormats,date:t(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,a),time:t(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,d),"date-time":t(/^\d\d\d\d-[0-1]\d-[0-3]\dt(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,v),"iso-time":t(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,o),"iso-date-time":t(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,w),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i},e.formatNames=Object.keys(e.fullFormats);function s(D){return D%4===0&&(D%100!==0||D%400===0)}const r=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,c=[0,31,28,31,30,31,30,31,31,30,31,30,31];function n(D){const V=r.exec(D);if(!V)return!1;const F=+V[1],q=+V[2],z=+V[3];return q>=1&&q<=12&&z>=1&&z<=(q===2&&s(F)?29:c[q])}function a(D,V){if(D&&V)return D>V?1:D<V?-1:0}const i=/^(\d\d):(\d\d):(\d\d(?:\.\d+)?)(z|([+-])(\d\d)(?::?(\d\d))?)?$/i;function u(D){return function(F){const q=i.exec(F);if(!q)return!1;const z=+q[1],W=+q[2],x=+q[3],B=q[4],X=q[5]==="-"?-1:1,A=+(q[6]||0),N=+(q[7]||0);if(A>23||N>59||D&&!B)return!1;if(z<=23&&W<=59&&x<60)return!0;const C=W-N*X,I=z-A*X-(C<0?1:0);return(I===23||I===-1)&&(C===59||C===-1)&&x<61}}function d(D,V){if(!(D&&V))return;const F=new Date("2020-01-01T"+D).valueOf(),q=new Date("2020-01-01T"+V).valueOf();if(F&&q)return F-q}function o(D,V){if(!(D&&V))return;const F=i.exec(D),q=i.exec(V);if(F&&q)return D=F[1]+F[2]+F[3],V=q[1]+q[2]+q[3],D>V?1:D<V?-1:0}const $=/t|\s/i;function g(D){const V=u(D);return function(q){const z=q.split($);return z.length===2&&n(z[0])&&V(z[1])}}function v(D,V){if(!(D&&V))return;const F=new Date(D).valueOf(),q=new Date(V).valueOf();if(F&&q)return F-q}function w(D,V){if(!(D&&V))return;const[F,q]=D.split($),[z,W]=V.split($),x=a(F,z);if(x!==void 0)return x||d(q,W)}const E=/\/|:/,f=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function h(D){return E.test(D)&&f.test(D)}const l=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function p(D){return l.lastIndex=0,l.test(D)}const S=-2147483648,y=2**31-1;function _(D){return Number.isInteger(D)&&D<=y&&D>=S}function P(D){return Number.isInteger(D)}function T(){return!0}const M=/[^\\]\\Z/;function U(D){if(M.test(D))return!1;try{return new RegExp(D),!0}catch{return!1}}})(ws)),ws}var Es={},Kr={exports:{}},Ss={},xe={},pt={},bs={},Ps={},Rs={},Go;function Un(){return Go||(Go=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class t{}e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class s extends t{constructor(l){if(super(),!e.IDENTIFIER.test(l))throw new Error("CodeGen: name must be a valid identifier");this.str=l}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=s;class r extends t{constructor(l){super(),this._items=typeof l=="string"?[l]:l}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const l=this._items[0];return l===""||l==='""'}get str(){var l;return(l=this._str)!==null&&l!==void 0?l:this._str=this._items.reduce((p,S)=>`${p}${S}`,"")}get names(){var l;return(l=this._names)!==null&&l!==void 0?l:this._names=this._items.reduce((p,S)=>(S instanceof s&&(p[S.str]=(p[S.str]||0)+1),p),{})}}e._Code=r,e.nil=new r("");function c(h,...l){const p=[h[0]];let S=0;for(;S<l.length;)i(p,l[S]),p.push(h[++S]);return new r(p)}e._=c;const n=new r("+");function a(h,...l){const p=[v(h[0])];let S=0;for(;S<l.length;)p.push(n),i(p,l[S]),p.push(n,v(h[++S]));return u(p),new r(p)}e.str=a;function i(h,l){l instanceof r?h.push(...l._items):l instanceof s?h.push(l):h.push($(l))}e.addCodeArg=i;function u(h){let l=1;for(;l<h.length-1;){if(h[l]===n){const p=d(h[l-1],h[l+1]);if(p!==void 0){h.splice(l-1,3,p);continue}h[l++]="+"}l++}}function d(h,l){if(l==='""')return h;if(h==='""')return l;if(typeof h=="string")return l instanceof s||h[h.length-1]!=='"'?void 0:typeof l!="string"?`${h.slice(0,-1)}${l}"`:l[0]==='"'?h.slice(0,-1)+l.slice(1):void 0;if(typeof l=="string"&&l[0]==='"'&&!(h instanceof s))return`"${h}${l.slice(1)}`}function o(h,l){return l.emptyStr()?h:h.emptyStr()?l:a`${h}${l}`}e.strConcat=o;function $(h){return typeof h=="number"||typeof h=="boolean"||h===null?h:v(Array.isArray(h)?h.join(","):h)}function g(h){return new r(v(h))}e.stringify=g;function v(h){return JSON.stringify(h).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=v;function w(h){return typeof h=="string"&&e.IDENTIFIER.test(h)?new r(`.${h}`):c`[${h}]`}e.getProperty=w;function E(h){if(typeof h=="string"&&e.IDENTIFIER.test(h))return new r(`${h}`);throw new Error(`CodeGen: invalid export name: ${h}, use explicit $id name mapping`)}e.getEsmExportName=E;function f(h){return new r(h.toString())}e.regexpCode=f})(Rs)),Rs}var Ns={},xo;function Ko(){return xo||(xo=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;const t=Un();class s extends Error{constructor(d){super(`CodeGen: "code" for ${d} not defined`),this.value=d.value}}var r;(function(u){u[u.Started=0]="Started",u[u.Completed=1]="Completed"})(r||(e.UsedValueState=r={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};class c{constructor({prefixes:d,parent:o}={}){this._names={},this._prefixes=d,this._parent=o}toName(d){return d instanceof t.Name?d:this.name(d)}name(d){return new t.Name(this._newName(d))}_newName(d){const o=this._names[d]||this._nameGroup(d);return`${d}${o.index++}`}_nameGroup(d){var o,$;if(!(($=(o=this._parent)===null||o===void 0?void 0:o._prefixes)===null||$===void 0)&&$.has(d)||this._prefixes&&!this._prefixes.has(d))throw new Error(`CodeGen: prefix "${d}" is not allowed in this scope`);return this._names[d]={prefix:d,index:0}}}e.Scope=c;class n extends t.Name{constructor(d,o){super(o),this.prefix=d}setValue(d,{property:o,itemIndex:$}){this.value=d,this.scopePath=(0,t._)`.${new t.Name(o)}[${$}]`}}e.ValueScopeName=n;const a=(0,t._)`\n`;class i extends c{constructor(d){super(d),this._values={},this._scope=d.scope,this.opts={...d,_n:d.lines?a:t.nil}}get(){return this._scope}name(d){return new n(d,this._newName(d))}value(d,o){var $;if(o.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const g=this.toName(d),{prefix:v}=g,w=($=o.key)!==null&&$!==void 0?$:o.ref;let E=this._values[v];if(E){const l=E.get(w);if(l)return l}else E=this._values[v]=new Map;E.set(w,g);const f=this._scope[v]||(this._scope[v]=[]),h=f.length;return f[h]=o.ref,g.setValue(o,{property:v,itemIndex:h}),g}getValue(d,o){const $=this._values[d];if($)return $.get(o)}scopeRefs(d,o=this._values){return this._reduceValues(o,$=>{if($.scopePath===void 0)throw new Error(`CodeGen: name "${$}" has no value`);return(0,t._)`${d}${$.scopePath}`})}scopeCode(d=this._values,o,$){return this._reduceValues(d,g=>{if(g.value===void 0)throw new Error(`CodeGen: name "${g}" has no value`);return g.value.code},o,$)}_reduceValues(d,o,$={},g){let v=t.nil;for(const w in d){const E=d[w];if(!E)continue;const f=$[w]=$[w]||new Map;E.forEach(h=>{if(f.has(h))return;f.set(h,r.Started);let l=o(h);if(l){const p=this.opts.es5?e.varKinds.var:e.varKinds.const;v=(0,t._)`${v}${p} ${h} = ${l};${this.opts._n}`}else if(l=g?.(h))v=(0,t._)`${v}${l}${this.opts._n}`;else throw new s(h);f.set(h,r.Completed)})}return v}}e.ValueScope=i})(Ns)),Ns}var Ho;function ne(){return Ho||(Ho=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;const t=Un(),s=Ko();var r=Un();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return r.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return r.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return r.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}});var c=Ko();Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return c.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return c.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return c.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return c.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};class n{optimizeNodes(){return this}optimizeNames(m,b){return this}}class a extends n{constructor(m,b,j){super(),this.varKind=m,this.name=b,this.rhs=j}render({es5:m,_n:b}){const j=m?s.varKinds.var:this.varKind,G=this.rhs===void 0?"":` = ${this.rhs}`;return`${j} ${this.name}${G};`+b}optimizeNames(m,b){if(m[this.name.str])return this.rhs&&(this.rhs=q(this.rhs,m,b)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}}class i extends n{constructor(m,b,j){super(),this.lhs=m,this.rhs=b,this.sideEffects=j}render({_n:m}){return`${this.lhs} = ${this.rhs};`+m}optimizeNames(m,b){if(!(this.lhs instanceof t.Name&&!m[this.lhs.str]&&!this.sideEffects))return this.rhs=q(this.rhs,m,b),this}get names(){const m=this.lhs instanceof t.Name?{}:{...this.lhs.names};return F(m,this.rhs)}}class u extends i{constructor(m,b,j,G){super(m,j,G),this.op=b}render({_n:m}){return`${this.lhs} ${this.op}= ${this.rhs};`+m}}class d extends n{constructor(m){super(),this.label=m,this.names={}}render({_n:m}){return`${this.label}:`+m}}class o extends n{constructor(m){super(),this.label=m,this.names={}}render({_n:m}){return`break${this.label?` ${this.label}`:""};`+m}}class $ extends n{constructor(m){super(),this.error=m}render({_n:m}){return`throw ${this.error};`+m}get names(){return this.error.names}}class g extends n{constructor(m){super(),this.code=m}render({_n:m}){return`${this.code};`+m}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(m,b){return this.code=q(this.code,m,b),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}}class v extends n{constructor(m=[]){super(),this.nodes=m}render(m){return this.nodes.reduce((b,j)=>b+j.render(m),"")}optimizeNodes(){const{nodes:m}=this;let b=m.length;for(;b--;){const j=m[b].optimizeNodes();Array.isArray(j)?m.splice(b,1,...j):j?m[b]=j:m.splice(b,1)}return m.length>0?this:void 0}optimizeNames(m,b){const{nodes:j}=this;let G=j.length;for(;G--;){const K=j[G];K.optimizeNames(m,b)||(z(m,K.names),j.splice(G,1))}return j.length>0?this:void 0}get names(){return this.nodes.reduce((m,b)=>V(m,b.names),{})}}class w extends v{render(m){return"{"+m._n+super.render(m)+"}"+m._n}}class E extends v{}class f extends w{}f.kind="else";class h extends w{constructor(m,b){super(b),this.condition=m}render(m){let b=`if(${this.condition})`+super.render(m);return this.else&&(b+="else "+this.else.render(m)),b}optimizeNodes(){super.optimizeNodes();const m=this.condition;if(m===!0)return this.nodes;let b=this.else;if(b){const j=b.optimizeNodes();b=this.else=Array.isArray(j)?new f(j):j}if(b)return m===!1?b instanceof h?b:b.nodes:this.nodes.length?this:new h(W(m),b instanceof h?[b]:b.nodes);if(!(m===!1||!this.nodes.length))return this}optimizeNames(m,b){var j;if(this.else=(j=this.else)===null||j===void 0?void 0:j.optimizeNames(m,b),!!(super.optimizeNames(m,b)||this.else))return this.condition=q(this.condition,m,b),this}get names(){const m=super.names;return F(m,this.condition),this.else&&V(m,this.else.names),m}}h.kind="if";class l extends w{}l.kind="for";class p extends l{constructor(m){super(),this.iteration=m}render(m){return`for(${this.iteration})`+super.render(m)}optimizeNames(m,b){if(super.optimizeNames(m,b))return this.iteration=q(this.iteration,m,b),this}get names(){return V(super.names,this.iteration.names)}}class S extends l{constructor(m,b,j,G){super(),this.varKind=m,this.name=b,this.from=j,this.to=G}render(m){const b=m.es5?s.varKinds.var:this.varKind,{name:j,from:G,to:K}=this;return`for(${b} ${j}=${G}; ${j}<${K}; ${j}++)`+super.render(m)}get names(){const m=F(super.names,this.from);return F(m,this.to)}}class y extends l{constructor(m,b,j,G){super(),this.loop=m,this.varKind=b,this.name=j,this.iterable=G}render(m){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(m)}optimizeNames(m,b){if(super.optimizeNames(m,b))return this.iterable=q(this.iterable,m,b),this}get names(){return V(super.names,this.iterable.names)}}class _ extends w{constructor(m,b,j){super(),this.name=m,this.args=b,this.async=j}render(m){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(m)}}_.kind="func";class P extends v{render(m){return"return "+super.render(m)}}P.kind="return";class T extends w{render(m){let b="try"+super.render(m);return this.catch&&(b+=this.catch.render(m)),this.finally&&(b+=this.finally.render(m)),b}optimizeNodes(){var m,b;return super.optimizeNodes(),(m=this.catch)===null||m===void 0||m.optimizeNodes(),(b=this.finally)===null||b===void 0||b.optimizeNodes(),this}optimizeNames(m,b){var j,G;return super.optimizeNames(m,b),(j=this.catch)===null||j===void 0||j.optimizeNames(m,b),(G=this.finally)===null||G===void 0||G.optimizeNames(m,b),this}get names(){const m=super.names;return this.catch&&V(m,this.catch.names),this.finally&&V(m,this.finally.names),m}}class M extends w{constructor(m){super(),this.error=m}render(m){return`catch(${this.error})`+super.render(m)}}M.kind="catch";class U extends w{render(m){return"finally"+super.render(m)}}U.kind="finally";class D{constructor(m,b={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...b,_n:b.lines?`
`:""},this._extScope=m,this._scope=new s.Scope({parent:m}),this._nodes=[new E]}toString(){return this._root.render(this.opts)}name(m){return this._scope.name(m)}scopeName(m){return this._extScope.name(m)}scopeValue(m,b){const j=this._extScope.value(m,b);return(this._values[j.prefix]||(this._values[j.prefix]=new Set)).add(j),j}getScopeValue(m,b){return this._extScope.getValue(m,b)}scopeRefs(m){return this._extScope.scopeRefs(m,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(m,b,j,G){const K=this._scope.toName(b);return j!==void 0&&G&&(this._constants[K.str]=j),this._leafNode(new a(m,K,j)),K}const(m,b,j){return this._def(s.varKinds.const,m,b,j)}let(m,b,j){return this._def(s.varKinds.let,m,b,j)}var(m,b,j){return this._def(s.varKinds.var,m,b,j)}assign(m,b,j){return this._leafNode(new i(m,b,j))}add(m,b){return this._leafNode(new u(m,e.operators.ADD,b))}code(m){return typeof m=="function"?m():m!==t.nil&&this._leafNode(new g(m)),this}object(...m){const b=["{"];for(const[j,G]of m)b.length>1&&b.push(","),b.push(j),(j!==G||this.opts.es5)&&(b.push(":"),(0,t.addCodeArg)(b,G));return b.push("}"),new t._Code(b)}if(m,b,j){if(this._blockNode(new h(m)),b&&j)this.code(b).else().code(j).endIf();else if(b)this.code(b).endIf();else if(j)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(m){return this._elseNode(new h(m))}else(){return this._elseNode(new f)}endIf(){return this._endBlockNode(h,f)}_for(m,b){return this._blockNode(m),b&&this.code(b).endFor(),this}for(m,b){return this._for(new p(m),b)}forRange(m,b,j,G,K=this.opts.es5?s.varKinds.var:s.varKinds.let){const Z=this._scope.toName(m);return this._for(new S(K,Z,b,j),()=>G(Z))}forOf(m,b,j,G=s.varKinds.const){const K=this._scope.toName(m);if(this.opts.es5){const Z=b instanceof t.Name?b:this.var("_arr",b);return this.forRange("_i",0,(0,t._)`${Z}.length`,Y=>{this.var(K,(0,t._)`${Z}[${Y}]`),j(K)})}return this._for(new y("of",G,K,b),()=>j(K))}forIn(m,b,j,G=this.opts.es5?s.varKinds.var:s.varKinds.const){if(this.opts.ownProperties)return this.forOf(m,(0,t._)`Object.keys(${b})`,j);const K=this._scope.toName(m);return this._for(new y("in",G,K,b),()=>j(K))}endFor(){return this._endBlockNode(l)}label(m){return this._leafNode(new d(m))}break(m){return this._leafNode(new o(m))}return(m){const b=new P;if(this._blockNode(b),this.code(m),b.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(P)}try(m,b,j){if(!b&&!j)throw new Error('CodeGen: "try" without "catch" and "finally"');const G=new T;if(this._blockNode(G),this.code(m),b){const K=this.name("e");this._currNode=G.catch=new M(K),b(K)}return j&&(this._currNode=G.finally=new U,this.code(j)),this._endBlockNode(M,U)}throw(m){return this._leafNode(new $(m))}block(m,b){return this._blockStarts.push(this._nodes.length),m&&this.code(m).endBlock(b),this}endBlock(m){const b=this._blockStarts.pop();if(b===void 0)throw new Error("CodeGen: not in self-balancing block");const j=this._nodes.length-b;if(j<0||m!==void 0&&j!==m)throw new Error(`CodeGen: wrong number of nodes: ${j} vs ${m} expected`);return this._nodes.length=b,this}func(m,b=t.nil,j,G){return this._blockNode(new _(m,b,j)),G&&this.code(G).endFunc(),this}endFunc(){return this._endBlockNode(_)}optimize(m=1){for(;m-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(m){return this._currNode.nodes.push(m),this}_blockNode(m){this._currNode.nodes.push(m),this._nodes.push(m)}_endBlockNode(m,b){const j=this._currNode;if(j instanceof m||b&&j instanceof b)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${b?`${m.kind}/${b.kind}`:m.kind}"`)}_elseNode(m){const b=this._currNode;if(!(b instanceof h))throw new Error('CodeGen: "else" without "if"');return this._currNode=b.else=m,this}get _root(){return this._nodes[0]}get _currNode(){const m=this._nodes;return m[m.length-1]}set _currNode(m){const b=this._nodes;b[b.length-1]=m}}e.CodeGen=D;function V(I,m){for(const b in m)I[b]=(I[b]||0)+(m[b]||0);return I}function F(I,m){return m instanceof t._CodeOrName?V(I,m.names):I}function q(I,m,b){if(I instanceof t.Name)return j(I);if(!G(I))return I;return new t._Code(I._items.reduce((K,Z)=>(Z instanceof t.Name&&(Z=j(Z)),Z instanceof t._Code?K.push(...Z._items):K.push(Z),K),[]));function j(K){const Z=b[K.str];return Z===void 0||m[K.str]!==1?K:(delete m[K.str],Z)}function G(K){return K instanceof t._Code&&K._items.some(Z=>Z instanceof t.Name&&m[Z.str]===1&&b[Z.str]!==void 0)}}function z(I,m){for(const b in m)I[b]=(I[b]||0)-(m[b]||0)}function W(I){return typeof I=="boolean"||typeof I=="number"||I===null?!I:(0,t._)`!${C(I)}`}e.not=W;const x=N(e.operators.AND);function B(...I){return I.reduce(x)}e.and=B;const X=N(e.operators.OR);function A(...I){return I.reduce(X)}e.or=A;function N(I){return(m,b)=>m===t.nil?b:b===t.nil?m:(0,t._)`${C(m)} ${I} ${C(b)}`}function C(I){return I instanceof t.Name?I:(0,t._)`(${I})`}})(Ps)),Ps}var re={},Bo;function ue(){if(Bo)return re;Bo=1,Object.defineProperty(re,"__esModule",{value:!0}),re.checkStrictMode=re.getErrorPath=re.Type=re.useFunc=re.setEvaluated=re.evaluatedPropsToName=re.mergeEvaluated=re.eachItem=re.unescapeJsonPointer=re.escapeJsonPointer=re.escapeFragment=re.unescapeFragment=re.schemaRefOrVal=re.schemaHasRulesButRef=re.schemaHasRules=re.checkUnknownRules=re.alwaysValidSchema=re.toHash=void 0;const e=ne(),t=Un();function s(y){const _={};for(const P of y)_[P]=!0;return _}re.toHash=s;function r(y,_){return typeof _=="boolean"?_:Object.keys(_).length===0?!0:(c(y,_),!n(_,y.self.RULES.all))}re.alwaysValidSchema=r;function c(y,_=y.schema){const{opts:P,self:T}=y;if(!P.strictSchema||typeof _=="boolean")return;const M=T.RULES.keywords;for(const U in _)M[U]||S(y,`unknown keyword: "${U}"`)}re.checkUnknownRules=c;function n(y,_){if(typeof y=="boolean")return!y;for(const P in y)if(_[P])return!0;return!1}re.schemaHasRules=n;function a(y,_){if(typeof y=="boolean")return!y;for(const P in y)if(P!=="$ref"&&_.all[P])return!0;return!1}re.schemaHasRulesButRef=a;function i({topSchemaRef:y,schemaPath:_},P,T,M){if(!M){if(typeof P=="number"||typeof P=="boolean")return P;if(typeof P=="string")return(0,e._)`${P}`}return(0,e._)`${y}${_}${(0,e.getProperty)(T)}`}re.schemaRefOrVal=i;function u(y){return $(decodeURIComponent(y))}re.unescapeFragment=u;function d(y){return encodeURIComponent(o(y))}re.escapeFragment=d;function o(y){return typeof y=="number"?`${y}`:y.replace(/~/g,"~0").replace(/\//g,"~1")}re.escapeJsonPointer=o;function $(y){return y.replace(/~1/g,"/").replace(/~0/g,"~")}re.unescapeJsonPointer=$;function g(y,_){if(Array.isArray(y))for(const P of y)_(P);else _(y)}re.eachItem=g;function v({mergeNames:y,mergeToName:_,mergeValues:P,resultToName:T}){return(M,U,D,V)=>{const F=D===void 0?U:D instanceof e.Name?(U instanceof e.Name?y(M,U,D):_(M,U,D),D):U instanceof e.Name?(_(M,D,U),U):P(U,D);return V===e.Name&&!(F instanceof e.Name)?T(M,F):F}}re.mergeEvaluated={props:v({mergeNames:(y,_,P)=>y.if((0,e._)`${P} !== true && ${_} !== undefined`,()=>{y.if((0,e._)`${_} === true`,()=>y.assign(P,!0),()=>y.assign(P,(0,e._)`${P} || {}`).code((0,e._)`Object.assign(${P}, ${_})`))}),mergeToName:(y,_,P)=>y.if((0,e._)`${P} !== true`,()=>{_===!0?y.assign(P,!0):(y.assign(P,(0,e._)`${P} || {}`),E(y,P,_))}),mergeValues:(y,_)=>y===!0?!0:{...y,..._},resultToName:w}),items:v({mergeNames:(y,_,P)=>y.if((0,e._)`${P} !== true && ${_} !== undefined`,()=>y.assign(P,(0,e._)`${_} === true ? true : ${P} > ${_} ? ${P} : ${_}`)),mergeToName:(y,_,P)=>y.if((0,e._)`${P} !== true`,()=>y.assign(P,_===!0?!0:(0,e._)`${P} > ${_} ? ${P} : ${_}`)),mergeValues:(y,_)=>y===!0?!0:Math.max(y,_),resultToName:(y,_)=>y.var("items",_)})};function w(y,_){if(_===!0)return y.var("props",!0);const P=y.var("props",(0,e._)`{}`);return _!==void 0&&E(y,P,_),P}re.evaluatedPropsToName=w;function E(y,_,P){Object.keys(P).forEach(T=>y.assign((0,e._)`${_}${(0,e.getProperty)(T)}`,!0))}re.setEvaluated=E;const f={};function h(y,_){return y.scopeValue("func",{ref:_,code:f[_.code]||(f[_.code]=new t._Code(_.code))})}re.useFunc=h;var l;(function(y){y[y.Num=0]="Num",y[y.Str=1]="Str"})(l||(re.Type=l={}));function p(y,_,P){if(y instanceof e.Name){const T=_===l.Num;return P?T?(0,e._)`"[" + ${y} + "]"`:(0,e._)`"['" + ${y} + "']"`:T?(0,e._)`"/" + ${y}`:(0,e._)`"/" + ${y}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return P?(0,e.getProperty)(y).toString():"/"+o(y)}re.getErrorPath=p;function S(y,_,P=y.opts.strictSchema){if(P){if(_=`strict mode: ${_}`,P===!0)throw new Error(_);y.self.logger.warn(_)}}return re.checkStrictMode=S,re}var Hr={},Wo;function at(){if(Wo)return Hr;Wo=1,Object.defineProperty(Hr,"__esModule",{value:!0});const e=ne(),t={data:new e.Name("data"),valCxt:new e.Name("valCxt"),instancePath:new e.Name("instancePath"),parentData:new e.Name("parentData"),parentDataProperty:new e.Name("parentDataProperty"),rootData:new e.Name("rootData"),dynamicAnchors:new e.Name("dynamicAnchors"),vErrors:new e.Name("vErrors"),errors:new e.Name("errors"),this:new e.Name("this"),self:new e.Name("self"),scope:new e.Name("scope"),json:new e.Name("json"),jsonPos:new e.Name("jsonPos"),jsonLen:new e.Name("jsonLen"),jsonPart:new e.Name("jsonPart")};return Hr.default=t,Hr}var Xo;function Zn(){return Xo||(Xo=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;const t=ne(),s=ue(),r=at();e.keywordError={message:({keyword:f})=>(0,t.str)`must pass "${f}" keyword validation`},e.keyword$DataError={message:({keyword:f,schemaType:h})=>h?(0,t.str)`"${f}" keyword must be ${h} ($data)`:(0,t.str)`"${f}" keyword is invalid ($data)`};function c(f,h=e.keywordError,l,p){const{it:S}=f,{gen:y,compositeRule:_,allErrors:P}=S,T=$(f,h,l);p??(_||P)?u(y,T):d(S,(0,t._)`[${T}]`)}e.reportError=c;function n(f,h=e.keywordError,l){const{it:p}=f,{gen:S,compositeRule:y,allErrors:_}=p,P=$(f,h,l);u(S,P),y||_||d(p,r.default.vErrors)}e.reportExtraError=n;function a(f,h){f.assign(r.default.errors,h),f.if((0,t._)`${r.default.vErrors} !== null`,()=>f.if(h,()=>f.assign((0,t._)`${r.default.vErrors}.length`,h),()=>f.assign(r.default.vErrors,null)))}e.resetErrorsCount=a;function i({gen:f,keyword:h,schemaValue:l,data:p,errsCount:S,it:y}){if(S===void 0)throw new Error("ajv implementation error");const _=f.name("err");f.forRange("i",S,r.default.errors,P=>{f.const(_,(0,t._)`${r.default.vErrors}[${P}]`),f.if((0,t._)`${_}.instancePath === undefined`,()=>f.assign((0,t._)`${_}.instancePath`,(0,t.strConcat)(r.default.instancePath,y.errorPath))),f.assign((0,t._)`${_}.schemaPath`,(0,t.str)`${y.errSchemaPath}/${h}`),y.opts.verbose&&(f.assign((0,t._)`${_}.schema`,l),f.assign((0,t._)`${_}.data`,p))})}e.extendErrors=i;function u(f,h){const l=f.const("err",h);f.if((0,t._)`${r.default.vErrors} === null`,()=>f.assign(r.default.vErrors,(0,t._)`[${l}]`),(0,t._)`${r.default.vErrors}.push(${l})`),f.code((0,t._)`${r.default.errors}++`)}function d(f,h){const{gen:l,validateName:p,schemaEnv:S}=f;S.$async?l.throw((0,t._)`new ${f.ValidationError}(${h})`):(l.assign((0,t._)`${p}.errors`,h),l.return(!1))}const o={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function $(f,h,l){const{createErrors:p}=f.it;return p===!1?(0,t._)`{}`:g(f,h,l)}function g(f,h,l={}){const{gen:p,it:S}=f,y=[v(S,l),w(f,l)];return E(f,h,y),p.object(...y)}function v({errorPath:f},{instancePath:h}){const l=h?(0,t.str)`${f}${(0,s.getErrorPath)(h,s.Type.Str)}`:f;return[r.default.instancePath,(0,t.strConcat)(r.default.instancePath,l)]}function w({keyword:f,it:{errSchemaPath:h}},{schemaPath:l,parentSchema:p}){let S=p?h:(0,t.str)`${h}/${f}`;return l&&(S=(0,t.str)`${S}${(0,s.getErrorPath)(l,s.Type.Str)}`),[o.schemaPath,S]}function E(f,{params:h,message:l},p){const{keyword:S,data:y,schemaValue:_,it:P}=f,{opts:T,propertyName:M,topSchemaRef:U,schemaPath:D}=P;p.push([o.keyword,S],[o.params,typeof h=="function"?h(f):h||(0,t._)`{}`]),T.messages&&p.push([o.message,typeof l=="function"?l(f):l]),T.verbose&&p.push([o.schema,_],[o.parentSchema,(0,t._)`${U}${D}`],[r.default.data,y]),M&&p.push([o.propertyName,M])}})(bs)),bs}var Jo;function sp(){if(Jo)return pt;Jo=1,Object.defineProperty(pt,"__esModule",{value:!0}),pt.boolOrEmptySchema=pt.topBoolOrEmptySchema=void 0;const e=Zn(),t=ne(),s=at(),r={message:"boolean schema is false"};function c(i){const{gen:u,schema:d,validateName:o}=i;d===!1?a(i,!1):typeof d=="object"&&d.$async===!0?u.return(s.default.data):(u.assign((0,t._)`${o}.errors`,null),u.return(!0))}pt.topBoolOrEmptySchema=c;function n(i,u){const{gen:d,schema:o}=i;o===!1?(d.var(u,!1),a(i)):d.var(u,!0)}pt.boolOrEmptySchema=n;function a(i,u){const{gen:d,data:o}=i,$={gen:d,keyword:"false schema",data:o,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:i};(0,e.reportError)($,r,void 0,u)}return pt}var $e={},mt={},Yo;function Hl(){if(Yo)return mt;Yo=1,Object.defineProperty(mt,"__esModule",{value:!0}),mt.getRules=mt.isJSONType=void 0;const e=["string","number","integer","boolean","null","object","array"],t=new Set(e);function s(c){return typeof c=="string"&&t.has(c)}mt.isJSONType=s;function r(){const c={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...c,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},c.number,c.string,c.array,c.object],post:{rules:[]},all:{},keywords:{}}}return mt.getRules=r,mt}var Ke={},Zo;function Bl(){if(Zo)return Ke;Zo=1,Object.defineProperty(Ke,"__esModule",{value:!0}),Ke.shouldUseRule=Ke.shouldUseGroup=Ke.schemaHasRulesForType=void 0;function e({schema:r,self:c},n){const a=c.RULES.types[n];return a&&a!==!0&&t(r,a)}Ke.schemaHasRulesForType=e;function t(r,c){return c.rules.some(n=>s(r,n))}Ke.shouldUseGroup=t;function s(r,c){var n;return r[c.keyword]!==void 0||((n=c.definition.implements)===null||n===void 0?void 0:n.some(a=>r[a]!==void 0))}return Ke.shouldUseRule=s,Ke}var Qo;function zn(){if(Qo)return $e;Qo=1,Object.defineProperty($e,"__esModule",{value:!0}),$e.reportTypeError=$e.checkDataTypes=$e.checkDataType=$e.coerceAndCheckDataType=$e.getJSONTypes=$e.getSchemaTypes=$e.DataType=void 0;const e=Hl(),t=Bl(),s=Zn(),r=ne(),c=ue();var n;(function(l){l[l.Correct=0]="Correct",l[l.Wrong=1]="Wrong"})(n||($e.DataType=n={}));function a(l){const p=i(l.type);if(p.includes("null")){if(l.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!p.length&&l.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');l.nullable===!0&&p.push("null")}return p}$e.getSchemaTypes=a;function i(l){const p=Array.isArray(l)?l:l?[l]:[];if(p.every(e.isJSONType))return p;throw new Error("type must be JSONType or JSONType[]: "+p.join(","))}$e.getJSONTypes=i;function u(l,p){const{gen:S,data:y,opts:_}=l,P=o(p,_.coerceTypes),T=p.length>0&&!(P.length===0&&p.length===1&&(0,t.schemaHasRulesForType)(l,p[0]));if(T){const M=w(p,y,_.strictNumbers,n.Wrong);S.if(M,()=>{P.length?$(l,p,P):f(l)})}return T}$e.coerceAndCheckDataType=u;const d=new Set(["string","number","integer","boolean","null"]);function o(l,p){return p?l.filter(S=>d.has(S)||p==="array"&&S==="array"):[]}function $(l,p,S){const{gen:y,data:_,opts:P}=l,T=y.let("dataType",(0,r._)`typeof ${_}`),M=y.let("coerced",(0,r._)`undefined`);P.coerceTypes==="array"&&y.if((0,r._)`${T} == 'object' && Array.isArray(${_}) && ${_}.length == 1`,()=>y.assign(_,(0,r._)`${_}[0]`).assign(T,(0,r._)`typeof ${_}`).if(w(p,_,P.strictNumbers),()=>y.assign(M,_))),y.if((0,r._)`${M} !== undefined`);for(const D of S)(d.has(D)||D==="array"&&P.coerceTypes==="array")&&U(D);y.else(),f(l),y.endIf(),y.if((0,r._)`${M} !== undefined`,()=>{y.assign(_,M),g(l,M)});function U(D){switch(D){case"string":y.elseIf((0,r._)`${T} == "number" || ${T} == "boolean"`).assign(M,(0,r._)`"" + ${_}`).elseIf((0,r._)`${_} === null`).assign(M,(0,r._)`""`);return;case"number":y.elseIf((0,r._)`${T} == "boolean" || ${_} === null
              || (${T} == "string" && ${_} && ${_} == +${_})`).assign(M,(0,r._)`+${_}`);return;case"integer":y.elseIf((0,r._)`${T} === "boolean" || ${_} === null
              || (${T} === "string" && ${_} && ${_} == +${_} && !(${_} % 1))`).assign(M,(0,r._)`+${_}`);return;case"boolean":y.elseIf((0,r._)`${_} === "false" || ${_} === 0 || ${_} === null`).assign(M,!1).elseIf((0,r._)`${_} === "true" || ${_} === 1`).assign(M,!0);return;case"null":y.elseIf((0,r._)`${_} === "" || ${_} === 0 || ${_} === false`),y.assign(M,null);return;case"array":y.elseIf((0,r._)`${T} === "string" || ${T} === "number"
              || ${T} === "boolean" || ${_} === null`).assign(M,(0,r._)`[${_}]`)}}}function g({gen:l,parentData:p,parentDataProperty:S},y){l.if((0,r._)`${p} !== undefined`,()=>l.assign((0,r._)`${p}[${S}]`,y))}function v(l,p,S,y=n.Correct){const _=y===n.Correct?r.operators.EQ:r.operators.NEQ;let P;switch(l){case"null":return(0,r._)`${p} ${_} null`;case"array":P=(0,r._)`Array.isArray(${p})`;break;case"object":P=(0,r._)`${p} && typeof ${p} == "object" && !Array.isArray(${p})`;break;case"integer":P=T((0,r._)`!(${p} % 1) && !isNaN(${p})`);break;case"number":P=T();break;default:return(0,r._)`typeof ${p} ${_} ${l}`}return y===n.Correct?P:(0,r.not)(P);function T(M=r.nil){return(0,r.and)((0,r._)`typeof ${p} == "number"`,M,S?(0,r._)`isFinite(${p})`:r.nil)}}$e.checkDataType=v;function w(l,p,S,y){if(l.length===1)return v(l[0],p,S,y);let _;const P=(0,c.toHash)(l);if(P.array&&P.object){const T=(0,r._)`typeof ${p} != "object"`;_=P.null?T:(0,r._)`!${p} || ${T}`,delete P.null,delete P.array,delete P.object}else _=r.nil;P.number&&delete P.integer;for(const T in P)_=(0,r.and)(_,v(T,p,S,y));return _}$e.checkDataTypes=w;const E={message:({schema:l})=>`must be ${l}`,params:({schema:l,schemaValue:p})=>typeof l=="string"?(0,r._)`{type: ${l}}`:(0,r._)`{type: ${p}}`};function f(l){const p=h(l);(0,s.reportError)(p,E)}$e.reportTypeError=f;function h(l){const{gen:p,data:S,schema:y}=l,_=(0,c.schemaRefOrVal)(l,y,"type");return{gen:p,keyword:"type",data:S,schema:y.type,schemaCode:_,schemaValue:_,parentSchema:y,params:{},it:l}}return $e}var Ut={},ec;function ap(){if(ec)return Ut;ec=1,Object.defineProperty(Ut,"__esModule",{value:!0}),Ut.assignDefaults=void 0;const e=ne(),t=ue();function s(c,n){const{properties:a,items:i}=c.schema;if(n==="object"&&a)for(const u in a)r(c,u,a[u].default);else n==="array"&&Array.isArray(i)&&i.forEach((u,d)=>r(c,d,u.default))}Ut.assignDefaults=s;function r(c,n,a){const{gen:i,compositeRule:u,data:d,opts:o}=c;if(a===void 0)return;const $=(0,e._)`${d}${(0,e.getProperty)(n)}`;if(u){(0,t.checkStrictMode)(c,`default is ignored for: ${$}`);return}let g=(0,e._)`${$} === undefined`;o.useDefaults==="empty"&&(g=(0,e._)`${g} || ${$} === null || ${$} === ""`),i.if(g,(0,e._)`${$} = ${(0,e.stringify)(a)}`)}return Ut}var ke={},he={},tc;function Me(){if(tc)return he;tc=1,Object.defineProperty(he,"__esModule",{value:!0}),he.validateUnion=he.validateArray=he.usePattern=he.callValidateCode=he.schemaProperties=he.allSchemaProperties=he.noPropertyInData=he.propertyInData=he.isOwnProperty=he.hasPropFunc=he.reportMissingProp=he.checkMissingProp=he.checkReportMissingProp=void 0;const e=ne(),t=ue(),s=at(),r=ue();function c(l,p){const{gen:S,data:y,it:_}=l;S.if(o(S,y,p,_.opts.ownProperties),()=>{l.setParams({missingProperty:(0,e._)`${p}`},!0),l.error()})}he.checkReportMissingProp=c;function n({gen:l,data:p,it:{opts:S}},y,_){return(0,e.or)(...y.map(P=>(0,e.and)(o(l,p,P,S.ownProperties),(0,e._)`${_} = ${P}`)))}he.checkMissingProp=n;function a(l,p){l.setParams({missingProperty:p},!0),l.error()}he.reportMissingProp=a;function i(l){return l.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,e._)`Object.prototype.hasOwnProperty`})}he.hasPropFunc=i;function u(l,p,S){return(0,e._)`${i(l)}.call(${p}, ${S})`}he.isOwnProperty=u;function d(l,p,S,y){const _=(0,e._)`${p}${(0,e.getProperty)(S)} !== undefined`;return y?(0,e._)`${_} && ${u(l,p,S)}`:_}he.propertyInData=d;function o(l,p,S,y){const _=(0,e._)`${p}${(0,e.getProperty)(S)} === undefined`;return y?(0,e.or)(_,(0,e.not)(u(l,p,S))):_}he.noPropertyInData=o;function $(l){return l?Object.keys(l).filter(p=>p!=="__proto__"):[]}he.allSchemaProperties=$;function g(l,p){return $(p).filter(S=>!(0,t.alwaysValidSchema)(l,p[S]))}he.schemaProperties=g;function v({schemaCode:l,data:p,it:{gen:S,topSchemaRef:y,schemaPath:_,errorPath:P},it:T},M,U,D){const V=D?(0,e._)`${l}, ${p}, ${y}${_}`:p,F=[[s.default.instancePath,(0,e.strConcat)(s.default.instancePath,P)],[s.default.parentData,T.parentData],[s.default.parentDataProperty,T.parentDataProperty],[s.default.rootData,s.default.rootData]];T.opts.dynamicRef&&F.push([s.default.dynamicAnchors,s.default.dynamicAnchors]);const q=(0,e._)`${V}, ${S.object(...F)}`;return U!==e.nil?(0,e._)`${M}.call(${U}, ${q})`:(0,e._)`${M}(${q})`}he.callValidateCode=v;const w=(0,e._)`new RegExp`;function E({gen:l,it:{opts:p}},S){const y=p.unicodeRegExp?"u":"",{regExp:_}=p.code,P=_(S,y);return l.scopeValue("pattern",{key:P.toString(),ref:P,code:(0,e._)`${_.code==="new RegExp"?w:(0,r.useFunc)(l,_)}(${S}, ${y})`})}he.usePattern=E;function f(l){const{gen:p,data:S,keyword:y,it:_}=l,P=p.name("valid");if(_.allErrors){const M=p.let("valid",!0);return T(()=>p.assign(M,!1)),M}return p.var(P,!0),T(()=>p.break()),P;function T(M){const U=p.const("len",(0,e._)`${S}.length`);p.forRange("i",0,U,D=>{l.subschema({keyword:y,dataProp:D,dataPropType:t.Type.Num},P),p.if((0,e.not)(P),M)})}}he.validateArray=f;function h(l){const{gen:p,schema:S,keyword:y,it:_}=l;if(!Array.isArray(S))throw new Error("ajv implementation error");if(S.some(U=>(0,t.alwaysValidSchema)(_,U))&&!_.opts.unevaluated)return;const T=p.let("valid",!1),M=p.name("_valid");p.block(()=>S.forEach((U,D)=>{const V=l.subschema({keyword:y,schemaProp:D,compositeRule:!0},M);p.assign(T,(0,e._)`${T} || ${M}`),l.mergeValidEvaluated(V,M)||p.if((0,e.not)(T))})),l.result(T,()=>l.reset(),()=>l.error(!0))}return he.validateUnion=h,he}var rc;function ip(){if(rc)return ke;rc=1,Object.defineProperty(ke,"__esModule",{value:!0}),ke.validateKeywordUsage=ke.validSchemaType=ke.funcKeywordCode=ke.macroKeywordCode=void 0;const e=ne(),t=at(),s=Me(),r=Zn();function c(g,v){const{gen:w,keyword:E,schema:f,parentSchema:h,it:l}=g,p=v.macro.call(l.self,f,h,l),S=d(w,E,p);l.opts.validateSchema!==!1&&l.self.validateSchema(p,!0);const y=w.name("valid");g.subschema({schema:p,schemaPath:e.nil,errSchemaPath:`${l.errSchemaPath}/${E}`,topSchemaRef:S,compositeRule:!0},y),g.pass(y,()=>g.error(!0))}ke.macroKeywordCode=c;function n(g,v){var w;const{gen:E,keyword:f,schema:h,parentSchema:l,$data:p,it:S}=g;u(S,v);const y=!p&&v.compile?v.compile.call(S.self,h,l,S):v.validate,_=d(E,f,y),P=E.let("valid");g.block$data(P,T),g.ok((w=v.valid)!==null&&w!==void 0?w:P);function T(){if(v.errors===!1)D(),v.modifying&&a(g),V(()=>g.error());else{const F=v.async?M():U();v.modifying&&a(g),V(()=>i(g,F))}}function M(){const F=E.let("ruleErrs",null);return E.try(()=>D((0,e._)`await `),q=>E.assign(P,!1).if((0,e._)`${q} instanceof ${S.ValidationError}`,()=>E.assign(F,(0,e._)`${q}.errors`),()=>E.throw(q))),F}function U(){const F=(0,e._)`${_}.errors`;return E.assign(F,null),D(e.nil),F}function D(F=v.async?(0,e._)`await `:e.nil){const q=S.opts.passContext?t.default.this:t.default.self,z=!("compile"in v&&!p||v.schema===!1);E.assign(P,(0,e._)`${F}${(0,s.callValidateCode)(g,_,q,z)}`,v.modifying)}function V(F){var q;E.if((0,e.not)((q=v.valid)!==null&&q!==void 0?q:P),F)}}ke.funcKeywordCode=n;function a(g){const{gen:v,data:w,it:E}=g;v.if(E.parentData,()=>v.assign(w,(0,e._)`${E.parentData}[${E.parentDataProperty}]`))}function i(g,v){const{gen:w}=g;w.if((0,e._)`Array.isArray(${v})`,()=>{w.assign(t.default.vErrors,(0,e._)`${t.default.vErrors} === null ? ${v} : ${t.default.vErrors}.concat(${v})`).assign(t.default.errors,(0,e._)`${t.default.vErrors}.length`),(0,r.extendErrors)(g)},()=>g.error())}function u({schemaEnv:g},v){if(v.async&&!g.$async)throw new Error("async keyword in sync schema")}function d(g,v,w){if(w===void 0)throw new Error(`keyword "${v}" failed to compile`);return g.scopeValue("keyword",typeof w=="function"?{ref:w}:{ref:w,code:(0,e.stringify)(w)})}function o(g,v,w=!1){return!v.length||v.some(E=>E==="array"?Array.isArray(g):E==="object"?g&&typeof g=="object"&&!Array.isArray(g):typeof g==E||w&&typeof g>"u")}ke.validSchemaType=o;function $({schema:g,opts:v,self:w,errSchemaPath:E},f,h){if(Array.isArray(f.keyword)?!f.keyword.includes(h):f.keyword!==h)throw new Error("ajv implementation error");const l=f.dependencies;if(l?.some(p=>!Object.prototype.hasOwnProperty.call(g,p)))throw new Error(`parent schema must have dependencies of ${h}: ${l.join(",")}`);if(f.validateSchema&&!f.validateSchema(g[h])){const S=`keyword "${h}" value is invalid at path "${E}": `+w.errorsText(f.validateSchema.errors);if(v.validateSchema==="log")w.logger.error(S);else throw new Error(S)}}return ke.validateKeywordUsage=$,ke}var He={},nc;function op(){if(nc)return He;nc=1,Object.defineProperty(He,"__esModule",{value:!0}),He.extendSubschemaMode=He.extendSubschemaData=He.getSubschema=void 0;const e=ne(),t=ue();function s(n,{keyword:a,schemaProp:i,schema:u,schemaPath:d,errSchemaPath:o,topSchemaRef:$}){if(a!==void 0&&u!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(a!==void 0){const g=n.schema[a];return i===void 0?{schema:g,schemaPath:(0,e._)`${n.schemaPath}${(0,e.getProperty)(a)}`,errSchemaPath:`${n.errSchemaPath}/${a}`}:{schema:g[i],schemaPath:(0,e._)`${n.schemaPath}${(0,e.getProperty)(a)}${(0,e.getProperty)(i)}`,errSchemaPath:`${n.errSchemaPath}/${a}/${(0,t.escapeFragment)(i)}`}}if(u!==void 0){if(d===void 0||o===void 0||$===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:u,schemaPath:d,topSchemaRef:$,errSchemaPath:o}}throw new Error('either "keyword" or "schema" must be passed')}He.getSubschema=s;function r(n,a,{dataProp:i,dataPropType:u,data:d,dataTypes:o,propertyName:$}){if(d!==void 0&&i!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:g}=a;if(i!==void 0){const{errorPath:w,dataPathArr:E,opts:f}=a,h=g.let("data",(0,e._)`${a.data}${(0,e.getProperty)(i)}`,!0);v(h),n.errorPath=(0,e.str)`${w}${(0,t.getErrorPath)(i,u,f.jsPropertySyntax)}`,n.parentDataProperty=(0,e._)`${i}`,n.dataPathArr=[...E,n.parentDataProperty]}if(d!==void 0){const w=d instanceof e.Name?d:g.let("data",d,!0);v(w),$!==void 0&&(n.propertyName=$)}o&&(n.dataTypes=o);function v(w){n.data=w,n.dataLevel=a.dataLevel+1,n.dataTypes=[],a.definedProperties=new Set,n.parentData=a.data,n.dataNames=[...a.dataNames,w]}}He.extendSubschemaData=r;function c(n,{jtdDiscriminator:a,jtdMetadata:i,compositeRule:u,createErrors:d,allErrors:o}){u!==void 0&&(n.compositeRule=u),d!==void 0&&(n.createErrors=d),o!==void 0&&(n.allErrors=o),n.jtdDiscriminator=a,n.jtdMetadata=i}return He.extendSubschemaMode=c,He}var be={},Is={exports:{}},sc;function cp(){if(sc)return Is.exports;sc=1;var e=Is.exports=function(r,c,n){typeof c=="function"&&(n=c,c={}),n=c.cb||n;var a=typeof n=="function"?n:n.pre||function(){},i=n.post||function(){};t(c,a,i,r,"",r)};e.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},e.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},e.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},e.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function t(r,c,n,a,i,u,d,o,$,g){if(a&&typeof a=="object"&&!Array.isArray(a)){c(a,i,u,d,o,$,g);for(var v in a){var w=a[v];if(Array.isArray(w)){if(v in e.arrayKeywords)for(var E=0;E<w.length;E++)t(r,c,n,w[E],i+"/"+v+"/"+E,u,i,v,a,E)}else if(v in e.propsKeywords){if(w&&typeof w=="object")for(var f in w)t(r,c,n,w[f],i+"/"+v+"/"+s(f),u,i,v,a,f)}else(v in e.keywords||r.allKeys&&!(v in e.skipKeywords))&&t(r,c,n,w,i+"/"+v,u,i,v,a)}n(a,i,u,d,o,$,g)}}function s(r){return r.replace(/~/g,"~0").replace(/\//g,"~1")}return Is.exports}var ac;function Qn(){if(ac)return be;ac=1,Object.defineProperty(be,"__esModule",{value:!0}),be.getSchemaRefs=be.resolveUrl=be.normalizeId=be._getFullPath=be.getFullPath=be.inlineRef=void 0;const e=ue(),t=Bn(),s=cp(),r=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function c(E,f=!0){return typeof E=="boolean"?!0:f===!0?!a(E):f?i(E)<=f:!1}be.inlineRef=c;const n=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function a(E){for(const f in E){if(n.has(f))return!0;const h=E[f];if(Array.isArray(h)&&h.some(a)||typeof h=="object"&&a(h))return!0}return!1}function i(E){let f=0;for(const h in E){if(h==="$ref")return 1/0;if(f++,!r.has(h)&&(typeof E[h]=="object"&&(0,e.eachItem)(E[h],l=>f+=i(l)),f===1/0))return 1/0}return f}function u(E,f="",h){h!==!1&&(f=$(f));const l=E.parse(f);return d(E,l)}be.getFullPath=u;function d(E,f){return E.serialize(f).split("#")[0]+"#"}be._getFullPath=d;const o=/#\/?$/;function $(E){return E?E.replace(o,""):""}be.normalizeId=$;function g(E,f,h){return h=$(h),E.resolve(f,h)}be.resolveUrl=g;const v=/^[a-z_][-a-z0-9._]*$/i;function w(E,f){if(typeof E=="boolean")return{};const{schemaId:h,uriResolver:l}=this.opts,p=$(E[h]||f),S={"":p},y=u(l,p,!1),_={},P=new Set;return s(E,{allKeys:!0},(U,D,V,F)=>{if(F===void 0)return;const q=y+D;let z=S[F];typeof U[h]=="string"&&(z=W.call(this,U[h])),x.call(this,U.$anchor),x.call(this,U.$dynamicAnchor),S[D]=z;function W(B){const X=this.opts.uriResolver.resolve;if(B=$(z?X(z,B):B),P.has(B))throw M(B);P.add(B);let A=this.refs[B];return typeof A=="string"&&(A=this.refs[A]),typeof A=="object"?T(U,A.schema,B):B!==$(q)&&(B[0]==="#"?(T(U,_[B],B),_[B]=U):this.refs[B]=q),B}function x(B){if(typeof B=="string"){if(!v.test(B))throw new Error(`invalid anchor "${B}"`);W.call(this,`#${B}`)}}}),_;function T(U,D,V){if(D!==void 0&&!t(U,D))throw M(V)}function M(U){return new Error(`reference "${U}" resolves to more than one schema`)}}return be.getSchemaRefs=w,be}var ic;function es(){if(ic)return xe;ic=1,Object.defineProperty(xe,"__esModule",{value:!0}),xe.getData=xe.KeywordCxt=xe.validateFunctionCode=void 0;const e=sp(),t=zn(),s=Bl(),r=zn(),c=ap(),n=ip(),a=op(),i=ne(),u=at(),d=Qn(),o=ue(),$=Zn();function g(R){if(y(R)&&(P(R),S(R))){f(R);return}v(R,()=>(0,e.topBoolOrEmptySchema)(R))}xe.validateFunctionCode=g;function v({gen:R,validateName:O,schema:k,schemaEnv:L,opts:H},J){H.code.es5?R.func(O,(0,i._)`${u.default.data}, ${u.default.valCxt}`,L.$async,()=>{R.code((0,i._)`"use strict"; ${l(k,H)}`),E(R,H),R.code(J)}):R.func(O,(0,i._)`${u.default.data}, ${w(H)}`,L.$async,()=>R.code(l(k,H)).code(J))}function w(R){return(0,i._)`{${u.default.instancePath}="", ${u.default.parentData}, ${u.default.parentDataProperty}, ${u.default.rootData}=${u.default.data}${R.dynamicRef?(0,i._)`, ${u.default.dynamicAnchors}={}`:i.nil}}={}`}function E(R,O){R.if(u.default.valCxt,()=>{R.var(u.default.instancePath,(0,i._)`${u.default.valCxt}.${u.default.instancePath}`),R.var(u.default.parentData,(0,i._)`${u.default.valCxt}.${u.default.parentData}`),R.var(u.default.parentDataProperty,(0,i._)`${u.default.valCxt}.${u.default.parentDataProperty}`),R.var(u.default.rootData,(0,i._)`${u.default.valCxt}.${u.default.rootData}`),O.dynamicRef&&R.var(u.default.dynamicAnchors,(0,i._)`${u.default.valCxt}.${u.default.dynamicAnchors}`)},()=>{R.var(u.default.instancePath,(0,i._)`""`),R.var(u.default.parentData,(0,i._)`undefined`),R.var(u.default.parentDataProperty,(0,i._)`undefined`),R.var(u.default.rootData,u.default.data),O.dynamicRef&&R.var(u.default.dynamicAnchors,(0,i._)`{}`)})}function f(R){const{schema:O,opts:k,gen:L}=R;v(R,()=>{k.$comment&&O.$comment&&F(R),U(R),L.let(u.default.vErrors,null),L.let(u.default.errors,0),k.unevaluated&&h(R),T(R),q(R)})}function h(R){const{gen:O,validateName:k}=R;R.evaluated=O.const("evaluated",(0,i._)`${k}.evaluated`),O.if((0,i._)`${R.evaluated}.dynamicProps`,()=>O.assign((0,i._)`${R.evaluated}.props`,(0,i._)`undefined`)),O.if((0,i._)`${R.evaluated}.dynamicItems`,()=>O.assign((0,i._)`${R.evaluated}.items`,(0,i._)`undefined`))}function l(R,O){const k=typeof R=="object"&&R[O.schemaId];return k&&(O.code.source||O.code.process)?(0,i._)`/*# sourceURL=${k} */`:i.nil}function p(R,O){if(y(R)&&(P(R),S(R))){_(R,O);return}(0,e.boolOrEmptySchema)(R,O)}function S({schema:R,self:O}){if(typeof R=="boolean")return!R;for(const k in R)if(O.RULES.all[k])return!0;return!1}function y(R){return typeof R.schema!="boolean"}function _(R,O){const{schema:k,gen:L,opts:H}=R;H.$comment&&k.$comment&&F(R),D(R),V(R);const J=L.const("_errs",u.default.errors);T(R,J),L.var(O,(0,i._)`${J} === ${u.default.errors}`)}function P(R){(0,o.checkUnknownRules)(R),M(R)}function T(R,O){if(R.opts.jtd)return W(R,[],!1,O);const k=(0,t.getSchemaTypes)(R.schema),L=(0,t.coerceAndCheckDataType)(R,k);W(R,k,!L,O)}function M(R){const{schema:O,errSchemaPath:k,opts:L,self:H}=R;O.$ref&&L.ignoreKeywordsWithRef&&(0,o.schemaHasRulesButRef)(O,H.RULES)&&H.logger.warn(`$ref: keywords ignored in schema at path "${k}"`)}function U(R){const{schema:O,opts:k}=R;O.default!==void 0&&k.useDefaults&&k.strictSchema&&(0,o.checkStrictMode)(R,"default is ignored in the schema root")}function D(R){const O=R.schema[R.opts.schemaId];O&&(R.baseId=(0,d.resolveUrl)(R.opts.uriResolver,R.baseId,O))}function V(R){if(R.schema.$async&&!R.schemaEnv.$async)throw new Error("async schema in sync schema")}function F({gen:R,schemaEnv:O,schema:k,errSchemaPath:L,opts:H}){const J=k.$comment;if(H.$comment===!0)R.code((0,i._)`${u.default.self}.logger.log(${J})`);else if(typeof H.$comment=="function"){const ie=(0,i.str)`${L}/$comment`,ye=R.scopeValue("root",{ref:O.root});R.code((0,i._)`${u.default.self}.opts.$comment(${J}, ${ie}, ${ye}.schema)`)}}function q(R){const{gen:O,schemaEnv:k,validateName:L,ValidationError:H,opts:J}=R;k.$async?O.if((0,i._)`${u.default.errors} === 0`,()=>O.return(u.default.data),()=>O.throw((0,i._)`new ${H}(${u.default.vErrors})`)):(O.assign((0,i._)`${L}.errors`,u.default.vErrors),J.unevaluated&&z(R),O.return((0,i._)`${u.default.errors} === 0`))}function z({gen:R,evaluated:O,props:k,items:L}){k instanceof i.Name&&R.assign((0,i._)`${O}.props`,k),L instanceof i.Name&&R.assign((0,i._)`${O}.items`,L)}function W(R,O,k,L){const{gen:H,schema:J,data:ie,allErrors:ye,opts:le,self:de}=R,{RULES:oe}=de;if(J.$ref&&(le.ignoreKeywordsWithRef||!(0,o.schemaHasRulesButRef)(J,oe))){H.block(()=>G(R,"$ref",oe.all.$ref.definition));return}le.jtd||B(R,O),H.block(()=>{for(const me of oe.rules)Re(me);Re(oe.post)});function Re(me){(0,s.shouldUseGroup)(J,me)&&(me.type?(H.if((0,r.checkDataType)(me.type,ie,le.strictNumbers)),x(R,me),O.length===1&&O[0]===me.type&&k&&(H.else(),(0,r.reportTypeError)(R)),H.endIf()):x(R,me),ye||H.if((0,i._)`${u.default.errors} === ${L||0}`))}}function x(R,O){const{gen:k,schema:L,opts:{useDefaults:H}}=R;H&&(0,c.assignDefaults)(R,O.type),k.block(()=>{for(const J of O.rules)(0,s.shouldUseRule)(L,J)&&G(R,J.keyword,J.definition,O.type)})}function B(R,O){R.schemaEnv.meta||!R.opts.strictTypes||(X(R,O),R.opts.allowUnionTypes||A(R,O),N(R,R.dataTypes))}function X(R,O){if(O.length){if(!R.dataTypes.length){R.dataTypes=O;return}O.forEach(k=>{I(R.dataTypes,k)||b(R,`type "${k}" not allowed by context "${R.dataTypes.join(",")}"`)}),m(R,O)}}function A(R,O){O.length>1&&!(O.length===2&&O.includes("null"))&&b(R,"use allowUnionTypes to allow union type keyword")}function N(R,O){const k=R.self.RULES.all;for(const L in k){const H=k[L];if(typeof H=="object"&&(0,s.shouldUseRule)(R.schema,H)){const{type:J}=H.definition;J.length&&!J.some(ie=>C(O,ie))&&b(R,`missing type "${J.join(",")}" for keyword "${L}"`)}}}function C(R,O){return R.includes(O)||O==="number"&&R.includes("integer")}function I(R,O){return R.includes(O)||O==="integer"&&R.includes("number")}function m(R,O){const k=[];for(const L of R.dataTypes)I(O,L)?k.push(L):O.includes("integer")&&L==="number"&&k.push("integer");R.dataTypes=k}function b(R,O){const k=R.schemaEnv.baseId+R.errSchemaPath;O+=` at "${k}" (strictTypes)`,(0,o.checkStrictMode)(R,O,R.opts.strictTypes)}class j{constructor(O,k,L){if((0,n.validateKeywordUsage)(O,k,L),this.gen=O.gen,this.allErrors=O.allErrors,this.keyword=L,this.data=O.data,this.schema=O.schema[L],this.$data=k.$data&&O.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,o.schemaRefOrVal)(O,this.schema,L,this.$data),this.schemaType=k.schemaType,this.parentSchema=O.schema,this.params={},this.it=O,this.def=k,this.$data)this.schemaCode=O.gen.const("vSchema",Y(this.$data,O));else if(this.schemaCode=this.schemaValue,!(0,n.validSchemaType)(this.schema,k.schemaType,k.allowUndefined))throw new Error(`${L} value must be ${JSON.stringify(k.schemaType)}`);("code"in k?k.trackErrors:k.errors!==!1)&&(this.errsCount=O.gen.const("_errs",u.default.errors))}result(O,k,L){this.failResult((0,i.not)(O),k,L)}failResult(O,k,L){this.gen.if(O),L?L():this.error(),k?(this.gen.else(),k(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(O,k){this.failResult((0,i.not)(O),void 0,k)}fail(O){if(O===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(O),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(O){if(!this.$data)return this.fail(O);const{schemaCode:k}=this;this.fail((0,i._)`${k} !== undefined && (${(0,i.or)(this.invalid$data(),O)})`)}error(O,k,L){if(k){this.setParams(k),this._error(O,L),this.setParams({});return}this._error(O,L)}_error(O,k){(O?$.reportExtraError:$.reportError)(this,this.def.error,k)}$dataError(){(0,$.reportError)(this,this.def.$dataError||$.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,$.resetErrorsCount)(this.gen,this.errsCount)}ok(O){this.allErrors||this.gen.if(O)}setParams(O,k){k?Object.assign(this.params,O):this.params=O}block$data(O,k,L=i.nil){this.gen.block(()=>{this.check$data(O,L),k()})}check$data(O=i.nil,k=i.nil){if(!this.$data)return;const{gen:L,schemaCode:H,schemaType:J,def:ie}=this;L.if((0,i.or)((0,i._)`${H} === undefined`,k)),O!==i.nil&&L.assign(O,!0),(J.length||ie.validateSchema)&&(L.elseIf(this.invalid$data()),this.$dataError(),O!==i.nil&&L.assign(O,!1)),L.else()}invalid$data(){const{gen:O,schemaCode:k,schemaType:L,def:H,it:J}=this;return(0,i.or)(ie(),ye());function ie(){if(L.length){if(!(k instanceof i.Name))throw new Error("ajv implementation error");const le=Array.isArray(L)?L:[L];return(0,i._)`${(0,r.checkDataTypes)(le,k,J.opts.strictNumbers,r.DataType.Wrong)}`}return i.nil}function ye(){if(H.validateSchema){const le=O.scopeValue("validate$data",{ref:H.validateSchema});return(0,i._)`!${le}(${k})`}return i.nil}}subschema(O,k){const L=(0,a.getSubschema)(this.it,O);(0,a.extendSubschemaData)(L,this.it,O),(0,a.extendSubschemaMode)(L,O);const H={...this.it,...L,items:void 0,props:void 0};return p(H,k),H}mergeEvaluated(O,k){const{it:L,gen:H}=this;L.opts.unevaluated&&(L.props!==!0&&O.props!==void 0&&(L.props=o.mergeEvaluated.props(H,O.props,L.props,k)),L.items!==!0&&O.items!==void 0&&(L.items=o.mergeEvaluated.items(H,O.items,L.items,k)))}mergeValidEvaluated(O,k){const{it:L,gen:H}=this;if(L.opts.unevaluated&&(L.props!==!0||L.items!==!0))return H.if(k,()=>this.mergeEvaluated(O,i.Name)),!0}}xe.KeywordCxt=j;function G(R,O,k,L){const H=new j(R,k,O);"code"in k?k.code(H,L):H.$data&&k.validate?(0,n.funcKeywordCode)(H,k):"macro"in k?(0,n.macroKeywordCode)(H,k):(k.compile||k.validate)&&(0,n.funcKeywordCode)(H,k)}const K=/^\/(?:[^~]|~0|~1)*$/,Z=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function Y(R,{dataLevel:O,dataNames:k,dataPathArr:L}){let H,J;if(R==="")return u.default.rootData;if(R[0]==="/"){if(!K.test(R))throw new Error(`Invalid JSON-pointer: ${R}`);H=R,J=u.default.rootData}else{const de=Z.exec(R);if(!de)throw new Error(`Invalid JSON-pointer: ${R}`);const oe=+de[1];if(H=de[2],H==="#"){if(oe>=O)throw new Error(le("property/index",oe));return L[O-oe]}if(oe>O)throw new Error(le("data",oe));if(J=k[O-oe],!H)return J}let ie=J;const ye=H.split("/");for(const de of ye)de&&(J=(0,i._)`${J}${(0,i.getProperty)((0,o.unescapeJsonPointer)(de))}`,ie=(0,i._)`${ie} && ${J}`);return ie;function le(de,oe){return`Cannot access ${de} ${oe} levels up, current level is ${O}`}}return xe.getData=Y,xe}var Br={},oc;function ti(){if(oc)return Br;oc=1,Object.defineProperty(Br,"__esModule",{value:!0});class e extends Error{constructor(s){super("validation failed"),this.errors=s,this.ajv=this.validation=!0}}return Br.default=e,Br}var Wr={},cc;function ts(){if(cc)return Wr;cc=1,Object.defineProperty(Wr,"__esModule",{value:!0});const e=Qn();class t extends Error{constructor(r,c,n,a){super(a||`can't resolve reference ${n} from id ${c}`),this.missingRef=(0,e.resolveUrl)(r,c,n),this.missingSchema=(0,e.normalizeId)((0,e.getFullPath)(r,this.missingRef))}}return Wr.default=t,Wr}var Te={},uc;function ri(){if(uc)return Te;uc=1,Object.defineProperty(Te,"__esModule",{value:!0}),Te.resolveSchema=Te.getCompilingSchema=Te.resolveRef=Te.compileSchema=Te.SchemaEnv=void 0;const e=ne(),t=ti(),s=at(),r=Qn(),c=ue(),n=es();class a{constructor(h){var l;this.refs={},this.dynamicAnchors={};let p;typeof h.schema=="object"&&(p=h.schema),this.schema=h.schema,this.schemaId=h.schemaId,this.root=h.root||this,this.baseId=(l=h.baseId)!==null&&l!==void 0?l:(0,r.normalizeId)(p?.[h.schemaId||"$id"]),this.schemaPath=h.schemaPath,this.localRefs=h.localRefs,this.meta=h.meta,this.$async=p?.$async,this.refs={}}}Te.SchemaEnv=a;function i(f){const h=o.call(this,f);if(h)return h;const l=(0,r.getFullPath)(this.opts.uriResolver,f.root.baseId),{es5:p,lines:S}=this.opts.code,{ownProperties:y}=this.opts,_=new e.CodeGen(this.scope,{es5:p,lines:S,ownProperties:y});let P;f.$async&&(P=_.scopeValue("Error",{ref:t.default,code:(0,e._)`require("ajv/dist/runtime/validation_error").default`}));const T=_.scopeName("validate");f.validateName=T;const M={gen:_,allErrors:this.opts.allErrors,data:s.default.data,parentData:s.default.parentData,parentDataProperty:s.default.parentDataProperty,dataNames:[s.default.data],dataPathArr:[e.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:_.scopeValue("schema",this.opts.code.source===!0?{ref:f.schema,code:(0,e.stringify)(f.schema)}:{ref:f.schema}),validateName:T,ValidationError:P,schema:f.schema,schemaEnv:f,rootId:l,baseId:f.baseId||l,schemaPath:e.nil,errSchemaPath:f.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,e._)`""`,opts:this.opts,self:this};let U;try{this._compilations.add(f),(0,n.validateFunctionCode)(M),_.optimize(this.opts.code.optimize);const D=_.toString();U=`${_.scopeRefs(s.default.scope)}return ${D}`,this.opts.code.process&&(U=this.opts.code.process(U,f));const F=new Function(`${s.default.self}`,`${s.default.scope}`,U)(this,this.scope.get());if(this.scope.value(T,{ref:F}),F.errors=null,F.schema=f.schema,F.schemaEnv=f,f.$async&&(F.$async=!0),this.opts.code.source===!0&&(F.source={validateName:T,validateCode:D,scopeValues:_._values}),this.opts.unevaluated){const{props:q,items:z}=M;F.evaluated={props:q instanceof e.Name?void 0:q,items:z instanceof e.Name?void 0:z,dynamicProps:q instanceof e.Name,dynamicItems:z instanceof e.Name},F.source&&(F.source.evaluated=(0,e.stringify)(F.evaluated))}return f.validate=F,f}catch(D){throw delete f.validate,delete f.validateName,U&&this.logger.error("Error compiling schema, function code:",U),D}finally{this._compilations.delete(f)}}Te.compileSchema=i;function u(f,h,l){var p;l=(0,r.resolveUrl)(this.opts.uriResolver,h,l);const S=f.refs[l];if(S)return S;let y=g.call(this,f,l);if(y===void 0){const _=(p=f.localRefs)===null||p===void 0?void 0:p[l],{schemaId:P}=this.opts;_&&(y=new a({schema:_,schemaId:P,root:f,baseId:h}))}if(y!==void 0)return f.refs[l]=d.call(this,y)}Te.resolveRef=u;function d(f){return(0,r.inlineRef)(f.schema,this.opts.inlineRefs)?f.schema:f.validate?f:i.call(this,f)}function o(f){for(const h of this._compilations)if($(h,f))return h}Te.getCompilingSchema=o;function $(f,h){return f.schema===h.schema&&f.root===h.root&&f.baseId===h.baseId}function g(f,h){let l;for(;typeof(l=this.refs[h])=="string";)h=l;return l||this.schemas[h]||v.call(this,f,h)}function v(f,h){const l=this.opts.uriResolver.parse(h),p=(0,r._getFullPath)(this.opts.uriResolver,l);let S=(0,r.getFullPath)(this.opts.uriResolver,f.baseId,void 0);if(Object.keys(f.schema).length>0&&p===S)return E.call(this,l,f);const y=(0,r.normalizeId)(p),_=this.refs[y]||this.schemas[y];if(typeof _=="string"){const P=v.call(this,f,_);return typeof P?.schema!="object"?void 0:E.call(this,l,P)}if(typeof _?.schema=="object"){if(_.validate||i.call(this,_),y===(0,r.normalizeId)(h)){const{schema:P}=_,{schemaId:T}=this.opts,M=P[T];return M&&(S=(0,r.resolveUrl)(this.opts.uriResolver,S,M)),new a({schema:P,schemaId:T,root:f,baseId:S})}return E.call(this,l,_)}}Te.resolveSchema=v;const w=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function E(f,{baseId:h,schema:l,root:p}){var S;if(((S=f.fragment)===null||S===void 0?void 0:S[0])!=="/")return;for(const P of f.fragment.slice(1).split("/")){if(typeof l=="boolean")return;const T=l[(0,c.unescapeFragment)(P)];if(T===void 0)return;l=T;const M=typeof l=="object"&&l[this.opts.schemaId];!w.has(P)&&M&&(h=(0,r.resolveUrl)(this.opts.uriResolver,h,M))}let y;if(typeof l!="boolean"&&l.$ref&&!(0,c.schemaHasRulesButRef)(l,this.RULES)){const P=(0,r.resolveUrl)(this.opts.uriResolver,h,l.$ref);y=v.call(this,p,P)}const{schemaId:_}=this.opts;if(y=y||new a({schema:l,schemaId:_,root:p,baseId:h}),y.schema!==y.root.schema)return y}return Te}const up="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",lp="Meta-schema for $data reference (JSON AnySchema extension proposal)",dp="object",fp=["$data"],hp={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},pp=!1,mp={$id:up,description:lp,type:dp,required:fp,properties:hp,additionalProperties:pp};var Xr={},lc;function yp(){if(lc)return Xr;lc=1,Object.defineProperty(Xr,"__esModule",{value:!0});const e=Fl();return e.code='require("ajv/dist/runtime/uri").default',Xr.default=e,Xr}var dc;function vp(){return dc||(dc=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=es();Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var s=ne();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return s._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return s.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return s.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return s.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return s.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return s.CodeGen}});const r=ti(),c=ts(),n=Hl(),a=ri(),i=ne(),u=Qn(),d=zn(),o=ue(),$=mp,g=yp(),v=(A,N)=>new RegExp(A,N);v.code="new RegExp";const w=["removeAdditional","useDefaults","coerceTypes"],E=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),f={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},h={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},l=200;function p(A){var N,C,I,m,b,j,G,K,Z,Y,R,O,k,L,H,J,ie,ye,le,de,oe,Re,me,it,ot;const Ce=A.strict,ct=(N=A.code)===null||N===void 0?void 0:N.optimize,Dt=ct===!0||ct===void 0?1:ct||0,Mt=(I=(C=A.code)===null||C===void 0?void 0:C.regExp)!==null&&I!==void 0?I:v,os=(m=A.uriResolver)!==null&&m!==void 0?m:g.default;return{strictSchema:(j=(b=A.strictSchema)!==null&&b!==void 0?b:Ce)!==null&&j!==void 0?j:!0,strictNumbers:(K=(G=A.strictNumbers)!==null&&G!==void 0?G:Ce)!==null&&K!==void 0?K:!0,strictTypes:(Y=(Z=A.strictTypes)!==null&&Z!==void 0?Z:Ce)!==null&&Y!==void 0?Y:"log",strictTuples:(O=(R=A.strictTuples)!==null&&R!==void 0?R:Ce)!==null&&O!==void 0?O:"log",strictRequired:(L=(k=A.strictRequired)!==null&&k!==void 0?k:Ce)!==null&&L!==void 0?L:!1,code:A.code?{...A.code,optimize:Dt,regExp:Mt}:{optimize:Dt,regExp:Mt},loopRequired:(H=A.loopRequired)!==null&&H!==void 0?H:l,loopEnum:(J=A.loopEnum)!==null&&J!==void 0?J:l,meta:(ie=A.meta)!==null&&ie!==void 0?ie:!0,messages:(ye=A.messages)!==null&&ye!==void 0?ye:!0,inlineRefs:(le=A.inlineRefs)!==null&&le!==void 0?le:!0,schemaId:(de=A.schemaId)!==null&&de!==void 0?de:"$id",addUsedSchema:(oe=A.addUsedSchema)!==null&&oe!==void 0?oe:!0,validateSchema:(Re=A.validateSchema)!==null&&Re!==void 0?Re:!0,validateFormats:(me=A.validateFormats)!==null&&me!==void 0?me:!0,unicodeRegExp:(it=A.unicodeRegExp)!==null&&it!==void 0?it:!0,int32range:(ot=A.int32range)!==null&&ot!==void 0?ot:!0,uriResolver:os}}class S{constructor(N={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,N=this.opts={...N,...p(N)};const{es5:C,lines:I}=this.opts.code;this.scope=new i.ValueScope({scope:{},prefixes:E,es5:C,lines:I}),this.logger=V(N.logger);const m=N.validateFormats;N.validateFormats=!1,this.RULES=(0,n.getRules)(),y.call(this,f,N,"NOT SUPPORTED"),y.call(this,h,N,"DEPRECATED","warn"),this._metaOpts=U.call(this),N.formats&&T.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),N.keywords&&M.call(this,N.keywords),typeof N.meta=="object"&&this.addMetaSchema(N.meta),P.call(this),N.validateFormats=m}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:N,meta:C,schemaId:I}=this.opts;let m=$;I==="id"&&(m={...$},m.id=m.$id,delete m.$id),C&&N&&this.addMetaSchema(m,m[I],!1)}defaultMeta(){const{meta:N,schemaId:C}=this.opts;return this.opts.defaultMeta=typeof N=="object"?N[C]||N:void 0}validate(N,C){let I;if(typeof N=="string"){if(I=this.getSchema(N),!I)throw new Error(`no schema with key or ref "${N}"`)}else I=this.compile(N);const m=I(C);return"$async"in I||(this.errors=I.errors),m}compile(N,C){const I=this._addSchema(N,C);return I.validate||this._compileSchemaEnv(I)}compileAsync(N,C){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:I}=this.opts;return m.call(this,N,C);async function m(Y,R){await b.call(this,Y.$schema);const O=this._addSchema(Y,R);return O.validate||j.call(this,O)}async function b(Y){Y&&!this.getSchema(Y)&&await m.call(this,{$ref:Y},!0)}async function j(Y){try{return this._compileSchemaEnv(Y)}catch(R){if(!(R instanceof c.default))throw R;return G.call(this,R),await K.call(this,R.missingSchema),j.call(this,Y)}}function G({missingSchema:Y,missingRef:R}){if(this.refs[Y])throw new Error(`AnySchema ${Y} is loaded but ${R} cannot be resolved`)}async function K(Y){const R=await Z.call(this,Y);this.refs[Y]||await b.call(this,R.$schema),this.refs[Y]||this.addSchema(R,Y,C)}async function Z(Y){const R=this._loading[Y];if(R)return R;try{return await(this._loading[Y]=I(Y))}finally{delete this._loading[Y]}}}addSchema(N,C,I,m=this.opts.validateSchema){if(Array.isArray(N)){for(const j of N)this.addSchema(j,void 0,I,m);return this}let b;if(typeof N=="object"){const{schemaId:j}=this.opts;if(b=N[j],b!==void 0&&typeof b!="string")throw new Error(`schema ${j} must be string`)}return C=(0,u.normalizeId)(C||b),this._checkUnique(C),this.schemas[C]=this._addSchema(N,I,C,m,!0),this}addMetaSchema(N,C,I=this.opts.validateSchema){return this.addSchema(N,C,!0,I),this}validateSchema(N,C){if(typeof N=="boolean")return!0;let I;if(I=N.$schema,I!==void 0&&typeof I!="string")throw new Error("$schema must be a string");if(I=I||this.opts.defaultMeta||this.defaultMeta(),!I)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const m=this.validate(I,N);if(!m&&C){const b="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(b);else throw new Error(b)}return m}getSchema(N){let C;for(;typeof(C=_.call(this,N))=="string";)N=C;if(C===void 0){const{schemaId:I}=this.opts,m=new a.SchemaEnv({schema:{},schemaId:I});if(C=a.resolveSchema.call(this,m,N),!C)return;this.refs[N]=C}return C.validate||this._compileSchemaEnv(C)}removeSchema(N){if(N instanceof RegExp)return this._removeAllSchemas(this.schemas,N),this._removeAllSchemas(this.refs,N),this;switch(typeof N){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const C=_.call(this,N);return typeof C=="object"&&this._cache.delete(C.schema),delete this.schemas[N],delete this.refs[N],this}case"object":{const C=N;this._cache.delete(C);let I=N[this.opts.schemaId];return I&&(I=(0,u.normalizeId)(I),delete this.schemas[I],delete this.refs[I]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(N){for(const C of N)this.addKeyword(C);return this}addKeyword(N,C){let I;if(typeof N=="string")I=N,typeof C=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),C.keyword=I);else if(typeof N=="object"&&C===void 0){if(C=N,I=C.keyword,Array.isArray(I)&&!I.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(q.call(this,I,C),!C)return(0,o.eachItem)(I,b=>z.call(this,b)),this;x.call(this,C);const m={...C,type:(0,d.getJSONTypes)(C.type),schemaType:(0,d.getJSONTypes)(C.schemaType)};return(0,o.eachItem)(I,m.type.length===0?b=>z.call(this,b,m):b=>m.type.forEach(j=>z.call(this,b,m,j))),this}getKeyword(N){const C=this.RULES.all[N];return typeof C=="object"?C.definition:!!C}removeKeyword(N){const{RULES:C}=this;delete C.keywords[N],delete C.all[N];for(const I of C.rules){const m=I.rules.findIndex(b=>b.keyword===N);m>=0&&I.rules.splice(m,1)}return this}addFormat(N,C){return typeof C=="string"&&(C=new RegExp(C)),this.formats[N]=C,this}errorsText(N=this.errors,{separator:C=", ",dataVar:I="data"}={}){return!N||N.length===0?"No errors":N.map(m=>`${I}${m.instancePath} ${m.message}`).reduce((m,b)=>m+C+b)}$dataMetaSchema(N,C){const I=this.RULES.all;N=JSON.parse(JSON.stringify(N));for(const m of C){const b=m.split("/").slice(1);let j=N;for(const G of b)j=j[G];for(const G in I){const K=I[G];if(typeof K!="object")continue;const{$data:Z}=K.definition,Y=j[G];Z&&Y&&(j[G]=X(Y))}}return N}_removeAllSchemas(N,C){for(const I in N){const m=N[I];(!C||C.test(I))&&(typeof m=="string"?delete N[I]:m&&!m.meta&&(this._cache.delete(m.schema),delete N[I]))}}_addSchema(N,C,I,m=this.opts.validateSchema,b=this.opts.addUsedSchema){let j;const{schemaId:G}=this.opts;if(typeof N=="object")j=N[G];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof N!="boolean")throw new Error("schema must be object or boolean")}let K=this._cache.get(N);if(K!==void 0)return K;I=(0,u.normalizeId)(j||I);const Z=u.getSchemaRefs.call(this,N,I);return K=new a.SchemaEnv({schema:N,schemaId:G,meta:C,baseId:I,localRefs:Z}),this._cache.set(K.schema,K),b&&!I.startsWith("#")&&(I&&this._checkUnique(I),this.refs[I]=K),m&&this.validateSchema(N,!0),K}_checkUnique(N){if(this.schemas[N]||this.refs[N])throw new Error(`schema with key or id "${N}" already exists`)}_compileSchemaEnv(N){if(N.meta?this._compileMetaSchema(N):a.compileSchema.call(this,N),!N.validate)throw new Error("ajv implementation error");return N.validate}_compileMetaSchema(N){const C=this.opts;this.opts=this._metaOpts;try{a.compileSchema.call(this,N)}finally{this.opts=C}}}S.ValidationError=r.default,S.MissingRefError=c.default,e.default=S;function y(A,N,C,I="error"){for(const m in A){const b=m;b in N&&this.logger[I](`${C}: option ${m}. ${A[b]}`)}}function _(A){return A=(0,u.normalizeId)(A),this.schemas[A]||this.refs[A]}function P(){const A=this.opts.schemas;if(A)if(Array.isArray(A))this.addSchema(A);else for(const N in A)this.addSchema(A[N],N)}function T(){for(const A in this.opts.formats){const N=this.opts.formats[A];N&&this.addFormat(A,N)}}function M(A){if(Array.isArray(A)){this.addVocabulary(A);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const N in A){const C=A[N];C.keyword||(C.keyword=N),this.addKeyword(C)}}function U(){const A={...this.opts};for(const N of w)delete A[N];return A}const D={log(){},warn(){},error(){}};function V(A){if(A===!1)return D;if(A===void 0)return console;if(A.log&&A.warn&&A.error)return A;throw new Error("logger must implement log, warn and error methods")}const F=/^[a-z_$][a-z0-9_$:-]*$/i;function q(A,N){const{RULES:C}=this;if((0,o.eachItem)(A,I=>{if(C.keywords[I])throw new Error(`Keyword ${I} is already defined`);if(!F.test(I))throw new Error(`Keyword ${I} has invalid name`)}),!!N&&N.$data&&!("code"in N||"validate"in N))throw new Error('$data keyword must have "code" or "validate" function')}function z(A,N,C){var I;const m=N?.post;if(C&&m)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:b}=this;let j=m?b.post:b.rules.find(({type:K})=>K===C);if(j||(j={type:C,rules:[]},b.rules.push(j)),b.keywords[A]=!0,!N)return;const G={keyword:A,definition:{...N,type:(0,d.getJSONTypes)(N.type),schemaType:(0,d.getJSONTypes)(N.schemaType)}};N.before?W.call(this,j,G,N.before):j.rules.push(G),b.all[A]=G,(I=N.implements)===null||I===void 0||I.forEach(K=>this.addKeyword(K))}function W(A,N,C){const I=A.rules.findIndex(m=>m.keyword===C);I>=0?A.rules.splice(I,0,N):(A.rules.push(N),this.logger.warn(`rule ${C} is not defined`))}function x(A){let{metaSchema:N}=A;N!==void 0&&(A.$data&&this.opts.$data&&(N=X(N)),A.validateSchema=this.compile(N,!0))}const B={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function X(A){return{anyOf:[A,B]}}})(Ss)),Ss}var Jr={},Yr={},Zr={},fc;function gp(){if(fc)return Zr;fc=1,Object.defineProperty(Zr,"__esModule",{value:!0});const e={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};return Zr.default=e,Zr}var Qe={},hc;function $p(){if(hc)return Qe;hc=1,Object.defineProperty(Qe,"__esModule",{value:!0}),Qe.callRef=Qe.getValidate=void 0;const e=ts(),t=Me(),s=ne(),r=at(),c=ri(),n=ue(),a={keyword:"$ref",schemaType:"string",code(d){const{gen:o,schema:$,it:g}=d,{baseId:v,schemaEnv:w,validateName:E,opts:f,self:h}=g,{root:l}=w;if(($==="#"||$==="#/")&&v===l.baseId)return S();const p=c.resolveRef.call(h,l,v,$);if(p===void 0)throw new e.default(g.opts.uriResolver,v,$);if(p instanceof c.SchemaEnv)return y(p);return _(p);function S(){if(w===l)return u(d,E,w,w.$async);const P=o.scopeValue("root",{ref:l});return u(d,(0,s._)`${P}.validate`,l,l.$async)}function y(P){const T=i(d,P);u(d,T,P,P.$async)}function _(P){const T=o.scopeValue("schema",f.code.source===!0?{ref:P,code:(0,s.stringify)(P)}:{ref:P}),M=o.name("valid"),U=d.subschema({schema:P,dataTypes:[],schemaPath:s.nil,topSchemaRef:T,errSchemaPath:$},M);d.mergeEvaluated(U),d.ok(M)}}};function i(d,o){const{gen:$}=d;return o.validate?$.scopeValue("validate",{ref:o.validate}):(0,s._)`${$.scopeValue("wrapper",{ref:o})}.validate`}Qe.getValidate=i;function u(d,o,$,g){const{gen:v,it:w}=d,{allErrors:E,schemaEnv:f,opts:h}=w,l=h.passContext?r.default.this:s.nil;g?p():S();function p(){if(!f.$async)throw new Error("async schema referenced by sync schema");const P=v.let("valid");v.try(()=>{v.code((0,s._)`await ${(0,t.callValidateCode)(d,o,l)}`),_(o),E||v.assign(P,!0)},T=>{v.if((0,s._)`!(${T} instanceof ${w.ValidationError})`,()=>v.throw(T)),y(T),E||v.assign(P,!1)}),d.ok(P)}function S(){d.result((0,t.callValidateCode)(d,o,l),()=>_(o),()=>y(o))}function y(P){const T=(0,s._)`${P}.errors`;v.assign(r.default.vErrors,(0,s._)`${r.default.vErrors} === null ? ${T} : ${r.default.vErrors}.concat(${T})`),v.assign(r.default.errors,(0,s._)`${r.default.vErrors}.length`)}function _(P){var T;if(!w.opts.unevaluated)return;const M=(T=$?.validate)===null||T===void 0?void 0:T.evaluated;if(w.props!==!0)if(M&&!M.dynamicProps)M.props!==void 0&&(w.props=n.mergeEvaluated.props(v,M.props,w.props));else{const U=v.var("props",(0,s._)`${P}.evaluated.props`);w.props=n.mergeEvaluated.props(v,U,w.props,s.Name)}if(w.items!==!0)if(M&&!M.dynamicItems)M.items!==void 0&&(w.items=n.mergeEvaluated.items(v,M.items,w.items));else{const U=v.var("items",(0,s._)`${P}.evaluated.items`);w.items=n.mergeEvaluated.items(v,U,w.items,s.Name)}}}return Qe.callRef=u,Qe.default=a,Qe}var pc;function _p(){if(pc)return Yr;pc=1,Object.defineProperty(Yr,"__esModule",{value:!0});const e=gp(),t=$p(),s=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",e.default,t.default];return Yr.default=s,Yr}var Qr={},en={},mc;function wp(){if(mc)return en;mc=1,Object.defineProperty(en,"__esModule",{value:!0});const e=ne(),t=e.operators,s={maximum:{okStr:"<=",ok:t.LTE,fail:t.GT},minimum:{okStr:">=",ok:t.GTE,fail:t.LT},exclusiveMaximum:{okStr:"<",ok:t.LT,fail:t.GTE},exclusiveMinimum:{okStr:">",ok:t.GT,fail:t.LTE}},r={message:({keyword:n,schemaCode:a})=>(0,e.str)`must be ${s[n].okStr} ${a}`,params:({keyword:n,schemaCode:a})=>(0,e._)`{comparison: ${s[n].okStr}, limit: ${a}}`},c={keyword:Object.keys(s),type:"number",schemaType:"number",$data:!0,error:r,code(n){const{keyword:a,data:i,schemaCode:u}=n;n.fail$data((0,e._)`${i} ${s[a].fail} ${u} || isNaN(${i})`)}};return en.default=c,en}var tn={},yc;function Ep(){if(yc)return tn;yc=1,Object.defineProperty(tn,"__esModule",{value:!0});const e=ne(),s={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:({schemaCode:r})=>(0,e.str)`must be multiple of ${r}`,params:({schemaCode:r})=>(0,e._)`{multipleOf: ${r}}`},code(r){const{gen:c,data:n,schemaCode:a,it:i}=r,u=i.opts.multipleOfPrecision,d=c.let("res"),o=u?(0,e._)`Math.abs(Math.round(${d}) - ${d}) > 1e-${u}`:(0,e._)`${d} !== parseInt(${d})`;r.fail$data((0,e._)`(${a} === 0 || (${d} = ${n}/${a}, ${o}))`)}};return tn.default=s,tn}var rn={},nn={},vc;function Sp(){if(vc)return nn;vc=1,Object.defineProperty(nn,"__esModule",{value:!0});function e(t){const s=t.length;let r=0,c=0,n;for(;c<s;)r++,n=t.charCodeAt(c++),n>=55296&&n<=56319&&c<s&&(n=t.charCodeAt(c),(n&64512)===56320&&c++);return r}return nn.default=e,e.code='require("ajv/dist/runtime/ucs2length").default',nn}var gc;function bp(){if(gc)return rn;gc=1,Object.defineProperty(rn,"__esModule",{value:!0});const e=ne(),t=ue(),s=Sp(),c={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message({keyword:n,schemaCode:a}){const i=n==="maxLength"?"more":"fewer";return(0,e.str)`must NOT have ${i} than ${a} characters`},params:({schemaCode:n})=>(0,e._)`{limit: ${n}}`},code(n){const{keyword:a,data:i,schemaCode:u,it:d}=n,o=a==="maxLength"?e.operators.GT:e.operators.LT,$=d.opts.unicode===!1?(0,e._)`${i}.length`:(0,e._)`${(0,t.useFunc)(n.gen,s.default)}(${i})`;n.fail$data((0,e._)`${$} ${o} ${u}`)}};return rn.default=c,rn}var sn={},$c;function Pp(){if($c)return sn;$c=1,Object.defineProperty(sn,"__esModule",{value:!0});const e=Me(),t=ne(),r={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:({schemaCode:c})=>(0,t.str)`must match pattern "${c}"`,params:({schemaCode:c})=>(0,t._)`{pattern: ${c}}`},code(c){const{data:n,$data:a,schema:i,schemaCode:u,it:d}=c,o=d.opts.unicodeRegExp?"u":"",$=a?(0,t._)`(new RegExp(${u}, ${o}))`:(0,e.usePattern)(c,i);c.fail$data((0,t._)`!${$}.test(${n})`)}};return sn.default=r,sn}var an={},_c;function Rp(){if(_c)return an;_c=1,Object.defineProperty(an,"__esModule",{value:!0});const e=ne(),s={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message({keyword:r,schemaCode:c}){const n=r==="maxProperties"?"more":"fewer";return(0,e.str)`must NOT have ${n} than ${c} properties`},params:({schemaCode:r})=>(0,e._)`{limit: ${r}}`},code(r){const{keyword:c,data:n,schemaCode:a}=r,i=c==="maxProperties"?e.operators.GT:e.operators.LT;r.fail$data((0,e._)`Object.keys(${n}).length ${i} ${a}`)}};return an.default=s,an}var on={},wc;function Np(){if(wc)return on;wc=1,Object.defineProperty(on,"__esModule",{value:!0});const e=Me(),t=ne(),s=ue(),c={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:({params:{missingProperty:n}})=>(0,t.str)`must have required property '${n}'`,params:({params:{missingProperty:n}})=>(0,t._)`{missingProperty: ${n}}`},code(n){const{gen:a,schema:i,schemaCode:u,data:d,$data:o,it:$}=n,{opts:g}=$;if(!o&&i.length===0)return;const v=i.length>=g.loopRequired;if($.allErrors?w():E(),g.strictRequired){const l=n.parentSchema.properties,{definedProperties:p}=n.it;for(const S of i)if(l?.[S]===void 0&&!p.has(S)){const y=$.schemaEnv.baseId+$.errSchemaPath,_=`required property "${S}" is not defined at "${y}" (strictRequired)`;(0,s.checkStrictMode)($,_,$.opts.strictRequired)}}function w(){if(v||o)n.block$data(t.nil,f);else for(const l of i)(0,e.checkReportMissingProp)(n,l)}function E(){const l=a.let("missing");if(v||o){const p=a.let("valid",!0);n.block$data(p,()=>h(l,p)),n.ok(p)}else a.if((0,e.checkMissingProp)(n,i,l)),(0,e.reportMissingProp)(n,l),a.else()}function f(){a.forOf("prop",u,l=>{n.setParams({missingProperty:l}),a.if((0,e.noPropertyInData)(a,d,l,g.ownProperties),()=>n.error())})}function h(l,p){n.setParams({missingProperty:l}),a.forOf(l,u,()=>{a.assign(p,(0,e.propertyInData)(a,d,l,g.ownProperties)),a.if((0,t.not)(p),()=>{n.error(),a.break()})},t.nil)}}};return on.default=c,on}var cn={},Ec;function Ip(){if(Ec)return cn;Ec=1,Object.defineProperty(cn,"__esModule",{value:!0});const e=ne(),s={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message({keyword:r,schemaCode:c}){const n=r==="maxItems"?"more":"fewer";return(0,e.str)`must NOT have ${n} than ${c} items`},params:({schemaCode:r})=>(0,e._)`{limit: ${r}}`},code(r){const{keyword:c,data:n,schemaCode:a}=r,i=c==="maxItems"?e.operators.GT:e.operators.LT;r.fail$data((0,e._)`${n}.length ${i} ${a}`)}};return cn.default=s,cn}var un={},ln={},Sc;function ni(){if(Sc)return ln;Sc=1,Object.defineProperty(ln,"__esModule",{value:!0});const e=Bn();return e.code='require("ajv/dist/runtime/equal").default',ln.default=e,ln}var bc;function Op(){if(bc)return un;bc=1,Object.defineProperty(un,"__esModule",{value:!0});const e=zn(),t=ne(),s=ue(),r=ni(),n={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:({params:{i:a,j:i}})=>(0,t.str)`must NOT have duplicate items (items ## ${i} and ${a} are identical)`,params:({params:{i:a,j:i}})=>(0,t._)`{i: ${a}, j: ${i}}`},code(a){const{gen:i,data:u,$data:d,schema:o,parentSchema:$,schemaCode:g,it:v}=a;if(!d&&!o)return;const w=i.let("valid"),E=$.items?(0,e.getSchemaTypes)($.items):[];a.block$data(w,f,(0,t._)`${g} === false`),a.ok(w);function f(){const S=i.let("i",(0,t._)`${u}.length`),y=i.let("j");a.setParams({i:S,j:y}),i.assign(w,!0),i.if((0,t._)`${S} > 1`,()=>(h()?l:p)(S,y))}function h(){return E.length>0&&!E.some(S=>S==="object"||S==="array")}function l(S,y){const _=i.name("item"),P=(0,e.checkDataTypes)(E,_,v.opts.strictNumbers,e.DataType.Wrong),T=i.const("indices",(0,t._)`{}`);i.for((0,t._)`;${S}--;`,()=>{i.let(_,(0,t._)`${u}[${S}]`),i.if(P,(0,t._)`continue`),E.length>1&&i.if((0,t._)`typeof ${_} == "string"`,(0,t._)`${_} += "_"`),i.if((0,t._)`typeof ${T}[${_}] == "number"`,()=>{i.assign(y,(0,t._)`${T}[${_}]`),a.error(),i.assign(w,!1).break()}).code((0,t._)`${T}[${_}] = ${S}`)})}function p(S,y){const _=(0,s.useFunc)(i,r.default),P=i.name("outer");i.label(P).for((0,t._)`;${S}--;`,()=>i.for((0,t._)`${y} = ${S}; ${y}--;`,()=>i.if((0,t._)`${_}(${u}[${S}], ${u}[${y}])`,()=>{a.error(),i.assign(w,!1).break(P)})))}}};return un.default=n,un}var dn={},Pc;function Tp(){if(Pc)return dn;Pc=1,Object.defineProperty(dn,"__esModule",{value:!0});const e=ne(),t=ue(),s=ni(),c={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:({schemaCode:n})=>(0,e._)`{allowedValue: ${n}}`},code(n){const{gen:a,data:i,$data:u,schemaCode:d,schema:o}=n;u||o&&typeof o=="object"?n.fail$data((0,e._)`!${(0,t.useFunc)(a,s.default)}(${i}, ${d})`):n.fail((0,e._)`${o} !== ${i}`)}};return dn.default=c,dn}var fn={},Rc;function jp(){if(Rc)return fn;Rc=1,Object.defineProperty(fn,"__esModule",{value:!0});const e=ne(),t=ue(),s=ni(),c={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:({schemaCode:n})=>(0,e._)`{allowedValues: ${n}}`},code(n){const{gen:a,data:i,$data:u,schema:d,schemaCode:o,it:$}=n;if(!u&&d.length===0)throw new Error("enum must have non-empty array");const g=d.length>=$.opts.loopEnum;let v;const w=()=>v??(v=(0,t.useFunc)(a,s.default));let E;if(g||u)E=a.let("valid"),n.block$data(E,f);else{if(!Array.isArray(d))throw new Error("ajv implementation error");const l=a.const("vSchema",o);E=(0,e.or)(...d.map((p,S)=>h(l,S)))}n.pass(E);function f(){a.assign(E,!1),a.forOf("v",o,l=>a.if((0,e._)`${w()}(${i}, ${l})`,()=>a.assign(E,!0).break()))}function h(l,p){const S=d[p];return typeof S=="object"&&S!==null?(0,e._)`${w()}(${i}, ${l}[${p}])`:(0,e._)`${i} === ${S}`}}};return fn.default=c,fn}var Nc;function Cp(){if(Nc)return Qr;Nc=1,Object.defineProperty(Qr,"__esModule",{value:!0});const e=wp(),t=Ep(),s=bp(),r=Pp(),c=Rp(),n=Np(),a=Ip(),i=Op(),u=Tp(),d=jp(),o=[e.default,t.default,s.default,r.default,c.default,n.default,a.default,i.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},u.default,d.default];return Qr.default=o,Qr}var hn={},It={},Ic;function Wl(){if(Ic)return It;Ic=1,Object.defineProperty(It,"__esModule",{value:!0}),It.validateAdditionalItems=void 0;const e=ne(),t=ue(),r={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:({params:{len:n}})=>(0,e.str)`must NOT have more than ${n} items`,params:({params:{len:n}})=>(0,e._)`{limit: ${n}}`},code(n){const{parentSchema:a,it:i}=n,{items:u}=a;if(!Array.isArray(u)){(0,t.checkStrictMode)(i,'"additionalItems" is ignored when "items" is not an array of schemas');return}c(n,u)}};function c(n,a){const{gen:i,schema:u,data:d,keyword:o,it:$}=n;$.items=!0;const g=i.const("len",(0,e._)`${d}.length`);if(u===!1)n.setParams({len:a.length}),n.pass((0,e._)`${g} <= ${a.length}`);else if(typeof u=="object"&&!(0,t.alwaysValidSchema)($,u)){const w=i.var("valid",(0,e._)`${g} <= ${a.length}`);i.if((0,e.not)(w),()=>v(w)),n.ok(w)}function v(w){i.forRange("i",a.length,g,E=>{n.subschema({keyword:o,dataProp:E,dataPropType:t.Type.Num},w),$.allErrors||i.if((0,e.not)(w),()=>i.break())})}}return It.validateAdditionalItems=c,It.default=r,It}var pn={},Ot={},Oc;function Xl(){if(Oc)return Ot;Oc=1,Object.defineProperty(Ot,"__esModule",{value:!0}),Ot.validateTuple=void 0;const e=ne(),t=ue(),s=Me(),r={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(n){const{schema:a,it:i}=n;if(Array.isArray(a))return c(n,"additionalItems",a);i.items=!0,!(0,t.alwaysValidSchema)(i,a)&&n.ok((0,s.validateArray)(n))}};function c(n,a,i=n.schema){const{gen:u,parentSchema:d,data:o,keyword:$,it:g}=n;E(d),g.opts.unevaluated&&i.length&&g.items!==!0&&(g.items=t.mergeEvaluated.items(u,i.length,g.items));const v=u.name("valid"),w=u.const("len",(0,e._)`${o}.length`);i.forEach((f,h)=>{(0,t.alwaysValidSchema)(g,f)||(u.if((0,e._)`${w} > ${h}`,()=>n.subschema({keyword:$,schemaProp:h,dataProp:h},v)),n.ok(v))});function E(f){const{opts:h,errSchemaPath:l}=g,p=i.length,S=p===f.minItems&&(p===f.maxItems||f[a]===!1);if(h.strictTuples&&!S){const y=`"${$}" is ${p}-tuple, but minItems or maxItems/${a} are not specified or different at path "${l}"`;(0,t.checkStrictMode)(g,y,h.strictTuples)}}}return Ot.validateTuple=c,Ot.default=r,Ot}var Tc;function Ap(){if(Tc)return pn;Tc=1,Object.defineProperty(pn,"__esModule",{value:!0});const e=Xl(),t={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:s=>(0,e.validateTuple)(s,"items")};return pn.default=t,pn}var mn={},jc;function kp(){if(jc)return mn;jc=1,Object.defineProperty(mn,"__esModule",{value:!0});const e=ne(),t=ue(),s=Me(),r=Wl(),n={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:({params:{len:a}})=>(0,e.str)`must NOT have more than ${a} items`,params:({params:{len:a}})=>(0,e._)`{limit: ${a}}`},code(a){const{schema:i,parentSchema:u,it:d}=a,{prefixItems:o}=u;d.items=!0,!(0,t.alwaysValidSchema)(d,i)&&(o?(0,r.validateAdditionalItems)(a,o):a.ok((0,s.validateArray)(a)))}};return mn.default=n,mn}var yn={},Cc;function qp(){if(Cc)return yn;Cc=1,Object.defineProperty(yn,"__esModule",{value:!0});const e=ne(),t=ue(),r={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:({params:{min:c,max:n}})=>n===void 0?(0,e.str)`must contain at least ${c} valid item(s)`:(0,e.str)`must contain at least ${c} and no more than ${n} valid item(s)`,params:({params:{min:c,max:n}})=>n===void 0?(0,e._)`{minContains: ${c}}`:(0,e._)`{minContains: ${c}, maxContains: ${n}}`},code(c){const{gen:n,schema:a,parentSchema:i,data:u,it:d}=c;let o,$;const{minContains:g,maxContains:v}=i;d.opts.next?(o=g===void 0?1:g,$=v):o=1;const w=n.const("len",(0,e._)`${u}.length`);if(c.setParams({min:o,max:$}),$===void 0&&o===0){(0,t.checkStrictMode)(d,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if($!==void 0&&o>$){(0,t.checkStrictMode)(d,'"minContains" > "maxContains" is always invalid'),c.fail();return}if((0,t.alwaysValidSchema)(d,a)){let p=(0,e._)`${w} >= ${o}`;$!==void 0&&(p=(0,e._)`${p} && ${w} <= ${$}`),c.pass(p);return}d.items=!0;const E=n.name("valid");$===void 0&&o===1?h(E,()=>n.if(E,()=>n.break())):o===0?(n.let(E,!0),$!==void 0&&n.if((0,e._)`${u}.length > 0`,f)):(n.let(E,!1),f()),c.result(E,()=>c.reset());function f(){const p=n.name("_valid"),S=n.let("count",0);h(p,()=>n.if(p,()=>l(S)))}function h(p,S){n.forRange("i",0,w,y=>{c.subschema({keyword:"contains",dataProp:y,dataPropType:t.Type.Num,compositeRule:!0},p),S()})}function l(p){n.code((0,e._)`${p}++`),$===void 0?n.if((0,e._)`${p} >= ${o}`,()=>n.assign(E,!0).break()):(n.if((0,e._)`${p} > ${$}`,()=>n.assign(E,!1).break()),o===1?n.assign(E,!0):n.if((0,e._)`${p} >= ${o}`,()=>n.assign(E,!0)))}}};return yn.default=r,yn}var Os={},Ac;function Dp(){return Ac||(Ac=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;const t=ne(),s=ue(),r=Me();e.error={message:({params:{property:u,depsCount:d,deps:o}})=>{const $=d===1?"property":"properties";return(0,t.str)`must have ${$} ${o} when property ${u} is present`},params:({params:{property:u,depsCount:d,deps:o,missingProperty:$}})=>(0,t._)`{property: ${u},
    missingProperty: ${$},
    depsCount: ${d},
    deps: ${o}}`};const c={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(u){const[d,o]=n(u);a(u,d),i(u,o)}};function n({schema:u}){const d={},o={};for(const $ in u){if($==="__proto__")continue;const g=Array.isArray(u[$])?d:o;g[$]=u[$]}return[d,o]}function a(u,d=u.schema){const{gen:o,data:$,it:g}=u;if(Object.keys(d).length===0)return;const v=o.let("missing");for(const w in d){const E=d[w];if(E.length===0)continue;const f=(0,r.propertyInData)(o,$,w,g.opts.ownProperties);u.setParams({property:w,depsCount:E.length,deps:E.join(", ")}),g.allErrors?o.if(f,()=>{for(const h of E)(0,r.checkReportMissingProp)(u,h)}):(o.if((0,t._)`${f} && (${(0,r.checkMissingProp)(u,E,v)})`),(0,r.reportMissingProp)(u,v),o.else())}}e.validatePropertyDeps=a;function i(u,d=u.schema){const{gen:o,data:$,keyword:g,it:v}=u,w=o.name("valid");for(const E in d)(0,s.alwaysValidSchema)(v,d[E])||(o.if((0,r.propertyInData)(o,$,E,v.opts.ownProperties),()=>{const f=u.subschema({keyword:g,schemaProp:E},w);u.mergeValidEvaluated(f,w)},()=>o.var(w,!0)),u.ok(w))}e.validateSchemaDeps=i,e.default=c})(Os)),Os}var vn={},kc;function Mp(){if(kc)return vn;kc=1,Object.defineProperty(vn,"__esModule",{value:!0});const e=ne(),t=ue(),r={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:({params:c})=>(0,e._)`{propertyName: ${c.propertyName}}`},code(c){const{gen:n,schema:a,data:i,it:u}=c;if((0,t.alwaysValidSchema)(u,a))return;const d=n.name("valid");n.forIn("key",i,o=>{c.setParams({propertyName:o}),c.subschema({keyword:"propertyNames",data:o,dataTypes:["string"],propertyName:o,compositeRule:!0},d),n.if((0,e.not)(d),()=>{c.error(!0),u.allErrors||n.break()})}),c.ok(d)}};return vn.default=r,vn}var gn={},qc;function Jl(){if(qc)return gn;qc=1,Object.defineProperty(gn,"__esModule",{value:!0});const e=Me(),t=ne(),s=at(),r=ue(),n={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:({params:a})=>(0,t._)`{additionalProperty: ${a.additionalProperty}}`},code(a){const{gen:i,schema:u,parentSchema:d,data:o,errsCount:$,it:g}=a;if(!$)throw new Error("ajv implementation error");const{allErrors:v,opts:w}=g;if(g.props=!0,w.removeAdditional!=="all"&&(0,r.alwaysValidSchema)(g,u))return;const E=(0,e.allSchemaProperties)(d.properties),f=(0,e.allSchemaProperties)(d.patternProperties);h(),a.ok((0,t._)`${$} === ${s.default.errors}`);function h(){i.forIn("key",o,_=>{!E.length&&!f.length?S(_):i.if(l(_),()=>S(_))})}function l(_){let P;if(E.length>8){const T=(0,r.schemaRefOrVal)(g,d.properties,"properties");P=(0,e.isOwnProperty)(i,T,_)}else E.length?P=(0,t.or)(...E.map(T=>(0,t._)`${_} === ${T}`)):P=t.nil;return f.length&&(P=(0,t.or)(P,...f.map(T=>(0,t._)`${(0,e.usePattern)(a,T)}.test(${_})`))),(0,t.not)(P)}function p(_){i.code((0,t._)`delete ${o}[${_}]`)}function S(_){if(w.removeAdditional==="all"||w.removeAdditional&&u===!1){p(_);return}if(u===!1){a.setParams({additionalProperty:_}),a.error(),v||i.break();return}if(typeof u=="object"&&!(0,r.alwaysValidSchema)(g,u)){const P=i.name("valid");w.removeAdditional==="failing"?(y(_,P,!1),i.if((0,t.not)(P),()=>{a.reset(),p(_)})):(y(_,P),v||i.if((0,t.not)(P),()=>i.break()))}}function y(_,P,T){const M={keyword:"additionalProperties",dataProp:_,dataPropType:r.Type.Str};T===!1&&Object.assign(M,{compositeRule:!0,createErrors:!1,allErrors:!1}),a.subschema(M,P)}}};return gn.default=n,gn}var $n={},Dc;function Lp(){if(Dc)return $n;Dc=1,Object.defineProperty($n,"__esModule",{value:!0});const e=es(),t=Me(),s=ue(),r=Jl(),c={keyword:"properties",type:"object",schemaType:"object",code(n){const{gen:a,schema:i,parentSchema:u,data:d,it:o}=n;o.opts.removeAdditional==="all"&&u.additionalProperties===void 0&&r.default.code(new e.KeywordCxt(o,r.default,"additionalProperties"));const $=(0,t.allSchemaProperties)(i);for(const f of $)o.definedProperties.add(f);o.opts.unevaluated&&$.length&&o.props!==!0&&(o.props=s.mergeEvaluated.props(a,(0,s.toHash)($),o.props));const g=$.filter(f=>!(0,s.alwaysValidSchema)(o,i[f]));if(g.length===0)return;const v=a.name("valid");for(const f of g)w(f)?E(f):(a.if((0,t.propertyInData)(a,d,f,o.opts.ownProperties)),E(f),o.allErrors||a.else().var(v,!0),a.endIf()),n.it.definedProperties.add(f),n.ok(v);function w(f){return o.opts.useDefaults&&!o.compositeRule&&i[f].default!==void 0}function E(f){n.subschema({keyword:"properties",schemaProp:f,dataProp:f},v)}}};return $n.default=c,$n}var _n={},Mc;function Vp(){if(Mc)return _n;Mc=1,Object.defineProperty(_n,"__esModule",{value:!0});const e=Me(),t=ne(),s=ue(),r=ue(),c={keyword:"patternProperties",type:"object",schemaType:"object",code(n){const{gen:a,schema:i,data:u,parentSchema:d,it:o}=n,{opts:$}=o,g=(0,e.allSchemaProperties)(i),v=g.filter(S=>(0,s.alwaysValidSchema)(o,i[S]));if(g.length===0||v.length===g.length&&(!o.opts.unevaluated||o.props===!0))return;const w=$.strictSchema&&!$.allowMatchingProperties&&d.properties,E=a.name("valid");o.props!==!0&&!(o.props instanceof t.Name)&&(o.props=(0,r.evaluatedPropsToName)(a,o.props));const{props:f}=o;h();function h(){for(const S of g)w&&l(S),o.allErrors?p(S):(a.var(E,!0),p(S),a.if(E))}function l(S){for(const y in w)new RegExp(S).test(y)&&(0,s.checkStrictMode)(o,`property ${y} matches pattern ${S} (use allowMatchingProperties)`)}function p(S){a.forIn("key",u,y=>{a.if((0,t._)`${(0,e.usePattern)(n,S)}.test(${y})`,()=>{const _=v.includes(S);_||n.subschema({keyword:"patternProperties",schemaProp:S,dataProp:y,dataPropType:r.Type.Str},E),o.opts.unevaluated&&f!==!0?a.assign((0,t._)`${f}[${y}]`,!0):!_&&!o.allErrors&&a.if((0,t.not)(E),()=>a.break())})})}}};return _n.default=c,_n}var wn={},Lc;function Fp(){if(Lc)return wn;Lc=1,Object.defineProperty(wn,"__esModule",{value:!0});const e=ue(),t={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(s){const{gen:r,schema:c,it:n}=s;if((0,e.alwaysValidSchema)(n,c)){s.fail();return}const a=r.name("valid");s.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},a),s.failResult(a,()=>s.reset(),()=>s.error())},error:{message:"must NOT be valid"}};return wn.default=t,wn}var En={},Vc;function Up(){if(Vc)return En;Vc=1,Object.defineProperty(En,"__esModule",{value:!0});const t={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:Me().validateUnion,error:{message:"must match a schema in anyOf"}};return En.default=t,En}var Sn={},Fc;function zp(){if(Fc)return Sn;Fc=1,Object.defineProperty(Sn,"__esModule",{value:!0});const e=ne(),t=ue(),r={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:({params:c})=>(0,e._)`{passingSchemas: ${c.passing}}`},code(c){const{gen:n,schema:a,parentSchema:i,it:u}=c;if(!Array.isArray(a))throw new Error("ajv implementation error");if(u.opts.discriminator&&i.discriminator)return;const d=a,o=n.let("valid",!1),$=n.let("passing",null),g=n.name("_valid");c.setParams({passing:$}),n.block(v),c.result(o,()=>c.reset(),()=>c.error(!0));function v(){d.forEach((w,E)=>{let f;(0,t.alwaysValidSchema)(u,w)?n.var(g,!0):f=c.subschema({keyword:"oneOf",schemaProp:E,compositeRule:!0},g),E>0&&n.if((0,e._)`${g} && ${o}`).assign(o,!1).assign($,(0,e._)`[${$}, ${E}]`).else(),n.if(g,()=>{n.assign(o,!0),n.assign($,E),f&&c.mergeEvaluated(f,e.Name)})})}}};return Sn.default=r,Sn}var bn={},Uc;function Gp(){if(Uc)return bn;Uc=1,Object.defineProperty(bn,"__esModule",{value:!0});const e=ue(),t={keyword:"allOf",schemaType:"array",code(s){const{gen:r,schema:c,it:n}=s;if(!Array.isArray(c))throw new Error("ajv implementation error");const a=r.name("valid");c.forEach((i,u)=>{if((0,e.alwaysValidSchema)(n,i))return;const d=s.subschema({keyword:"allOf",schemaProp:u},a);s.ok(a),s.mergeEvaluated(d)})}};return bn.default=t,bn}var Pn={},zc;function xp(){if(zc)return Pn;zc=1,Object.defineProperty(Pn,"__esModule",{value:!0});const e=ne(),t=ue(),r={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:({params:n})=>(0,e.str)`must match "${n.ifClause}" schema`,params:({params:n})=>(0,e._)`{failingKeyword: ${n.ifClause}}`},code(n){const{gen:a,parentSchema:i,it:u}=n;i.then===void 0&&i.else===void 0&&(0,t.checkStrictMode)(u,'"if" without "then" and "else" is ignored');const d=c(u,"then"),o=c(u,"else");if(!d&&!o)return;const $=a.let("valid",!0),g=a.name("_valid");if(v(),n.reset(),d&&o){const E=a.let("ifClause");n.setParams({ifClause:E}),a.if(g,w("then",E),w("else",E))}else d?a.if(g,w("then")):a.if((0,e.not)(g),w("else"));n.pass($,()=>n.error(!0));function v(){const E=n.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},g);n.mergeEvaluated(E)}function w(E,f){return()=>{const h=n.subschema({keyword:E},g);a.assign($,g),n.mergeValidEvaluated(h,$),f?a.assign(f,(0,e._)`${E}`):n.setParams({ifClause:E})}}}};function c(n,a){const i=n.schema[a];return i!==void 0&&!(0,t.alwaysValidSchema)(n,i)}return Pn.default=r,Pn}var Rn={},Gc;function Kp(){if(Gc)return Rn;Gc=1,Object.defineProperty(Rn,"__esModule",{value:!0});const e=ue(),t={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:s,parentSchema:r,it:c}){r.if===void 0&&(0,e.checkStrictMode)(c,`"${s}" without "if" is ignored`)}};return Rn.default=t,Rn}var xc;function Hp(){if(xc)return hn;xc=1,Object.defineProperty(hn,"__esModule",{value:!0});const e=Wl(),t=Ap(),s=Xl(),r=kp(),c=qp(),n=Dp(),a=Mp(),i=Jl(),u=Lp(),d=Vp(),o=Fp(),$=Up(),g=zp(),v=Gp(),w=xp(),E=Kp();function f(h=!1){const l=[o.default,$.default,g.default,v.default,w.default,E.default,a.default,i.default,n.default,u.default,d.default];return h?l.push(t.default,r.default):l.push(e.default,s.default),l.push(c.default),l}return hn.default=f,hn}var Nn={},In={},Kc;function Bp(){if(Kc)return In;Kc=1,Object.defineProperty(In,"__esModule",{value:!0});const e=ne(),s={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:({schemaCode:r})=>(0,e.str)`must match format "${r}"`,params:({schemaCode:r})=>(0,e._)`{format: ${r}}`},code(r,c){const{gen:n,data:a,$data:i,schema:u,schemaCode:d,it:o}=r,{opts:$,errSchemaPath:g,schemaEnv:v,self:w}=o;if(!$.validateFormats)return;i?E():f();function E(){const h=n.scopeValue("formats",{ref:w.formats,code:$.code.formats}),l=n.const("fDef",(0,e._)`${h}[${d}]`),p=n.let("fType"),S=n.let("format");n.if((0,e._)`typeof ${l} == "object" && !(${l} instanceof RegExp)`,()=>n.assign(p,(0,e._)`${l}.type || "string"`).assign(S,(0,e._)`${l}.validate`),()=>n.assign(p,(0,e._)`"string"`).assign(S,l)),r.fail$data((0,e.or)(y(),_()));function y(){return $.strictSchema===!1?e.nil:(0,e._)`${d} && !${S}`}function _(){const P=v.$async?(0,e._)`(${l}.async ? await ${S}(${a}) : ${S}(${a}))`:(0,e._)`${S}(${a})`,T=(0,e._)`(typeof ${S} == "function" ? ${P} : ${S}.test(${a}))`;return(0,e._)`${S} && ${S} !== true && ${p} === ${c} && !${T}`}}function f(){const h=w.formats[u];if(!h){y();return}if(h===!0)return;const[l,p,S]=_(h);l===c&&r.pass(P());function y(){if($.strictSchema===!1){w.logger.warn(T());return}throw new Error(T());function T(){return`unknown format "${u}" ignored in schema at path "${g}"`}}function _(T){const M=T instanceof RegExp?(0,e.regexpCode)(T):$.code.formats?(0,e._)`${$.code.formats}${(0,e.getProperty)(u)}`:void 0,U=n.scopeValue("formats",{key:u,ref:T,code:M});return typeof T=="object"&&!(T instanceof RegExp)?[T.type||"string",T.validate,(0,e._)`${U}.validate`]:["string",T,U]}function P(){if(typeof h=="object"&&!(h instanceof RegExp)&&h.async){if(!v.$async)throw new Error("async format in sync schema");return(0,e._)`await ${S}(${a})`}return typeof p=="function"?(0,e._)`${S}(${a})`:(0,e._)`${S}.test(${a})`}}}};return In.default=s,In}var Hc;function Wp(){if(Hc)return Nn;Hc=1,Object.defineProperty(Nn,"__esModule",{value:!0});const t=[Bp().default];return Nn.default=t,Nn}var yt={},Bc;function Xp(){return Bc||(Bc=1,Object.defineProperty(yt,"__esModule",{value:!0}),yt.contentVocabulary=yt.metadataVocabulary=void 0,yt.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],yt.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]),yt}var Wc;function Jp(){if(Wc)return Jr;Wc=1,Object.defineProperty(Jr,"__esModule",{value:!0});const e=_p(),t=Cp(),s=Hp(),r=Wp(),c=Xp(),n=[e.default,t.default,(0,s.default)(),r.default,c.metadataVocabulary,c.contentVocabulary];return Jr.default=n,Jr}var On={},zt={},Xc;function Yp(){if(Xc)return zt;Xc=1,Object.defineProperty(zt,"__esModule",{value:!0}),zt.DiscrError=void 0;var e;return(function(t){t.Tag="tag",t.Mapping="mapping"})(e||(zt.DiscrError=e={})),zt}var Jc;function Zp(){if(Jc)return On;Jc=1,Object.defineProperty(On,"__esModule",{value:!0});const e=ne(),t=Yp(),s=ri(),r=ts(),c=ue(),a={keyword:"discriminator",type:"object",schemaType:"object",error:{message:({params:{discrError:i,tagName:u}})=>i===t.DiscrError.Tag?`tag "${u}" must be string`:`value of tag "${u}" must be in oneOf`,params:({params:{discrError:i,tag:u,tagName:d}})=>(0,e._)`{error: ${i}, tag: ${d}, tagValue: ${u}}`},code(i){const{gen:u,data:d,schema:o,parentSchema:$,it:g}=i,{oneOf:v}=$;if(!g.opts.discriminator)throw new Error("discriminator: requires discriminator option");const w=o.propertyName;if(typeof w!="string")throw new Error("discriminator: requires propertyName");if(o.mapping)throw new Error("discriminator: mapping is not supported");if(!v)throw new Error("discriminator: requires oneOf keyword");const E=u.let("valid",!1),f=u.const("tag",(0,e._)`${d}${(0,e.getProperty)(w)}`);u.if((0,e._)`typeof ${f} == "string"`,()=>h(),()=>i.error(!1,{discrError:t.DiscrError.Tag,tag:f,tagName:w})),i.ok(E);function h(){const S=p();u.if(!1);for(const y in S)u.elseIf((0,e._)`${f} === ${y}`),u.assign(E,l(S[y]));u.else(),i.error(!1,{discrError:t.DiscrError.Mapping,tag:f,tagName:w}),u.endIf()}function l(S){const y=u.name("valid"),_=i.subschema({keyword:"oneOf",schemaProp:S},y);return i.mergeEvaluated(_,e.Name),y}function p(){var S;const y={},_=T($);let P=!0;for(let D=0;D<v.length;D++){let V=v[D];if(V?.$ref&&!(0,c.schemaHasRulesButRef)(V,g.self.RULES)){const q=V.$ref;if(V=s.resolveRef.call(g.self,g.schemaEnv.root,g.baseId,q),V instanceof s.SchemaEnv&&(V=V.schema),V===void 0)throw new r.default(g.opts.uriResolver,g.baseId,q)}const F=(S=V?.properties)===null||S===void 0?void 0:S[w];if(typeof F!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${w}"`);P=P&&(_||T(V)),M(F,D)}if(!P)throw new Error(`discriminator: "${w}" must be required`);return y;function T({required:D}){return Array.isArray(D)&&D.includes(w)}function M(D,V){if(D.const)U(D.const,V);else if(D.enum)for(const F of D.enum)U(F,V);else throw new Error(`discriminator: "properties/${w}" must have "const" or "enum"`)}function U(D,V){if(typeof D!="string"||D in y)throw new Error(`discriminator: "${w}" values must be unique strings`);y[D]=V}}}};return On.default=a,On}const Qp="http://json-schema.org/draft-07/schema#",em="http://json-schema.org/draft-07/schema#",tm="Core schema meta-schema",rm={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},nm=["object","boolean"],sm={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},am={$schema:Qp,$id:em,title:tm,definitions:rm,type:nm,properties:sm,default:!0};var Yc;function im(){return Yc||(Yc=1,(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=t.Ajv=void 0;const s=vp(),r=Jp(),c=Zp(),n=am,a=["/properties"],i="http://json-schema.org/draft-07/schema";class u extends s.default{_addVocabularies(){super._addVocabularies(),r.default.forEach(w=>this.addVocabulary(w)),this.opts.discriminator&&this.addKeyword(c.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const w=this.opts.$data?this.$dataMetaSchema(n,a):n;this.addMetaSchema(w,i,!1),this.refs["http://json-schema.org/schema"]=i}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(i)?i:void 0)}}t.Ajv=u,e.exports=t=u,e.exports.Ajv=u,Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var d=es();Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return d.KeywordCxt}});var o=ne();Object.defineProperty(t,"_",{enumerable:!0,get:function(){return o._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return o.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return o.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return o.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return o.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return o.CodeGen}});var $=ti();Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return $.default}});var g=ts();Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return g.default}})})(Kr,Kr.exports)),Kr.exports}var Zc;function om(){return Zc||(Zc=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.formatLimitDefinition=void 0;const t=im(),s=ne(),r=s.operators,c={formatMaximum:{okStr:"<=",ok:r.LTE,fail:r.GT},formatMinimum:{okStr:">=",ok:r.GTE,fail:r.LT},formatExclusiveMaximum:{okStr:"<",ok:r.LT,fail:r.GTE},formatExclusiveMinimum:{okStr:">",ok:r.GT,fail:r.LTE}},n={message:({keyword:i,schemaCode:u})=>(0,s.str)`should be ${c[i].okStr} ${u}`,params:({keyword:i,schemaCode:u})=>(0,s._)`{comparison: ${c[i].okStr}, limit: ${u}}`};e.formatLimitDefinition={keyword:Object.keys(c),type:"string",schemaType:"string",$data:!0,error:n,code(i){const{gen:u,data:d,schemaCode:o,keyword:$,it:g}=i,{opts:v,self:w}=g;if(!v.validateFormats)return;const E=new t.KeywordCxt(g,w.RULES.all.format.definition,"format");E.$data?f():h();function f(){const p=u.scopeValue("formats",{ref:w.formats,code:v.code.formats}),S=u.const("fmt",(0,s._)`${p}[${E.schemaCode}]`);i.fail$data((0,s.or)((0,s._)`typeof ${S} != "object"`,(0,s._)`${S} instanceof RegExp`,(0,s._)`typeof ${S}.compare != "function"`,l(S)))}function h(){const p=E.schema,S=w.formats[p];if(!S||S===!0)return;if(typeof S!="object"||S instanceof RegExp||typeof S.compare!="function")throw new Error(`"${$}": format "${p}" does not define "compare" function`);const y=u.scopeValue("formats",{key:p,ref:S,code:v.code.formats?(0,s._)`${v.code.formats}${(0,s.getProperty)(p)}`:void 0});i.fail$data(l(y))}function l(p){return(0,s._)`${p}.compare(${d}, ${o}) ${c[$].fail} 0`}},dependencies:["format"]};const a=i=>(i.addKeyword(e.formatLimitDefinition),i);e.default=a})(Es)),Es}var Qc;function cm(){return Qc||(Qc=1,(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const s=np(),r=om(),c=ne(),n=new c.Name("fullFormats"),a=new c.Name("fastFormats"),i=(d,o={keywords:!0})=>{if(Array.isArray(o))return u(d,o,s.fullFormats,n),d;const[$,g]=o.mode==="fast"?[s.fastFormats,a]:[s.fullFormats,n],v=o.formats||s.formatNames;return u(d,v,$,g),o.keywords&&(0,r.default)(d),d};i.get=(d,o="full")=>{const g=(o==="fast"?s.fastFormats:s.fullFormats)[d];if(!g)throw new Error(`Unknown format "${d}"`);return g};function u(d,o,$,g){var v,w;(v=(w=d.opts.code).formats)!==null&&v!==void 0||(w.formats=(0,c._)`require("ajv-formats/dist/formats").${g}`);for(const E of o)d.addFormat(E,$[E])}e.exports=t=i,Object.defineProperty(t,"__esModule",{value:!0}),t.default=i})(xr,xr.exports)),xr.exports}var um=cm();const lm=Ja(um),dm=(e,t,s,r)=>{if(s==="length"||s==="prototype"||s==="arguments"||s==="caller")return;const c=Object.getOwnPropertyDescriptor(e,s),n=Object.getOwnPropertyDescriptor(t,s);!fm(c,n)&&r||Object.defineProperty(e,s,n)},fm=function(e,t){return e===void 0||e.configurable||e.writable===t.writable&&e.enumerable===t.enumerable&&e.configurable===t.configurable&&(e.writable||e.value===t.value)},hm=(e,t)=>{const s=Object.getPrototypeOf(t);s!==Object.getPrototypeOf(e)&&Object.setPrototypeOf(e,s)},pm=(e,t)=>`/* Wrapped ${e}*/
${t}`,mm=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),ym=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),vm=(e,t,s)=>{const r=s===""?"":`with ${s.trim()}() `,c=pm.bind(null,r,t.toString());Object.defineProperty(c,"name",ym);const{writable:n,enumerable:a,configurable:i}=mm;Object.defineProperty(e,"toString",{value:c,writable:n,enumerable:a,configurable:i})};function gm(e,t,{ignoreNonConfigurable:s=!1}={}){const{name:r}=e;for(const c of Reflect.ownKeys(t))dm(e,t,c,s);return hm(e,t),vm(e,t,r),e}const eu=(e,t={})=>{if(typeof e!="function")throw new TypeError(`Expected the first argument to be a function, got \`${typeof e}\``);const{wait:s=0,maxWait:r=Number.POSITIVE_INFINITY,before:c=!1,after:n=!0}=t;if(s<0||r<0)throw new RangeError("`wait` and `maxWait` must not be negative.");if(!c&&!n)throw new Error("Both `before` and `after` are false, function wouldn't be called.");let a,i,u;const d=function(...o){const $=this,g=()=>{a=void 0,i&&(clearTimeout(i),i=void 0),n&&(u=e.apply($,o))},v=()=>{i=void 0,a&&(clearTimeout(a),a=void 0),n&&(u=e.apply($,o))},w=c&&!a;return clearTimeout(a),a=setTimeout(g,s),r>0&&r!==Number.POSITIVE_INFINITY&&!i&&(i=setTimeout(v,r)),w&&(u=e.apply($,o)),u};return gm(d,e),d.cancel=()=>{a&&(clearTimeout(a),a=void 0),i&&(clearTimeout(i),i=void 0)},d};var Tn={exports:{}},Ts,tu;function rs(){if(tu)return Ts;tu=1;const e="2.0.0",t=256,s=Number.MAX_SAFE_INTEGER||9007199254740991,r=16,c=t-6;return Ts={MAX_LENGTH:t,MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:c,MAX_SAFE_INTEGER:s,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:e,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},Ts}var js,ru;function ns(){return ru||(ru=1,js=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{}),js}var nu;function Ht(){return nu||(nu=1,(function(e,t){const{MAX_SAFE_COMPONENT_LENGTH:s,MAX_SAFE_BUILD_LENGTH:r,MAX_LENGTH:c}=rs(),n=ns();t=e.exports={};const a=t.re=[],i=t.safeRe=[],u=t.src=[],d=t.safeSrc=[],o=t.t={};let $=0;const g="[a-zA-Z0-9-]",v=[["\\s",1],["\\d",c],[g,r]],w=f=>{for(const[h,l]of v)f=f.split(`${h}*`).join(`${h}{0,${l}}`).split(`${h}+`).join(`${h}{1,${l}}`);return f},E=(f,h,l)=>{const p=w(h),S=$++;n(f,S,h),o[f]=S,u[S]=h,d[S]=p,a[S]=new RegExp(h,l?"g":void 0),i[S]=new RegExp(p,l?"g":void 0)};E("NUMERICIDENTIFIER","0|[1-9]\\d*"),E("NUMERICIDENTIFIERLOOSE","\\d+"),E("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${g}*`),E("MAINVERSION",`(${u[o.NUMERICIDENTIFIER]})\\.(${u[o.NUMERICIDENTIFIER]})\\.(${u[o.NUMERICIDENTIFIER]})`),E("MAINVERSIONLOOSE",`(${u[o.NUMERICIDENTIFIERLOOSE]})\\.(${u[o.NUMERICIDENTIFIERLOOSE]})\\.(${u[o.NUMERICIDENTIFIERLOOSE]})`),E("PRERELEASEIDENTIFIER",`(?:${u[o.NONNUMERICIDENTIFIER]}|${u[o.NUMERICIDENTIFIER]})`),E("PRERELEASEIDENTIFIERLOOSE",`(?:${u[o.NONNUMERICIDENTIFIER]}|${u[o.NUMERICIDENTIFIERLOOSE]})`),E("PRERELEASE",`(?:-(${u[o.PRERELEASEIDENTIFIER]}(?:\\.${u[o.PRERELEASEIDENTIFIER]})*))`),E("PRERELEASELOOSE",`(?:-?(${u[o.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${u[o.PRERELEASEIDENTIFIERLOOSE]})*))`),E("BUILDIDENTIFIER",`${g}+`),E("BUILD",`(?:\\+(${u[o.BUILDIDENTIFIER]}(?:\\.${u[o.BUILDIDENTIFIER]})*))`),E("FULLPLAIN",`v?${u[o.MAINVERSION]}${u[o.PRERELEASE]}?${u[o.BUILD]}?`),E("FULL",`^${u[o.FULLPLAIN]}$`),E("LOOSEPLAIN",`[v=\\s]*${u[o.MAINVERSIONLOOSE]}${u[o.PRERELEASELOOSE]}?${u[o.BUILD]}?`),E("LOOSE",`^${u[o.LOOSEPLAIN]}$`),E("GTLT","((?:<|>)?=?)"),E("XRANGEIDENTIFIERLOOSE",`${u[o.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),E("XRANGEIDENTIFIER",`${u[o.NUMERICIDENTIFIER]}|x|X|\\*`),E("XRANGEPLAIN",`[v=\\s]*(${u[o.XRANGEIDENTIFIER]})(?:\\.(${u[o.XRANGEIDENTIFIER]})(?:\\.(${u[o.XRANGEIDENTIFIER]})(?:${u[o.PRERELEASE]})?${u[o.BUILD]}?)?)?`),E("XRANGEPLAINLOOSE",`[v=\\s]*(${u[o.XRANGEIDENTIFIERLOOSE]})(?:\\.(${u[o.XRANGEIDENTIFIERLOOSE]})(?:\\.(${u[o.XRANGEIDENTIFIERLOOSE]})(?:${u[o.PRERELEASELOOSE]})?${u[o.BUILD]}?)?)?`),E("XRANGE",`^${u[o.GTLT]}\\s*${u[o.XRANGEPLAIN]}$`),E("XRANGELOOSE",`^${u[o.GTLT]}\\s*${u[o.XRANGEPLAINLOOSE]}$`),E("COERCEPLAIN",`(^|[^\\d])(\\d{1,${s}})(?:\\.(\\d{1,${s}}))?(?:\\.(\\d{1,${s}}))?`),E("COERCE",`${u[o.COERCEPLAIN]}(?:$|[^\\d])`),E("COERCEFULL",u[o.COERCEPLAIN]+`(?:${u[o.PRERELEASE]})?(?:${u[o.BUILD]})?(?:$|[^\\d])`),E("COERCERTL",u[o.COERCE],!0),E("COERCERTLFULL",u[o.COERCEFULL],!0),E("LONETILDE","(?:~>?)"),E("TILDETRIM",`(\\s*)${u[o.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",E("TILDE",`^${u[o.LONETILDE]}${u[o.XRANGEPLAIN]}$`),E("TILDELOOSE",`^${u[o.LONETILDE]}${u[o.XRANGEPLAINLOOSE]}$`),E("LONECARET","(?:\\^)"),E("CARETTRIM",`(\\s*)${u[o.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",E("CARET",`^${u[o.LONECARET]}${u[o.XRANGEPLAIN]}$`),E("CARETLOOSE",`^${u[o.LONECARET]}${u[o.XRANGEPLAINLOOSE]}$`),E("COMPARATORLOOSE",`^${u[o.GTLT]}\\s*(${u[o.LOOSEPLAIN]})$|^$`),E("COMPARATOR",`^${u[o.GTLT]}\\s*(${u[o.FULLPLAIN]})$|^$`),E("COMPARATORTRIM",`(\\s*)${u[o.GTLT]}\\s*(${u[o.LOOSEPLAIN]}|${u[o.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",E("HYPHENRANGE",`^\\s*(${u[o.XRANGEPLAIN]})\\s+-\\s+(${u[o.XRANGEPLAIN]})\\s*$`),E("HYPHENRANGELOOSE",`^\\s*(${u[o.XRANGEPLAINLOOSE]})\\s+-\\s+(${u[o.XRANGEPLAINLOOSE]})\\s*$`),E("STAR","(<|>)?=?\\s*\\*"),E("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),E("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(Tn,Tn.exports)),Tn.exports}var Cs,su;function si(){if(su)return Cs;su=1;const e=Object.freeze({loose:!0}),t=Object.freeze({});return Cs=r=>r?typeof r!="object"?e:r:t,Cs}var As,au;function Yl(){if(au)return As;au=1;const e=/^[0-9]+$/,t=(r,c)=>{if(typeof r=="number"&&typeof c=="number")return r===c?0:r<c?-1:1;const n=e.test(r),a=e.test(c);return n&&a&&(r=+r,c=+c),r===c?0:n&&!a?-1:a&&!n?1:r<c?-1:1};return As={compareIdentifiers:t,rcompareIdentifiers:(r,c)=>t(c,r)},As}var ks,iu;function Pe(){if(iu)return ks;iu=1;const e=ns(),{MAX_LENGTH:t,MAX_SAFE_INTEGER:s}=rs(),{safeRe:r,t:c}=Ht(),n=si(),{compareIdentifiers:a}=Yl();class i{constructor(d,o){if(o=n(o),d instanceof i){if(d.loose===!!o.loose&&d.includePrerelease===!!o.includePrerelease)return d;d=d.version}else if(typeof d!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof d}".`);if(d.length>t)throw new TypeError(`version is longer than ${t} characters`);e("SemVer",d,o),this.options=o,this.loose=!!o.loose,this.includePrerelease=!!o.includePrerelease;const $=d.trim().match(o.loose?r[c.LOOSE]:r[c.FULL]);if(!$)throw new TypeError(`Invalid Version: ${d}`);if(this.raw=d,this.major=+$[1],this.minor=+$[2],this.patch=+$[3],this.major>s||this.major<0)throw new TypeError("Invalid major version");if(this.minor>s||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>s||this.patch<0)throw new TypeError("Invalid patch version");$[4]?this.prerelease=$[4].split(".").map(g=>{if(/^[0-9]+$/.test(g)){const v=+g;if(v>=0&&v<s)return v}return g}):this.prerelease=[],this.build=$[5]?$[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(d){if(e("SemVer.compare",this.version,this.options,d),!(d instanceof i)){if(typeof d=="string"&&d===this.version)return 0;d=new i(d,this.options)}return d.version===this.version?0:this.compareMain(d)||this.comparePre(d)}compareMain(d){return d instanceof i||(d=new i(d,this.options)),this.major<d.major?-1:this.major>d.major?1:this.minor<d.minor?-1:this.minor>d.minor?1:this.patch<d.patch?-1:this.patch>d.patch?1:0}comparePre(d){if(d instanceof i||(d=new i(d,this.options)),this.prerelease.length&&!d.prerelease.length)return-1;if(!this.prerelease.length&&d.prerelease.length)return 1;if(!this.prerelease.length&&!d.prerelease.length)return 0;let o=0;do{const $=this.prerelease[o],g=d.prerelease[o];if(e("prerelease compare",o,$,g),$===void 0&&g===void 0)return 0;if(g===void 0)return 1;if($===void 0)return-1;if($===g)continue;return a($,g)}while(++o)}compareBuild(d){d instanceof i||(d=new i(d,this.options));let o=0;do{const $=this.build[o],g=d.build[o];if(e("build compare",o,$,g),$===void 0&&g===void 0)return 0;if(g===void 0)return 1;if($===void 0)return-1;if($===g)continue;return a($,g)}while(++o)}inc(d,o,$){if(d.startsWith("pre")){if(!o&&$===!1)throw new Error("invalid increment argument: identifier is empty");if(o){const g=`-${o}`.match(this.options.loose?r[c.PRERELEASELOOSE]:r[c.PRERELEASE]);if(!g||g[1]!==o)throw new Error(`invalid identifier: ${o}`)}}switch(d){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",o,$);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",o,$);break;case"prepatch":this.prerelease.length=0,this.inc("patch",o,$),this.inc("pre",o,$);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",o,$),this.inc("pre",o,$);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const g=Number($)?1:0;if(this.prerelease.length===0)this.prerelease=[g];else{let v=this.prerelease.length;for(;--v>=0;)typeof this.prerelease[v]=="number"&&(this.prerelease[v]++,v=-2);if(v===-1){if(o===this.prerelease.join(".")&&$===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(g)}}if(o){let v=[o,g];$===!1&&(v=[o]),a(this.prerelease[0],o)===0?isNaN(this.prerelease[1])&&(this.prerelease=v):this.prerelease=v}break}default:throw new Error(`invalid increment argument: ${d}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}return ks=i,ks}var qs,ou;function qt(){if(ou)return qs;ou=1;const e=Pe();return qs=(s,r,c=!1)=>{if(s instanceof e)return s;try{return new e(s,r)}catch(n){if(!c)return null;throw n}},qs}var Ds,cu;function $m(){if(cu)return Ds;cu=1;const e=qt();return Ds=(s,r)=>{const c=e(s,r);return c?c.version:null},Ds}var Ms,uu;function _m(){if(uu)return Ms;uu=1;const e=qt();return Ms=(s,r)=>{const c=e(s.trim().replace(/^[=v]+/,""),r);return c?c.version:null},Ms}var Ls,lu;function wm(){if(lu)return Ls;lu=1;const e=Pe();return Ls=(s,r,c,n,a)=>{typeof c=="string"&&(a=n,n=c,c=void 0);try{return new e(s instanceof e?s.version:s,c).inc(r,n,a).version}catch{return null}},Ls}var Vs,du;function Em(){if(du)return Vs;du=1;const e=qt();return Vs=(s,r)=>{const c=e(s,null,!0),n=e(r,null,!0),a=c.compare(n);if(a===0)return null;const i=a>0,u=i?c:n,d=i?n:c,o=!!u.prerelease.length;if(!!d.prerelease.length&&!o){if(!d.patch&&!d.minor)return"major";if(d.compareMain(u)===0)return d.minor&&!d.patch?"minor":"patch"}const g=o?"pre":"";return c.major!==n.major?g+"major":c.minor!==n.minor?g+"minor":c.patch!==n.patch?g+"patch":"prerelease"},Vs}var Fs,fu;function Sm(){if(fu)return Fs;fu=1;const e=Pe();return Fs=(s,r)=>new e(s,r).major,Fs}var Us,hu;function bm(){if(hu)return Us;hu=1;const e=Pe();return Us=(s,r)=>new e(s,r).minor,Us}var zs,pu;function Pm(){if(pu)return zs;pu=1;const e=Pe();return zs=(s,r)=>new e(s,r).patch,zs}var Gs,mu;function Rm(){if(mu)return Gs;mu=1;const e=qt();return Gs=(s,r)=>{const c=e(s,r);return c&&c.prerelease.length?c.prerelease:null},Gs}var xs,yu;function Le(){if(yu)return xs;yu=1;const e=Pe();return xs=(s,r,c)=>new e(s,c).compare(new e(r,c)),xs}var Ks,vu;function Nm(){if(vu)return Ks;vu=1;const e=Le();return Ks=(s,r,c)=>e(r,s,c),Ks}var Hs,gu;function Im(){if(gu)return Hs;gu=1;const e=Le();return Hs=(s,r)=>e(s,r,!0),Hs}var Bs,$u;function ai(){if($u)return Bs;$u=1;const e=Pe();return Bs=(s,r,c)=>{const n=new e(s,c),a=new e(r,c);return n.compare(a)||n.compareBuild(a)},Bs}var Ws,_u;function Om(){if(_u)return Ws;_u=1;const e=ai();return Ws=(s,r)=>s.sort((c,n)=>e(c,n,r)),Ws}var Xs,wu;function Tm(){if(wu)return Xs;wu=1;const e=ai();return Xs=(s,r)=>s.sort((c,n)=>e(n,c,r)),Xs}var Js,Eu;function ss(){if(Eu)return Js;Eu=1;const e=Le();return Js=(s,r,c)=>e(s,r,c)>0,Js}var Ys,Su;function ii(){if(Su)return Ys;Su=1;const e=Le();return Ys=(s,r,c)=>e(s,r,c)<0,Ys}var Zs,bu;function Zl(){if(bu)return Zs;bu=1;const e=Le();return Zs=(s,r,c)=>e(s,r,c)===0,Zs}var Qs,Pu;function Ql(){if(Pu)return Qs;Pu=1;const e=Le();return Qs=(s,r,c)=>e(s,r,c)!==0,Qs}var ea,Ru;function oi(){if(Ru)return ea;Ru=1;const e=Le();return ea=(s,r,c)=>e(s,r,c)>=0,ea}var ta,Nu;function ci(){if(Nu)return ta;Nu=1;const e=Le();return ta=(s,r,c)=>e(s,r,c)<=0,ta}var ra,Iu;function ed(){if(Iu)return ra;Iu=1;const e=Zl(),t=Ql(),s=ss(),r=oi(),c=ii(),n=ci();return ra=(i,u,d,o)=>{switch(u){case"===":return typeof i=="object"&&(i=i.version),typeof d=="object"&&(d=d.version),i===d;case"!==":return typeof i=="object"&&(i=i.version),typeof d=="object"&&(d=d.version),i!==d;case"":case"=":case"==":return e(i,d,o);case"!=":return t(i,d,o);case">":return s(i,d,o);case">=":return r(i,d,o);case"<":return c(i,d,o);case"<=":return n(i,d,o);default:throw new TypeError(`Invalid operator: ${u}`)}},ra}var na,Ou;function jm(){if(Ou)return na;Ou=1;const e=Pe(),t=qt(),{safeRe:s,t:r}=Ht();return na=(n,a)=>{if(n instanceof e)return n;if(typeof n=="number"&&(n=String(n)),typeof n!="string")return null;a=a||{};let i=null;if(!a.rtl)i=n.match(a.includePrerelease?s[r.COERCEFULL]:s[r.COERCE]);else{const v=a.includePrerelease?s[r.COERCERTLFULL]:s[r.COERCERTL];let w;for(;(w=v.exec(n))&&(!i||i.index+i[0].length!==n.length);)(!i||w.index+w[0].length!==i.index+i[0].length)&&(i=w),v.lastIndex=w.index+w[1].length+w[2].length;v.lastIndex=-1}if(i===null)return null;const u=i[2],d=i[3]||"0",o=i[4]||"0",$=a.includePrerelease&&i[5]?`-${i[5]}`:"",g=a.includePrerelease&&i[6]?`+${i[6]}`:"";return t(`${u}.${d}.${o}${$}${g}`,a)},na}var sa,Tu;function Cm(){if(Tu)return sa;Tu=1;class e{constructor(){this.max=1e3,this.map=new Map}get(s){const r=this.map.get(s);if(r!==void 0)return this.map.delete(s),this.map.set(s,r),r}delete(s){return this.map.delete(s)}set(s,r){if(!this.delete(s)&&r!==void 0){if(this.map.size>=this.max){const n=this.map.keys().next().value;this.delete(n)}this.map.set(s,r)}return this}}return sa=e,sa}var aa,ju;function Ve(){if(ju)return aa;ju=1;const e=/\s+/g;class t{constructor(z,W){if(W=c(W),z instanceof t)return z.loose===!!W.loose&&z.includePrerelease===!!W.includePrerelease?z:new t(z.raw,W);if(z instanceof n)return this.raw=z.value,this.set=[[z]],this.formatted=void 0,this;if(this.options=W,this.loose=!!W.loose,this.includePrerelease=!!W.includePrerelease,this.raw=z.trim().replace(e," "),this.set=this.raw.split("||").map(x=>this.parseRange(x.trim())).filter(x=>x.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const x=this.set[0];if(this.set=this.set.filter(B=>!E(B[0])),this.set.length===0)this.set=[x];else if(this.set.length>1){for(const B of this.set)if(B.length===1&&f(B[0])){this.set=[B];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let z=0;z<this.set.length;z++){z>0&&(this.formatted+="||");const W=this.set[z];for(let x=0;x<W.length;x++)x>0&&(this.formatted+=" "),this.formatted+=W[x].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(z){const x=((this.options.includePrerelease&&v)|(this.options.loose&&w))+":"+z,B=r.get(x);if(B)return B;const X=this.options.loose,A=X?u[d.HYPHENRANGELOOSE]:u[d.HYPHENRANGE];z=z.replace(A,V(this.options.includePrerelease)),a("hyphen replace",z),z=z.replace(u[d.COMPARATORTRIM],o),a("comparator trim",z),z=z.replace(u[d.TILDETRIM],$),a("tilde trim",z),z=z.replace(u[d.CARETTRIM],g),a("caret trim",z);let N=z.split(" ").map(b=>l(b,this.options)).join(" ").split(/\s+/).map(b=>D(b,this.options));X&&(N=N.filter(b=>(a("loose invalid filter",b,this.options),!!b.match(u[d.COMPARATORLOOSE])))),a("range list",N);const C=new Map,I=N.map(b=>new n(b,this.options));for(const b of I){if(E(b))return[b];C.set(b.value,b)}C.size>1&&C.has("")&&C.delete("");const m=[...C.values()];return r.set(x,m),m}intersects(z,W){if(!(z instanceof t))throw new TypeError("a Range is required");return this.set.some(x=>h(x,W)&&z.set.some(B=>h(B,W)&&x.every(X=>B.every(A=>X.intersects(A,W)))))}test(z){if(!z)return!1;if(typeof z=="string")try{z=new i(z,this.options)}catch{return!1}for(let W=0;W<this.set.length;W++)if(F(this.set[W],z,this.options))return!0;return!1}}aa=t;const s=Cm(),r=new s,c=si(),n=as(),a=ns(),i=Pe(),{safeRe:u,t:d,comparatorTrimReplace:o,tildeTrimReplace:$,caretTrimReplace:g}=Ht(),{FLAG_INCLUDE_PRERELEASE:v,FLAG_LOOSE:w}=rs(),E=q=>q.value==="<0.0.0-0",f=q=>q.value==="",h=(q,z)=>{let W=!0;const x=q.slice();let B=x.pop();for(;W&&x.length;)W=x.every(X=>B.intersects(X,z)),B=x.pop();return W},l=(q,z)=>(q=q.replace(u[d.BUILD],""),a("comp",q,z),q=_(q,z),a("caret",q),q=S(q,z),a("tildes",q),q=T(q,z),a("xrange",q),q=U(q,z),a("stars",q),q),p=q=>!q||q.toLowerCase()==="x"||q==="*",S=(q,z)=>q.trim().split(/\s+/).map(W=>y(W,z)).join(" "),y=(q,z)=>{const W=z.loose?u[d.TILDELOOSE]:u[d.TILDE];return q.replace(W,(x,B,X,A,N)=>{a("tilde",q,x,B,X,A,N);let C;return p(B)?C="":p(X)?C=`>=${B}.0.0 <${+B+1}.0.0-0`:p(A)?C=`>=${B}.${X}.0 <${B}.${+X+1}.0-0`:N?(a("replaceTilde pr",N),C=`>=${B}.${X}.${A}-${N} <${B}.${+X+1}.0-0`):C=`>=${B}.${X}.${A} <${B}.${+X+1}.0-0`,a("tilde return",C),C})},_=(q,z)=>q.trim().split(/\s+/).map(W=>P(W,z)).join(" "),P=(q,z)=>{a("caret",q,z);const W=z.loose?u[d.CARETLOOSE]:u[d.CARET],x=z.includePrerelease?"-0":"";return q.replace(W,(B,X,A,N,C)=>{a("caret",q,B,X,A,N,C);let I;return p(X)?I="":p(A)?I=`>=${X}.0.0${x} <${+X+1}.0.0-0`:p(N)?X==="0"?I=`>=${X}.${A}.0${x} <${X}.${+A+1}.0-0`:I=`>=${X}.${A}.0${x} <${+X+1}.0.0-0`:C?(a("replaceCaret pr",C),X==="0"?A==="0"?I=`>=${X}.${A}.${N}-${C} <${X}.${A}.${+N+1}-0`:I=`>=${X}.${A}.${N}-${C} <${X}.${+A+1}.0-0`:I=`>=${X}.${A}.${N}-${C} <${+X+1}.0.0-0`):(a("no pr"),X==="0"?A==="0"?I=`>=${X}.${A}.${N}${x} <${X}.${A}.${+N+1}-0`:I=`>=${X}.${A}.${N}${x} <${X}.${+A+1}.0-0`:I=`>=${X}.${A}.${N} <${+X+1}.0.0-0`),a("caret return",I),I})},T=(q,z)=>(a("replaceXRanges",q,z),q.split(/\s+/).map(W=>M(W,z)).join(" ")),M=(q,z)=>{q=q.trim();const W=z.loose?u[d.XRANGELOOSE]:u[d.XRANGE];return q.replace(W,(x,B,X,A,N,C)=>{a("xRange",q,x,B,X,A,N,C);const I=p(X),m=I||p(A),b=m||p(N),j=b;return B==="="&&j&&(B=""),C=z.includePrerelease?"-0":"",I?B===">"||B==="<"?x="<0.0.0-0":x="*":B&&j?(m&&(A=0),N=0,B===">"?(B=">=",m?(X=+X+1,A=0,N=0):(A=+A+1,N=0)):B==="<="&&(B="<",m?X=+X+1:A=+A+1),B==="<"&&(C="-0"),x=`${B+X}.${A}.${N}${C}`):m?x=`>=${X}.0.0${C} <${+X+1}.0.0-0`:b&&(x=`>=${X}.${A}.0${C} <${X}.${+A+1}.0-0`),a("xRange return",x),x})},U=(q,z)=>(a("replaceStars",q,z),q.trim().replace(u[d.STAR],"")),D=(q,z)=>(a("replaceGTE0",q,z),q.trim().replace(u[z.includePrerelease?d.GTE0PRE:d.GTE0],"")),V=q=>(z,W,x,B,X,A,N,C,I,m,b,j)=>(p(x)?W="":p(B)?W=`>=${x}.0.0${q?"-0":""}`:p(X)?W=`>=${x}.${B}.0${q?"-0":""}`:A?W=`>=${W}`:W=`>=${W}${q?"-0":""}`,p(I)?C="":p(m)?C=`<${+I+1}.0.0-0`:p(b)?C=`<${I}.${+m+1}.0-0`:j?C=`<=${I}.${m}.${b}-${j}`:q?C=`<${I}.${m}.${+b+1}-0`:C=`<=${C}`,`${W} ${C}`.trim()),F=(q,z,W)=>{for(let x=0;x<q.length;x++)if(!q[x].test(z))return!1;if(z.prerelease.length&&!W.includePrerelease){for(let x=0;x<q.length;x++)if(a(q[x].semver),q[x].semver!==n.ANY&&q[x].semver.prerelease.length>0){const B=q[x].semver;if(B.major===z.major&&B.minor===z.minor&&B.patch===z.patch)return!0}return!1}return!0};return aa}var ia,Cu;function as(){if(Cu)return ia;Cu=1;const e=Symbol("SemVer ANY");class t{static get ANY(){return e}constructor(o,$){if($=s($),o instanceof t){if(o.loose===!!$.loose)return o;o=o.value}o=o.trim().split(/\s+/).join(" "),a("comparator",o,$),this.options=$,this.loose=!!$.loose,this.parse(o),this.semver===e?this.value="":this.value=this.operator+this.semver.version,a("comp",this)}parse(o){const $=this.options.loose?r[c.COMPARATORLOOSE]:r[c.COMPARATOR],g=o.match($);if(!g)throw new TypeError(`Invalid comparator: ${o}`);this.operator=g[1]!==void 0?g[1]:"",this.operator==="="&&(this.operator=""),g[2]?this.semver=new i(g[2],this.options.loose):this.semver=e}toString(){return this.value}test(o){if(a("Comparator.test",o,this.options.loose),this.semver===e||o===e)return!0;if(typeof o=="string")try{o=new i(o,this.options)}catch{return!1}return n(o,this.operator,this.semver,this.options)}intersects(o,$){if(!(o instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new u(o.value,$).test(this.value):o.operator===""?o.value===""?!0:new u(this.value,$).test(o.semver):($=s($),$.includePrerelease&&(this.value==="<0.0.0-0"||o.value==="<0.0.0-0")||!$.includePrerelease&&(this.value.startsWith("<0.0.0")||o.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&o.operator.startsWith(">")||this.operator.startsWith("<")&&o.operator.startsWith("<")||this.semver.version===o.semver.version&&this.operator.includes("=")&&o.operator.includes("=")||n(this.semver,"<",o.semver,$)&&this.operator.startsWith(">")&&o.operator.startsWith("<")||n(this.semver,">",o.semver,$)&&this.operator.startsWith("<")&&o.operator.startsWith(">")))}}ia=t;const s=si(),{safeRe:r,t:c}=Ht(),n=ed(),a=ns(),i=Pe(),u=Ve();return ia}var oa,Au;function is(){if(Au)return oa;Au=1;const e=Ve();return oa=(s,r,c)=>{try{r=new e(r,c)}catch{return!1}return r.test(s)},oa}var ca,ku;function Am(){if(ku)return ca;ku=1;const e=Ve();return ca=(s,r)=>new e(s,r).set.map(c=>c.map(n=>n.value).join(" ").trim().split(" ")),ca}var ua,qu;function km(){if(qu)return ua;qu=1;const e=Pe(),t=Ve();return ua=(r,c,n)=>{let a=null,i=null,u=null;try{u=new t(c,n)}catch{return null}return r.forEach(d=>{u.test(d)&&(!a||i.compare(d)===-1)&&(a=d,i=new e(a,n))}),a},ua}var la,Du;function qm(){if(Du)return la;Du=1;const e=Pe(),t=Ve();return la=(r,c,n)=>{let a=null,i=null,u=null;try{u=new t(c,n)}catch{return null}return r.forEach(d=>{u.test(d)&&(!a||i.compare(d)===1)&&(a=d,i=new e(a,n))}),a},la}var da,Mu;function Dm(){if(Mu)return da;Mu=1;const e=Pe(),t=Ve(),s=ss();return da=(c,n)=>{c=new t(c,n);let a=new e("0.0.0");if(c.test(a)||(a=new e("0.0.0-0"),c.test(a)))return a;a=null;for(let i=0;i<c.set.length;++i){const u=c.set[i];let d=null;u.forEach(o=>{const $=new e(o.semver.version);switch(o.operator){case">":$.prerelease.length===0?$.patch++:$.prerelease.push(0),$.raw=$.format();case"":case">=":(!d||s($,d))&&(d=$);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${o.operator}`)}}),d&&(!a||s(a,d))&&(a=d)}return a&&c.test(a)?a:null},da}var fa,Lu;function Mm(){if(Lu)return fa;Lu=1;const e=Ve();return fa=(s,r)=>{try{return new e(s,r).range||"*"}catch{return null}},fa}var ha,Vu;function ui(){if(Vu)return ha;Vu=1;const e=Pe(),t=as(),{ANY:s}=t,r=Ve(),c=is(),n=ss(),a=ii(),i=ci(),u=oi();return ha=(o,$,g,v)=>{o=new e(o,v),$=new r($,v);let w,E,f,h,l;switch(g){case">":w=n,E=i,f=a,h=">",l=">=";break;case"<":w=a,E=u,f=n,h="<",l="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(c(o,$,v))return!1;for(let p=0;p<$.set.length;++p){const S=$.set[p];let y=null,_=null;if(S.forEach(P=>{P.semver===s&&(P=new t(">=0.0.0")),y=y||P,_=_||P,w(P.semver,y.semver,v)?y=P:f(P.semver,_.semver,v)&&(_=P)}),y.operator===h||y.operator===l||(!_.operator||_.operator===h)&&E(o,_.semver))return!1;if(_.operator===l&&f(o,_.semver))return!1}return!0},ha}var pa,Fu;function Lm(){if(Fu)return pa;Fu=1;const e=ui();return pa=(s,r,c)=>e(s,r,">",c),pa}var ma,Uu;function Vm(){if(Uu)return ma;Uu=1;const e=ui();return ma=(s,r,c)=>e(s,r,"<",c),ma}var ya,zu;function Fm(){if(zu)return ya;zu=1;const e=Ve();return ya=(s,r,c)=>(s=new e(s,c),r=new e(r,c),s.intersects(r,c)),ya}var va,Gu;function Um(){if(Gu)return va;Gu=1;const e=is(),t=Le();return va=(s,r,c)=>{const n=[];let a=null,i=null;const u=s.sort((g,v)=>t(g,v,c));for(const g of u)e(g,r,c)?(i=g,a||(a=g)):(i&&n.push([a,i]),i=null,a=null);a&&n.push([a,null]);const d=[];for(const[g,v]of n)g===v?d.push(g):!v&&g===u[0]?d.push("*"):v?g===u[0]?d.push(`<=${v}`):d.push(`${g} - ${v}`):d.push(`>=${g}`);const o=d.join(" || "),$=typeof r.raw=="string"?r.raw:String(r);return o.length<$.length?o:r},va}var ga,xu;function zm(){if(xu)return ga;xu=1;const e=Ve(),t=as(),{ANY:s}=t,r=is(),c=Le(),n=($,g,v={})=>{if($===g)return!0;$=new e($,v),g=new e(g,v);let w=!1;e:for(const E of $.set){for(const f of g.set){const h=u(E,f,v);if(w=w||h!==null,h)continue e}if(w)return!1}return!0},a=[new t(">=0.0.0-0")],i=[new t(">=0.0.0")],u=($,g,v)=>{if($===g)return!0;if($.length===1&&$[0].semver===s){if(g.length===1&&g[0].semver===s)return!0;v.includePrerelease?$=a:$=i}if(g.length===1&&g[0].semver===s){if(v.includePrerelease)return!0;g=i}const w=new Set;let E,f;for(const T of $)T.operator===">"||T.operator===">="?E=d(E,T,v):T.operator==="<"||T.operator==="<="?f=o(f,T,v):w.add(T.semver);if(w.size>1)return null;let h;if(E&&f){if(h=c(E.semver,f.semver,v),h>0)return null;if(h===0&&(E.operator!==">="||f.operator!=="<="))return null}for(const T of w){if(E&&!r(T,String(E),v)||f&&!r(T,String(f),v))return null;for(const M of g)if(!r(T,String(M),v))return!1;return!0}let l,p,S,y,_=f&&!v.includePrerelease&&f.semver.prerelease.length?f.semver:!1,P=E&&!v.includePrerelease&&E.semver.prerelease.length?E.semver:!1;_&&_.prerelease.length===1&&f.operator==="<"&&_.prerelease[0]===0&&(_=!1);for(const T of g){if(y=y||T.operator===">"||T.operator===">=",S=S||T.operator==="<"||T.operator==="<=",E){if(P&&T.semver.prerelease&&T.semver.prerelease.length&&T.semver.major===P.major&&T.semver.minor===P.minor&&T.semver.patch===P.patch&&(P=!1),T.operator===">"||T.operator===">="){if(l=d(E,T,v),l===T&&l!==E)return!1}else if(E.operator===">="&&!r(E.semver,String(T),v))return!1}if(f){if(_&&T.semver.prerelease&&T.semver.prerelease.length&&T.semver.major===_.major&&T.semver.minor===_.minor&&T.semver.patch===_.patch&&(_=!1),T.operator==="<"||T.operator==="<="){if(p=o(f,T,v),p===T&&p!==f)return!1}else if(f.operator==="<="&&!r(f.semver,String(T),v))return!1}if(!T.operator&&(f||E)&&h!==0)return!1}return!(E&&S&&!f&&h!==0||f&&y&&!E&&h!==0||P||_)},d=($,g,v)=>{if(!$)return g;const w=c($.semver,g.semver,v);return w>0?$:w<0||g.operator===">"&&$.operator===">="?g:$},o=($,g,v)=>{if(!$)return g;const w=c($.semver,g.semver,v);return w<0?$:w>0||g.operator==="<"&&$.operator==="<="?g:$};return ga=n,ga}var $a,Ku;function Gm(){if(Ku)return $a;Ku=1;const e=Ht(),t=rs(),s=Pe(),r=Yl(),c=qt(),n=$m(),a=_m(),i=wm(),u=Em(),d=Sm(),o=bm(),$=Pm(),g=Rm(),v=Le(),w=Nm(),E=Im(),f=ai(),h=Om(),l=Tm(),p=ss(),S=ii(),y=Zl(),_=Ql(),P=oi(),T=ci(),M=ed(),U=jm(),D=as(),V=Ve(),F=is(),q=Am(),z=km(),W=qm(),x=Dm(),B=Mm(),X=ui(),A=Lm(),N=Vm(),C=Fm(),I=Um(),m=zm();return $a={parse:c,valid:n,clean:a,inc:i,diff:u,major:d,minor:o,patch:$,prerelease:g,compare:v,rcompare:w,compareLoose:E,compareBuild:f,sort:h,rsort:l,gt:p,lt:S,eq:y,neq:_,gte:P,lte:T,cmp:M,coerce:U,Comparator:D,Range:V,satisfies:F,toComparators:q,maxSatisfying:z,minSatisfying:W,minVersion:x,validRange:B,outside:X,gtr:A,ltr:N,intersects:C,simplifyRange:I,subset:m,SemVer:s,re:e.re,src:e.src,tokens:e.t,SEMVER_SPEC_VERSION:t.SEMVER_SPEC_VERSION,RELEASE_TYPES:t.RELEASE_TYPES,compareIdentifiers:r.compareIdentifiers,rcompareIdentifiers:r.rcompareIdentifiers},$a}var xm=Gm();const Tt=Ja(xm),Km=Object.prototype.toString,Hm="[object Uint8Array]",Bm="[object ArrayBuffer]";function td(e,t,s){return e?e.constructor===t?!0:Km.call(e)===s:!1}function rd(e){return td(e,Uint8Array,Hm)}function Wm(e){return td(e,ArrayBuffer,Bm)}function Xm(e){return rd(e)||Wm(e)}function Jm(e){if(!rd(e))throw new TypeError(`Expected \`Uint8Array\`, got \`${typeof e}\``)}function Ym(e){if(!Xm(e))throw new TypeError(`Expected \`Uint8Array\` or \`ArrayBuffer\`, got \`${typeof e}\``)}function _a(e,t){if(e.length===0)return new Uint8Array(0);t??=e.reduce((c,n)=>c+n.length,0);const s=new Uint8Array(t);let r=0;for(const c of e)Jm(c),s.set(c,r),r+=c.length;return s}const Hu={utf8:new globalThis.TextDecoder("utf8")};function jn(e,t="utf8"){return Ym(e),Hu[t]??=new globalThis.TextDecoder(t),Hu[t].decode(e)}function Zm(e){if(typeof e!="string")throw new TypeError(`Expected \`string\`, got \`${typeof e}\``)}const Qm=new globalThis.TextEncoder;function Cn(e){return Zm(e),Qm.encode(e)}Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));const wa="aes-256-cbc",et=()=>Object.create(null),Bu=e=>e!==void 0,Ea=(e,t)=>{const s=new Set(["undefined","symbol","function"]),r=typeof t;if(s.has(r))throw new TypeError(`Setting a value of type \`${r}\` for key \`${e}\` is not allowed as it's not supported by JSON`)},nt="__internal__",Sa=`${nt}.migrations.version`;class ey{path;events;#s;#r;#e;#t={};#a=!1;#i;#o;#n;constructor(t={}){const s=this.#c(t);this.#e=s,this.#u(s),this.#d(s),this.#f(s),this.events=new EventTarget,this.#r=s.encryptionKey,this.path=this.#h(s),this.#p(s),s.watch&&this._watch()}get(t,s){if(this.#e.accessPropertiesByDotNotation)return this._get(t,s);const{store:r}=this;return t in r?r[t]:s}set(t,s){if(typeof t!="string"&&typeof t!="object")throw new TypeError(`Expected \`key\` to be of type \`string\` or \`object\`, got ${typeof t}`);if(typeof t!="object"&&s===void 0)throw new TypeError("Use `delete()` to clear values");if(this._containsReservedKey(t))throw new TypeError(`Please don't use the ${nt} key, as it's used to manage this module internal operations.`);const{store:r}=this,c=(n,a)=>{if(Ea(n,a),this.#e.accessPropertiesByDotNotation)Bt(r,n,a);else{if(n==="__proto__"||n==="constructor"||n==="prototype")return;r[n]=a}};if(typeof t=="object"){const n=t;for(const[a,i]of Object.entries(n))c(a,i)}else c(t,s);this.store=r}has(t){return this.#e.accessPropertiesByDotNotation?us(this.store,t):t in this.store}appendToArray(t,s){Ea(t,s);const r=this.#e.accessPropertiesByDotNotation?this._get(t,[]):t in this.store?this.store[t]:[];if(!Array.isArray(r))throw new TypeError(`The key \`${t}\` is already set to a non-array value`);this.set(t,[...r,s])}reset(...t){for(const s of t)Bu(this.#t[s])&&this.set(s,this.#t[s])}delete(t){const{store:s}=this;this.#e.accessPropertiesByDotNotation?md(s,t):delete s[t],this.store=s}clear(){const t=et();for(const s of Object.keys(this.#t))Bu(this.#t[s])&&(Ea(s,this.#t[s]),this.#e.accessPropertiesByDotNotation?Bt(t,s,this.#t[s]):t[s]=this.#t[s]);this.store=t}onDidChange(t,s){if(typeof t!="string")throw new TypeError(`Expected \`key\` to be of type \`string\`, got ${typeof t}`);if(typeof s!="function")throw new TypeError(`Expected \`callback\` to be of type \`function\`, got ${typeof s}`);return this._handleValueChange(()=>this.get(t),s)}onDidAnyChange(t){if(typeof t!="function")throw new TypeError(`Expected \`callback\` to be of type \`function\`, got ${typeof t}`);return this._handleStoreChange(t)}get size(){return Object.keys(this.store).filter(s=>!this._isReservedKeyPath(s)).length}get store(){try{const t=Q.readFileSync(this.path,this.#r?null:"utf8"),s=this._decryptData(t),r=this._deserialize(s);return this.#a||this._validate(r),Object.assign(et(),r)}catch(t){if(t?.code==="ENOENT")return this._ensureDirectory(),et();if(this.#e.clearInvalidConfig){const s=t;if(s.name==="SyntaxError"||s.message?.startsWith("Config schema violation:"))return et()}throw t}}set store(t){if(this._ensureDirectory(),!us(t,nt))try{const s=Q.readFileSync(this.path,this.#r?null:"utf8"),r=this._decryptData(s),c=this._deserialize(r);us(c,nt)&&Bt(t,nt,di(c,nt))}catch{}this.#a||this._validate(t),this._write(t),this.events.dispatchEvent(new Event("change"))}*[Symbol.iterator](){for(const[t,s]of Object.entries(this.store))this._isReservedKeyPath(t)||(yield[t,s])}_closeWatcher(){this.#i&&(this.#i.close(),this.#i=void 0),this.#o&&(Q.unwatchFile(this.path),this.#o=!1),this.#n=void 0}_decryptData(t){if(!this.#r)return typeof t=="string"?t:jn(t);try{const s=t.slice(0,16),r=lt.pbkdf2Sync(this.#r,s,1e4,32,"sha512"),c=lt.createDecipheriv(wa,r,s),n=t.slice(17),a=typeof n=="string"?Cn(n):n;return jn(_a([c.update(a),c.final()]))}catch{try{const s=t.slice(0,16),r=lt.pbkdf2Sync(this.#r,s.toString(),1e4,32,"sha512"),c=lt.createDecipheriv(wa,r,s),n=t.slice(17),a=typeof n=="string"?Cn(n):n;return jn(_a([c.update(a),c.final()]))}catch{}}return typeof t=="string"?t:jn(t)}_handleStoreChange(t){let s=this.store;const r=()=>{const c=s,n=this.store;ve.isDeepStrictEqual(n,c)||(s=n,t.call(this,n,c))};return this.events.addEventListener("change",r),()=>{this.events.removeEventListener("change",r)}}_handleValueChange(t,s){let r=t();const c=()=>{const n=r,a=t();ve.isDeepStrictEqual(a,n)||(r=a,s.call(this,a,n))};return this.events.addEventListener("change",c),()=>{this.events.removeEventListener("change",c)}}_deserialize=t=>JSON.parse(t);_serialize=t=>JSON.stringify(t,void 0,"	");_validate(t){if(!this.#s||this.#s(t)||!this.#s.errors)return;const r=this.#s.errors.map(({instancePath:c,message:n=""})=>`\`${c.slice(1)}\` ${n}`);throw new Error("Config schema violation: "+r.join("; "))}_ensureDirectory(){Q.mkdirSync(se.dirname(this.path),{recursive:!0})}_write(t){let s=this._serialize(t);if(this.#r){const r=lt.randomBytes(16),c=lt.pbkdf2Sync(this.#r,r,1e4,32,"sha512"),n=lt.createCipheriv(wa,c,r);s=_a([r,Cn(":"),n.update(Cn(s)),n.final()])}if(ce.env.SNAP)Q.writeFileSync(this.path,s,{mode:this.#e.configFileMode});else try{Dl(this.path,s,{mode:this.#e.configFileMode})}catch(r){if(r?.code==="EXDEV"){Q.writeFileSync(this.path,s,{mode:this.#e.configFileMode});return}throw r}}_watch(){if(this._ensureDirectory(),Q.existsSync(this.path)||this._write(et()),ce.platform==="win32"||ce.platform==="darwin"){this.#n??=eu(()=>{this.events.dispatchEvent(new Event("change"))},{wait:100});const t=se.dirname(this.path),s=se.basename(this.path);this.#i=Q.watch(t,{persistent:!1,encoding:"utf8"},(r,c)=>{c&&c!==s||typeof this.#n=="function"&&this.#n()})}else this.#n??=eu(()=>{this.events.dispatchEvent(new Event("change"))},{wait:1e3}),Q.watchFile(this.path,{persistent:!1},(t,s)=>{typeof this.#n=="function"&&this.#n()}),this.#o=!0}_migrate(t,s,r){let c=this._get(Sa,"0.0.0");const n=Object.keys(t).filter(i=>this._shouldPerformMigration(i,c,s));let a=structuredClone(this.store);for(const i of n)try{r&&r(this,{fromVersion:c,toVersion:i,finalVersion:s,versions:n});const u=t[i];u?.(this),this._set(Sa,i),c=i,a=structuredClone(this.store)}catch(u){this.store=a;try{this._write(a)}catch{}const d=u instanceof Error?u.message:String(u);throw new Error(`Something went wrong during the migration! Changes applied to the store until this failed migration will be restored. ${d}`)}(this._isVersionInRangeFormat(c)||!Tt.eq(c,s))&&this._set(Sa,s)}_containsReservedKey(t){return typeof t=="string"?this._isReservedKeyPath(t):!t||typeof t!="object"?!1:this._objectContainsReservedKey(t)}_objectContainsReservedKey(t){if(!t||typeof t!="object")return!1;for(const[s,r]of Object.entries(t))if(this._isReservedKeyPath(s)||this._objectContainsReservedKey(r))return!0;return!1}_isReservedKeyPath(t){return t===nt||t.startsWith(`${nt}.`)}_isVersionInRangeFormat(t){return Tt.clean(t)===null}_shouldPerformMigration(t,s,r){return this._isVersionInRangeFormat(t)?s!=="0.0.0"&&Tt.satisfies(s,t)?!1:Tt.satisfies(r,t):!(Tt.lte(t,s)||Tt.gt(t,r))}_get(t,s){return di(this.store,t,s)}_set(t,s){const{store:r}=this;Bt(r,t,s),this.store=r}#c(t){const s={configName:"config",fileExtension:"json",projectSuffix:"nodejs",clearInvalidConfig:!1,accessPropertiesByDotNotation:!0,configFileMode:438,...t};if(!s.cwd){if(!s.projectName)throw new Error("Please specify the `projectName` option.");s.cwd=$d(s.projectName,{suffix:s.projectSuffix}).config}return typeof s.fileExtension=="string"&&(s.fileExtension=s.fileExtension.replace(/^\.+/,"")),s}#u(t){if(!(t.schema??t.ajvOptions??t.rootSchema))return;if(t.schema&&typeof t.schema!="object")throw new TypeError("The `schema` option must be an object.");const s=lm.default,r=new rp.Ajv2020({allErrors:!0,useDefaults:!0,...t.ajvOptions});s(r);const c={...t.rootSchema,type:"object",properties:t.schema};this.#s=r.compile(c),this.#l(t.schema)}#l(t){const s=Object.entries(t??{});for(const[r,c]of s){if(!c||typeof c!="object"||!Object.hasOwn(c,"default"))continue;const{default:n}=c;n!==void 0&&(this.#t[r]=n)}}#d(t){t.defaults&&Object.assign(this.#t,t.defaults)}#f(t){t.serialize&&(this._serialize=t.serialize),t.deserialize&&(this._deserialize=t.deserialize)}#h(t){const s=typeof t.fileExtension=="string"?t.fileExtension:void 0,r=s?`.${s}`:"";return se.resolve(t.cwd,`${t.configName??"config"}${r}`)}#p(t){if(t.migrations){this.#m(t),this._validate(this.store);return}const s=this.store,r=Object.assign(et(),t.defaults??{},s);this._validate(r);try{li.deepEqual(s,r)}catch{this.store=r}}#m(t){const{migrations:s,projectVersion:r}=t;if(s){if(!r)throw new Error("Please specify the `projectVersion` option.");this.#a=!0;try{const c=this.store,n=Object.assign(et(),t.defaults??{},c);try{li.deepEqual(c,n)}catch{this._write(n)}this._migrate(s,r,t.beforeEachMigration)}finally{this.#a=!1}}}}const{app:Mn,ipcMain:xa,shell:ty}=pe;let Wu=!1;const Xu=()=>{if(!xa||!Mn)throw new Error("Electron Store: You need to call `.initRenderer()` from the main process.");const e={defaultCwd:Mn.getPath("userData"),appVersion:Mn.getVersion()};return Wu||(xa.on("electron-store-get-data",t=>{t.returnValue=e}),Wu=!0),e};class ry extends ey{constructor(t){let s,r;if(ce.type==="renderer"){const c=pe.ipcRenderer.sendSync("electron-store-get-data");if(!c)throw new Error("Electron Store: You need to call `.initRenderer()` from the main process.");({defaultCwd:s,appVersion:r}=c)}else xa&&Mn&&({defaultCwd:s,appVersion:r}=Xu());t={name:"config",...t},t.projectVersion||=r,t.cwd?t.cwd=se.isAbsolute(t.cwd)?t.cwd:se.join(s,t.cwd):t.cwd=s,t.configName=t.name,delete t.name,super(t)}static initRenderer(){Xu()}async openInEditor(){const t=await ty.openPath(this.path);if(t)throw new Error(t)}}const tt=new ry({defaults:{sites:[]}}),Be=Tl.promisify(Ka.exec),vt={name:"Site Manager"};class ny{constructor(){this.registerIpcHandlers()}registerIpcHandlers(){pe.ipcMain.handle("check-dependencies",this.checkDependencies.bind(this)),pe.ipcMain.handle("install-dependencies",this.installDependencies.bind(this)),pe.ipcMain.handle("get-php-versions",this.getPhpVersions.bind(this)),pe.ipcMain.handle("get-sites",()=>tt.get("sites")),pe.ipcMain.handle("create-site",(t,s)=>this.createSite(s)),pe.ipcMain.handle("update-site",(t,s,r)=>this.updateSite(s,r)),pe.ipcMain.handle("delete-site",(t,s)=>this.deleteSite(s)),pe.ipcMain.handle("regenerate-ca",this.regenerateCA.bind(this)),pe.ipcMain.handle("regenerate-site-cert",(t,s)=>this.regenerateSiteCert(s))}async checkDependencies(){const t={nginx:!1,php:!1,openssl:!1,certutil:!1};try{await Be("which nginx"),t.nginx=!0}catch{}try{await Be("which php"),t.php=!0}catch{}try{await Be("which openssl"),t.openssl=!0}catch{}try{await Be("which certutil"),t.certutil=!0}catch{}return t}async getPhpVersions(){try{const{stdout:t}=await Be("ls /usr/bin/php*");return t.split(`
`).filter(r=>r.match(/\/usr\/bin\/php\d+\.\d+$/)).map(r=>r.replace("/usr/bin/php","")).sort()}catch{return[]}}async installDependencies(){const t="apt-get update && apt-get install -y nginx php-fpm libnss3-tools openssl";return new Promise((s,r)=>{ut.exec(t,vt,(c,n,a)=>{c?r(c):s(n)})})}async removeCA(){const t=We.join(pe.app.getPath("userData"),"ssl");We.join(t,"rootCA.pem");const s=["rm -f /usr/local/share/ca-certificates/SiteManagerCA.crt","update-ca-certificates --fresh",'certutil -d sql:$HOME/.pki/nssdb -D -n "SiteManager Local CA"'],r=await Be('find $HOME/.mozilla/firefox -name "*.default*"').then(n=>n.stdout.split(`
`).filter(Boolean)).catch(()=>[]);for(const n of r)s.push(`certutil -d sql:${n} -D -n "SiteManager Local CA"`);const c=s.join(" ; ");await new Promise(n=>{ut.exec(c,vt,(a,i,u)=>{n(i)})})}async regenerateCA(){await this.removeCA();const t=We.join(pe.app.getPath("userData"),"ssl"),s=We.join(t,"rootCA.key"),r=We.join(t,"rootCA.pem");Ne.existsSync(s)&&Ne.unlinkSync(s),Ne.existsSync(r)&&Ne.unlinkSync(r),await this.setupCA();const c=tt.get("sites");for(const n of c)await this.regenerateSiteCert(n.domain);return!0}async regenerateSiteCert(t){const s=`/etc/ssl/certs/${t}.crt`,r=`/etc/ssl/private/${t}.key`,c=`/tmp/${t}.csr`,n=`/tmp/${t}.ext`,{caKey:a,caCert:i}=await this.setupCA(),o=[`echo "${`
authorityKeyIdentifier=keyid,issuer
basicConstraints=CA:FALSE
keyUsage = digitalSignature, nonRepudiation, keyEncipherment, dataEncipherment
subjectAltName = @alt_names

[alt_names]
DNS.1 = ${t}
DNS.2 = *.${t}
IP.1 = 127.0.0.1
`}" > ${n}`,`openssl genrsa -out ${r} 2048`,`openssl req -new -key ${r} -out ${c} -subj "/C=US/ST=State/L=City/O=Organization/CN=${t}"`,`openssl x509 -req -in ${c} -CA "${i}" -CAkey "${a}" -CAcreateserial -out ${s} -days 365 -sha256 -extfile ${n}`,`rm -f ${c} ${n}`,"systemctl reload nginx"].join(" && ");return await new Promise(($,g)=>{ut.exec(o,vt,(v,w,E)=>{v?g(v):$(w)})}),!0}async setupCA(){const t=We.join(pe.app.getPath("userData"),"ssl"),s=We.join(t,"rootCA.key"),r=We.join(t,"rootCA.pem");if(Ne.existsSync(t)||Ne.mkdirSync(t,{recursive:!0}),!Ne.existsSync(s)||!Ne.existsSync(r)){await Be(`openssl genrsa -out "${s}" 2048`),await Be(`openssl req -x509 -new -nodes -key "${s}" -sha256 -days 3650 -out "${r}" -subj "/C=US/ST=State/L=City/O=SiteManager/CN=SiteManager Local CA"`);const c=[`cp "${r}" /usr/local/share/ca-certificates/SiteManagerCA.crt`,"update-ca-certificates",`certutil -d sql:$HOME/.pki/nssdb -A -t "C,," -n "SiteManager Local CA" -i "${r}"`],n=await Be('find $HOME/.mozilla/firefox -name "*.default*"').then(i=>i.stdout.split(`
`).filter(Boolean)).catch(()=>[]);for(const i of n)c.push(`certutil -d sql:${i} -A -t "C,," -n "SiteManager Local CA" -i "${r}"`);const a=c.join(" && ");await new Promise((i,u)=>{ut.exec(a,vt,(d,o,$)=>{d?u(d):i(o)})})}return{caKey:s,caCert:r}}async createSite(t){const{domain:s,type:r,phpVersion:c,proxyPort:n}=t,a=`/var/www/${s}`,i=`${a}/public`,u=`/etc/ssl/certs/${s}.crt`,d=`/etc/ssl/private/${s}.key`,o=`/tmp/${s}.csr`,$=`/tmp/${s}.ext`,{caKey:g,caCert:v}=await this.setupCA(),w=`
authorityKeyIdentifier=keyid,issuer
basicConstraints=CA:FALSE
keyUsage = digitalSignature, nonRepudiation, keyEncipherment, dataEncipherment
subjectAltName = @alt_names

[alt_names]
DNS.1 = ${s}
DNS.2 = *.${s}
IP.1 = 127.0.0.1
`,E=[`mkdir -p ${i}`,`chown -R $USER:$USER ${a}`,`echo "<?php phpinfo(); ?>" > ${i}/index.php`,`echo "${w}" > ${$}`,`openssl genrsa -out ${d} 2048`,`openssl req -new -key ${d} -out ${o} -subj "/C=US/ST=State/L=City/O=Organization/CN=${s}"`,`openssl x509 -req -in ${o} -CA "${v}" -CAkey "${g}" -CAcreateserial -out ${u} -days 365 -sha256 -extfile ${$}`,`rm -f ${o} ${$}`];let f="";const h=Ne.existsSync("/etc/nginx/snippets/fastcgi-php.conf");let l="";h?l=`
        include snippets/fastcgi-php.conf;
        fastcgi_pass unix:/run/php/php${c}-fpm.sock;
      `:l=`
        try_files \\$uri =404;
        fastcgi_split_path_info ^(.+\\.php)(/.+)$;
        fastcgi_index index.php;
        fastcgi_param SCRIPT_FILENAME \\$document_root\\$fastcgi_script_name;
        include fastcgi_params;
        fastcgi_pass unix:/run/php/php${c}-fpm.sock;
      `,r==="php"?f=`
server {
    listen 80;
    listen 443 ssl;
    server_name ${s};
    root ${i};
    index index.php index.html;

    ssl_certificate ${u};
    ssl_certificate_key ${d};

    location / {
        try_files \\$uri \\$uri/ /index.php?\\$query_string;
    }

    location ~ \\.php$ {
        ${l}
    }
}
`:r==="proxy"&&(f=`
server {
    listen 80;
    listen 443 ssl;
    server_name ${s};

    ssl_certificate ${u};
    ssl_certificate_key ${d};

    location / {
        proxy_pass http://127.0.0.1:${n};
        proxy_http_version 1.1;
        proxy_set_header Upgrade \\$http_upgrade;
        proxy_set_header Connection 'upgrade';
        proxy_set_header Host \\$host;
        proxy_cache_bypass \\$http_upgrade;
    }
}
`);const p=Ne.existsSync("/etc/nginx/sites-available"),_=`${p?"/etc/nginx/sites-available":"/etc/nginx/conf.d"}/${s}${p?"":".conf"}`;E.push(`echo '${f}' > ${_}`),p&&E.push(`ln -sf ${_} /etc/nginx/sites-enabled/`),E.push("nginx -t && systemctl reload nginx");const P=`127.0.0.1 ${s}`,T=`#start site-manager-${s}`,M=`#end site-manager-${s}`,U=`\\n${T}\\n${P}\\n${M}\\n`;E.push(`sed -i '/${T}/,/${M}/d' /etc/hosts`),E.push(`printf "${U}" >> /etc/hosts`);const D=E.join(" && ");await new Promise((F,q)=>{ut.exec(D,vt,(z,W,x)=>{z?(console.error(z),q(z)):F(W)})});const V=tt.get("sites");V.push({domain:s,type:r,phpVersion:c,proxyPort:n}),tt.set("sites",V)}async updateSite(t,s){const{phpVersion:r,proxyPort:c}=s,n=tt.get("sites"),a=n.findIndex(S=>S.domain===t);if(a===-1)throw new Error(`Site ${t} not found`);const i=n[a],u=`/var/www/${t}/public`,d=`/etc/ssl/certs/${t}.crt`,o=`/etc/ssl/private/${t}.key`;i.type==="php"&&r?i.phpVersion=r:i.type==="proxy"&&c&&(i.proxyPort=c);let $="";const g=Ne.existsSync("/etc/nginx/snippets/fastcgi-php.conf");let v="";g?v=`
        include snippets/fastcgi-php.conf;
        fastcgi_pass unix:/run/php/php${i.phpVersion}-fpm.sock;
      `:v=`
        try_files \\$uri =404;
        fastcgi_split_path_info ^(.+\\.php)(/.+)$;
        fastcgi_index index.php;
        fastcgi_param SCRIPT_FILENAME \\$document_root\\$fastcgi_script_name;
        include fastcgi_params;
        fastcgi_pass unix:/run/php/php${i.phpVersion}-fpm.sock;
      `,i.type==="php"?$=`
server {
    listen 80;
    listen 443 ssl;
    server_name ${t};
    root ${u};
    index index.php index.html;

    ssl_certificate ${d};
    ssl_certificate_key ${o};

    location / {
        try_files \\$uri \\$uri/ /index.php?\\$query_string;
    }

    location ~ \\.php$ {
        ${v}
    }
}
`:i.type==="proxy"&&($=`
server {
    listen 80;
    listen 443 ssl;
    server_name ${t};

    ssl_certificate ${d};
    ssl_certificate_key ${o};

    location / {
        proxy_pass http://127.0.0.1:${i.proxyPort};
        proxy_http_version 1.1;
        proxy_set_header Upgrade \\$http_upgrade;
        proxy_set_header Connection 'upgrade';
        proxy_set_header Host \\$host;
        proxy_cache_bypass \\$http_upgrade;
    }
}
`);const w=Ne.existsSync("/etc/nginx/sites-available"),h=`${w?"/etc/nginx/sites-available":"/etc/nginx/conf.d"}/${t}${w?"":".conf"}`,p=[`echo '${$}' > ${h}`,"nginx -t && systemctl reload nginx"].join(" && ");await new Promise((S,y)=>{ut.exec(p,vt,(_,P,T)=>{_?y(_):S(P)})}),n[a]=i,tt.set("sites",n)}async deleteSite(t){const s=Ne.existsSync("/etc/nginx/sites-available"),a=[`rm -f ${`${s?"/etc/nginx/sites-available":"/etc/nginx/conf.d"}/${t}${s?"":".conf"}`}`,`rm -f /etc/ssl/certs/${t}.crt`,`rm -f /etc/ssl/private/${t}.key`,`rm -rf /var/www/${t}`];s&&a.push(`rm -f /etc/nginx/sites-enabled/${t}`),a.push("nginx -t && systemctl reload nginx"),a.push(`sed -i '/#start site-manager-${t}/,/#end site-manager-${t}/d' /etc/hosts`);const i=a.join(" && ");await new Promise((o,$)=>{ut.exec(i,vt,(g,v,w)=>{g?$(g):o(v)})});const d=tt.get("sites").filter(o=>o.domain!==t);tt.set("sites",d)}}var gt={exports:{}},$t={exports:{}},ba,Ju;function sy(){if(Ju)return ba;Ju=1,ba=r,r.sync=c;var e=xn;function t(n,a){var i=a.pathExt!==void 0?a.pathExt:process.env.PATHEXT;if(!i||(i=i.split(";"),i.indexOf("")!==-1))return!0;for(var u=0;u<i.length;u++){var d=i[u].toLowerCase();if(d&&n.substr(-d.length).toLowerCase()===d)return!0}return!1}function s(n,a,i){return!n.isSymbolicLink()&&!n.isFile()?!1:t(a,i)}function r(n,a,i){e.stat(n,function(u,d){i(u,u?!1:s(d,n,a))})}function c(n,a){return s(e.statSync(n),n,a)}return ba}var Pa,Yu;function ay(){if(Yu)return Pa;Yu=1,Pa=t,t.sync=s;var e=xn;function t(n,a,i){e.stat(n,function(u,d){i(u,u?!1:r(d,a))})}function s(n,a){return r(e.statSync(n),a)}function r(n,a){return n.isFile()&&c(n,a)}function c(n,a){var i=n.mode,u=n.uid,d=n.gid,o=a.uid!==void 0?a.uid:process.getuid&&process.getuid(),$=a.gid!==void 0?a.gid:process.getgid&&process.getgid(),g=parseInt("100",8),v=parseInt("010",8),w=parseInt("001",8),E=g|v,f=i&w||i&v&&d===$||i&g&&u===o||i&E&&o===0;return f}return Pa}var Ra,Zu;function iy(){if(Zu)return Ra;Zu=1;var e;process.platform==="win32"||rt.TESTING_WINDOWS?e=sy():e=ay(),Ra=t,t.sync=s;function t(r,c,n){if(typeof c=="function"&&(n=c,c={}),!n){if(typeof Promise!="function")throw new TypeError("callback not provided");return new Promise(function(a,i){t(r,c||{},function(u,d){u?i(u):a(d)})})}e(r,c||{},function(a,i){a&&(a.code==="EACCES"||c&&c.ignoreErrors)&&(a=null,i=!1),n(a,i)})}function s(r,c){try{return e.sync(r,c||{})}catch(n){if(c&&c.ignoreErrors||n.code==="EACCES")return!1;throw n}}return Ra}var Na,Qu;function oy(){if(Qu)return Na;Qu=1;const e=process.platform==="win32"||process.env.OSTYPE==="cygwin"||process.env.OSTYPE==="msys",t=kt,s=e?";":":",r=iy(),c=u=>Object.assign(new Error(`not found: ${u}`),{code:"ENOENT"}),n=(u,d)=>{const o=d.colon||s,$=u.match(/\//)||e&&u.match(/\\/)?[""]:[...e?[process.cwd()]:[],...(d.path||process.env.PATH||"").split(o)],g=e?d.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM":"",v=e?g.split(o):[""];return e&&u.indexOf(".")!==-1&&v[0]!==""&&v.unshift(""),{pathEnv:$,pathExt:v,pathExtExe:g}},a=(u,d,o)=>{typeof d=="function"&&(o=d,d={}),d||(d={});const{pathEnv:$,pathExt:g,pathExtExe:v}=n(u,d),w=[],E=h=>new Promise((l,p)=>{if(h===$.length)return d.all&&w.length?l(w):p(c(u));const S=$[h],y=/^".*"$/.test(S)?S.slice(1,-1):S,_=t.join(y,u),P=!y&&/^\.[\\\/]/.test(u)?u.slice(0,2)+_:_;l(f(P,h,0))}),f=(h,l,p)=>new Promise((S,y)=>{if(p===g.length)return S(E(l+1));const _=g[p];r(h+_,{pathExt:v},(P,T)=>{if(!P&&T)if(d.all)w.push(h+_);else return S(h+_);return S(f(h,l,p+1))})});return o?E(0).then(h=>o(null,h),o):E(0)},i=(u,d)=>{d=d||{};const{pathEnv:o,pathExt:$,pathExtExe:g}=n(u,d),v=[];for(let w=0;w<o.length;w++){const E=o[w],f=/^".*"$/.test(E)?E.slice(1,-1):E,h=t.join(f,u),l=!f&&/^\.[\\\/]/.test(u)?u.slice(0,2)+h:h;for(let p=0;p<$.length;p++){const S=l+$[p];try{if(r.sync(S,{pathExt:g}))if(d.all)v.push(S);else return S}catch{}}}if(d.all&&v.length)return v;if(d.nothrow)return null;throw c(u)};return Na=a,a.sync=i,Na}var An={exports:{}},el;function nd(){if(el)return An.exports;el=1;const e=(t={})=>{const s=t.env||process.env;return(t.platform||process.platform)!=="win32"?"PATH":Object.keys(s).reverse().find(c=>c.toUpperCase()==="PATH")||"Path"};return An.exports=e,An.exports.default=e,An.exports}var Ia,tl;function cy(){if(tl)return Ia;tl=1;const e=kt,t=oy(),s=nd();function r(n,a){const i=n.options.env||process.env,u=process.cwd(),d=n.options.cwd!=null,o=d&&process.chdir!==void 0&&!process.chdir.disabled;if(o)try{process.chdir(n.options.cwd)}catch{}let $;try{$=t.sync(n.command,{path:i[s({env:i})],pathExt:a?e.delimiter:void 0})}catch{}finally{o&&process.chdir(u)}return $&&($=e.resolve(d?n.options.cwd:"",$)),$}function c(n){return r(n)||r(n,!0)}return Ia=c,Ia}var kn={},rl;function uy(){if(rl)return kn;rl=1;const e=/([()\][%!^"`<>&|;, *?])/g;function t(r){return r=r.replace(e,"^$1"),r}function s(r,c){return r=`${r}`,r=r.replace(/(?=(\\+?)?)\1"/g,'$1$1\\"'),r=r.replace(/(?=(\\+?)?)\1$/,"$1$1"),r=`"${r}"`,r=r.replace(e,"^$1"),c&&(r=r.replace(e,"^$1")),r}return kn.command=t,kn.argument=s,kn}var Oa,nl;function ly(){return nl||(nl=1,Oa=/^#!(.*)/),Oa}var Ta,sl;function dy(){if(sl)return Ta;sl=1;const e=ly();return Ta=(t="")=>{const s=t.match(e);if(!s)return null;const[r,c]=s[0].replace(/#! ?/,"").split(" "),n=r.split("/").pop();return n==="env"?c:c?`${n} ${c}`:n},Ta}var ja,al;function fy(){if(al)return ja;al=1;const e=xn,t=dy();function s(r){const n=Buffer.alloc(150);let a;try{a=e.openSync(r,"r"),e.readSync(a,n,0,150,0),e.closeSync(a)}catch{}return t(n.toString())}return ja=s,ja}var Ca,il;function hy(){if(il)return Ca;il=1;const e=kt,t=cy(),s=uy(),r=fy(),c=process.platform==="win32",n=/\.(?:com|exe)$/i,a=/node_modules[\\/].bin[\\/][^\\/]+\.cmd$/i;function i(o){o.file=t(o);const $=o.file&&r(o.file);return $?(o.args.unshift(o.file),o.command=$,t(o)):o.file}function u(o){if(!c)return o;const $=i(o),g=!n.test($);if(o.options.forceShell||g){const v=a.test($);o.command=e.normalize(o.command),o.command=s.command(o.command),o.args=o.args.map(E=>s.argument(E,v));const w=[o.command].concat(o.args).join(" ");o.args=["/d","/s","/c",`"${w}"`],o.command=process.env.comspec||"cmd.exe",o.options.windowsVerbatimArguments=!0}return o}function d(o,$,g){$&&!Array.isArray($)&&(g=$,$=null),$=$?$.slice(0):[],g=Object.assign({},g);const v={command:o,args:$,options:g,file:void 0,original:{command:o,args:$}};return g.shell?v:u(v)}return Ca=d,Ca}var Aa,ol;function py(){if(ol)return Aa;ol=1;const e=process.platform==="win32";function t(n,a){return Object.assign(new Error(`${a} ${n.command} ENOENT`),{code:"ENOENT",errno:"ENOENT",syscall:`${a} ${n.command}`,path:n.command,spawnargs:n.args})}function s(n,a){if(!e)return;const i=n.emit;n.emit=function(u,d){if(u==="exit"){const o=r(d,a);if(o)return i.call(n,"error",o)}return i.apply(n,arguments)}}function r(n,a){return e&&n===1&&!a.file?t(a.original,"spawn"):null}function c(n,a){return e&&n===1&&!a.file?t(a.original,"spawnSync"):null}return Aa={hookChildProcess:s,verifyENOENT:r,verifyENOENTSync:c,notFoundError:t},Aa}var cl;function my(){if(cl)return $t.exports;cl=1;const e=Ka,t=hy(),s=py();function r(n,a,i){const u=t(n,a,i),d=e.spawn(u.command,u.args,u.options);return s.hookChildProcess(d,u),d}function c(n,a,i){const u=t(n,a,i),d=e.spawnSync(u.command,u.args,u.options);return d.error=d.error||s.verifyENOENTSync(d.status,u),d}return $t.exports=r,$t.exports.spawn=r,$t.exports.sync=c,$t.exports._parse=t,$t.exports._enoent=s,$t.exports}var ka,ul;function yy(){return ul||(ul=1,ka=e=>{const t=typeof e=="string"?`
`:10,s=typeof e=="string"?"\r":13;return e[e.length-1]===t&&(e=e.slice(0,e.length-1)),e[e.length-1]===s&&(e=e.slice(0,e.length-1)),e}),ka}var Ln={exports:{}};Ln.exports;var ll;function vy(){return ll||(ll=1,(function(e){const t=kt,s=nd(),r=c=>{c={cwd:process.cwd(),path:process.env[s()],execPath:process.execPath,...c};let n,a=t.resolve(c.cwd);const i=[];for(;n!==a;)i.push(t.join(a,"node_modules/.bin")),n=a,a=t.resolve(a,"..");const u=t.resolve(c.cwd,c.execPath,"..");return i.push(u),i.concat(c.path).join(t.delimiter)};e.exports=r,e.exports.default=r,e.exports.env=c=>{c={env:process.env,...c};const n={...c.env},a=s({env:n});return c.path=n[a],n[a]=e.exports(c),n}})(Ln)),Ln.exports}var Gt={exports:{}},qn={exports:{}},dl;function gy(){if(dl)return qn.exports;dl=1;const e=(t,s)=>{for(const r of Reflect.ownKeys(s))Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(s,r));return t};return qn.exports=e,qn.exports.default=e,qn.exports}var fl;function $y(){if(fl)return Gt.exports;fl=1;const e=gy(),t=new WeakMap,s=(r,c={})=>{if(typeof r!="function")throw new TypeError("Expected a function");let n,a=0;const i=r.displayName||r.name||"<anonymous>",u=function(...d){if(t.set(u,++a),a===1)n=r.apply(this,d),r=null;else if(c.throw===!0)throw new Error(`Function \`${i}\` can only be called once`);return n};return e(u,r),t.set(u,a),u};return Gt.exports=s,Gt.exports.default=s,Gt.exports.callCount=r=>{if(!t.has(r))throw new Error(`The given function \`${r.name}\` is not wrapped by the \`onetime\` package`);return t.get(r)},Gt.exports}var _t={},xt={},Kt={},hl;function _y(){if(hl)return Kt;hl=1,Object.defineProperty(Kt,"__esModule",{value:!0}),Kt.SIGNALS=void 0;const e=[{name:"SIGHUP",number:1,action:"terminate",description:"Terminal closed",standard:"posix"},{name:"SIGINT",number:2,action:"terminate",description:"User interruption with CTRL-C",standard:"ansi"},{name:"SIGQUIT",number:3,action:"core",description:"User interruption with CTRL-\\",standard:"posix"},{name:"SIGILL",number:4,action:"core",description:"Invalid machine instruction",standard:"ansi"},{name:"SIGTRAP",number:5,action:"core",description:"Debugger breakpoint",standard:"posix"},{name:"SIGABRT",number:6,action:"core",description:"Aborted",standard:"ansi"},{name:"SIGIOT",number:6,action:"core",description:"Aborted",standard:"bsd"},{name:"SIGBUS",number:7,action:"core",description:"Bus error due to misaligned, non-existing address or paging error",standard:"bsd"},{name:"SIGEMT",number:7,action:"terminate",description:"Command should be emulated but is not implemented",standard:"other"},{name:"SIGFPE",number:8,action:"core",description:"Floating point arithmetic error",standard:"ansi"},{name:"SIGKILL",number:9,action:"terminate",description:"Forced termination",standard:"posix",forced:!0},{name:"SIGUSR1",number:10,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGSEGV",number:11,action:"core",description:"Segmentation fault",standard:"ansi"},{name:"SIGUSR2",number:12,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGPIPE",number:13,action:"terminate",description:"Broken pipe or socket",standard:"posix"},{name:"SIGALRM",number:14,action:"terminate",description:"Timeout or timer",standard:"posix"},{name:"SIGTERM",number:15,action:"terminate",description:"Termination",standard:"ansi"},{name:"SIGSTKFLT",number:16,action:"terminate",description:"Stack is empty or overflowed",standard:"other"},{name:"SIGCHLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"posix"},{name:"SIGCLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"other"},{name:"SIGCONT",number:18,action:"unpause",description:"Unpaused",standard:"posix",forced:!0},{name:"SIGSTOP",number:19,action:"pause",description:"Paused",standard:"posix",forced:!0},{name:"SIGTSTP",number:20,action:"pause",description:'Paused using CTRL-Z or "suspend"',standard:"posix"},{name:"SIGTTIN",number:21,action:"pause",description:"Background process cannot read terminal input",standard:"posix"},{name:"SIGBREAK",number:21,action:"terminate",description:"User interruption with CTRL-BREAK",standard:"other"},{name:"SIGTTOU",number:22,action:"pause",description:"Background process cannot write to terminal output",standard:"posix"},{name:"SIGURG",number:23,action:"ignore",description:"Socket received out-of-band data",standard:"bsd"},{name:"SIGXCPU",number:24,action:"core",description:"Process timed out",standard:"bsd"},{name:"SIGXFSZ",number:25,action:"core",description:"File too big",standard:"bsd"},{name:"SIGVTALRM",number:26,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGPROF",number:27,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGWINCH",number:28,action:"ignore",description:"Terminal window size changed",standard:"bsd"},{name:"SIGIO",number:29,action:"terminate",description:"I/O is available",standard:"other"},{name:"SIGPOLL",number:29,action:"terminate",description:"Watched event",standard:"other"},{name:"SIGINFO",number:29,action:"ignore",description:"Request for process information",standard:"other"},{name:"SIGPWR",number:30,action:"terminate",description:"Device running out of power",standard:"systemv"},{name:"SIGSYS",number:31,action:"core",description:"Invalid system call",standard:"other"},{name:"SIGUNUSED",number:31,action:"terminate",description:"Invalid system call",standard:"other"}];return Kt.SIGNALS=e,Kt}var wt={},pl;function sd(){if(pl)return wt;pl=1,Object.defineProperty(wt,"__esModule",{value:!0}),wt.SIGRTMAX=wt.getRealtimeSignals=void 0;const e=function(){const c=r-s+1;return Array.from({length:c},t)};wt.getRealtimeSignals=e;const t=function(c,n){return{name:`SIGRT${n+1}`,number:s+n,action:"terminate",description:"Application-specific signal (realtime)",standard:"posix"}},s=34,r=64;return wt.SIGRTMAX=r,wt}var ml;function wy(){if(ml)return xt;ml=1,Object.defineProperty(xt,"__esModule",{value:!0}),xt.getSignals=void 0;var e=Ha,t=_y(),s=sd();const r=function(){const n=(0,s.getRealtimeSignals)();return[...t.SIGNALS,...n].map(c)};xt.getSignals=r;const c=function({name:n,number:a,description:i,action:u,forced:d=!1,standard:o}){const{signals:{[n]:$}}=e.constants,g=$!==void 0;return{name:n,number:g?$:a,description:i,supported:g,action:u,forced:d,standard:o}};return xt}var yl;function Ey(){if(yl)return _t;yl=1,Object.defineProperty(_t,"__esModule",{value:!0}),_t.signalsByNumber=_t.signalsByName=void 0;var e=Ha,t=wy(),s=sd();const r=function(){return(0,t.getSignals)().reduce(c,{})},c=function(o,{name:$,number:g,description:v,supported:w,action:E,forced:f,standard:h}){return{...o,[$]:{name:$,number:g,description:v,supported:w,action:E,forced:f,standard:h}}},n=r();_t.signalsByName=n;const a=function(){const o=(0,t.getSignals)(),$=s.SIGRTMAX+1,g=Array.from({length:$},(v,w)=>i(w,o));return Object.assign({},...g)},i=function(o,$){const g=u(o,$);if(g===void 0)return{};const{name:v,description:w,supported:E,action:f,forced:h,standard:l}=g;return{[o]:{name:v,number:o,description:w,supported:E,action:f,forced:h,standard:l}}},u=function(o,$){const g=$.find(({name:v})=>e.constants.signals[v]===o);return g!==void 0?g:$.find(v=>v.number===o)},d=a();return _t.signalsByNumber=d,_t}var qa,vl;function Sy(){if(vl)return qa;vl=1;const{signalsByName:e}=Ey(),t=({timedOut:r,timeout:c,errorCode:n,signal:a,signalDescription:i,exitCode:u,isCanceled:d})=>r?`timed out after ${c} milliseconds`:d?"was canceled":n!==void 0?`failed with ${n}`:a!==void 0?`was killed with ${a} (${i})`:u!==void 0?`failed with exit code ${u}`:"failed";return qa=({stdout:r,stderr:c,all:n,error:a,signal:i,exitCode:u,command:d,escapedCommand:o,timedOut:$,isCanceled:g,killed:v,parsed:{options:{timeout:w}}})=>{u=u===null?void 0:u,i=i===null?void 0:i;const E=i===void 0?void 0:e[i].description,f=a&&a.code,l=`Command ${t({timedOut:$,timeout:w,errorCode:f,signal:i,signalDescription:E,exitCode:u,isCanceled:g})}: ${d}`,p=Object.prototype.toString.call(a)==="[object Error]",S=p?`${l}
${a.message}`:l,y=[S,c,r].filter(Boolean).join(`
`);return p?(a.originalMessage=a.message,a.message=y):a=new Error(y),a.shortMessage=S,a.command=d,a.escapedCommand=o,a.exitCode=u,a.signal=i,a.signalDescription=E,a.stdout=r,a.stderr=c,n!==void 0&&(a.all=n),"bufferedData"in a&&delete a.bufferedData,a.failed=!0,a.timedOut=!!$,a.isCanceled=g,a.killed=v&&!$,a},qa}var Dn={exports:{}},gl;function by(){if(gl)return Dn.exports;gl=1;const e=["stdin","stdout","stderr"],t=r=>e.some(c=>r[c]!==void 0),s=r=>{if(!r)return;const{stdio:c}=r;if(c===void 0)return e.map(a=>r[a]);if(t(r))throw new Error(`It's not possible to provide \`stdio\` in combination with one of ${e.map(a=>`\`${a}\``).join(", ")}`);if(typeof c=="string")return c;if(!Array.isArray(c))throw new TypeError(`Expected \`stdio\` to be of type \`string\` or \`Array\`, got \`${typeof c}\``);const n=Math.max(c.length,e.length);return Array.from({length:n},(a,i)=>c[i])};return Dn.exports=s,Dn.exports.node=r=>{const c=s(r);return c==="ipc"?"ipc":c===void 0||typeof c=="string"?[c,c,c,"ipc"]:c.includes("ipc")?c:[...c,"ipc"]},Dn.exports}var Et={exports:{}},Da={exports:{}},$l;function Py(){return $l||($l=1,(function(e){e.exports=["SIGABRT","SIGALRM","SIGHUP","SIGINT","SIGTERM"],process.platform!=="win32"&&e.exports.push("SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT"),process.platform==="linux"&&e.exports.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT","SIGUNUSED")})(Da)),Da.exports}var _l;function Ry(){if(_l)return Et.exports;_l=1;var e=rt.process;const t=function(f){return f&&typeof f=="object"&&typeof f.removeListener=="function"&&typeof f.emit=="function"&&typeof f.reallyExit=="function"&&typeof f.listeners=="function"&&typeof f.kill=="function"&&typeof f.pid=="number"&&typeof f.on=="function"};if(!t(e))Et.exports=function(){return function(){}};else{var s=ld,r=Py(),c=/^win/i.test(e.platform),n=dd;typeof n!="function"&&(n=n.EventEmitter);var a;e.__signal_exit_emitter__?a=e.__signal_exit_emitter__:(a=e.__signal_exit_emitter__=new n,a.count=0,a.emitted={}),a.infinite||(a.setMaxListeners(1/0),a.infinite=!0),Et.exports=function(f,h){if(!t(rt.process))return function(){};s.equal(typeof f,"function","a callback must be provided for exit handler"),o===!1&&$();var l="exit";h&&h.alwaysLast&&(l="afterexit");var p=function(){a.removeListener(l,f),a.listeners("exit").length===0&&a.listeners("afterexit").length===0&&i()};return a.on(l,f),p};var i=function(){!o||!t(rt.process)||(o=!1,r.forEach(function(h){try{e.removeListener(h,d[h])}catch{}}),e.emit=w,e.reallyExit=g,a.count-=1)};Et.exports.unload=i;var u=function(h,l,p){a.emitted[h]||(a.emitted[h]=!0,a.emit(h,l,p))},d={};r.forEach(function(f){d[f]=function(){if(t(rt.process)){var l=e.listeners(f);l.length===a.count&&(i(),u("exit",null,f),u("afterexit",null,f),c&&f==="SIGHUP"&&(f="SIGINT"),e.kill(e.pid,f))}}}),Et.exports.signals=function(){return r};var o=!1,$=function(){o||!t(rt.process)||(o=!0,a.count+=1,r=r.filter(function(h){try{return e.on(h,d[h]),!0}catch{return!1}}),e.emit=E,e.reallyExit=v)};Et.exports.load=$;var g=e.reallyExit,v=function(h){t(rt.process)&&(e.exitCode=h||0,u("exit",e.exitCode,null),u("afterexit",e.exitCode,null),g.call(e,e.exitCode))},w=e.emit,E=function(h,l){if(h==="exit"&&t(rt.process)){l!==void 0&&(e.exitCode=l);var p=w.apply(this,arguments);return u("exit",e.exitCode,null),u("afterexit",e.exitCode,null),p}else return w.apply(this,arguments)}}return Et.exports}var Ma,wl;function Ny(){if(wl)return Ma;wl=1;const e=Ha,t=Ry(),s=1e3*5,r=(v,w="SIGTERM",E={})=>{const f=v(w);return c(v,w,E,f),f},c=(v,w,E,f)=>{if(!n(w,E,f))return;const h=i(E),l=setTimeout(()=>{v("SIGKILL")},h);l.unref&&l.unref()},n=(v,{forceKillAfterTimeout:w},E)=>a(v)&&w!==!1&&E,a=v=>v===e.constants.signals.SIGTERM||typeof v=="string"&&v.toUpperCase()==="SIGTERM",i=({forceKillAfterTimeout:v=!0})=>{if(v===!0)return s;if(!Number.isFinite(v)||v<0)throw new TypeError(`Expected the \`forceKillAfterTimeout\` option to be a non-negative integer, got \`${v}\` (${typeof v})`);return v},u=(v,w)=>{v.kill()&&(w.isCanceled=!0)},d=(v,w,E)=>{v.kill(w),E(Object.assign(new Error("Timed out"),{timedOut:!0,signal:w}))};return Ma={spawnedKill:r,spawnedCancel:u,setupTimeout:(v,{timeout:w,killSignal:E="SIGTERM"},f)=>{if(w===0||w===void 0)return f;let h;const l=new Promise((S,y)=>{h=setTimeout(()=>{d(v,E,y)},w)}),p=f.finally(()=>{clearTimeout(h)});return Promise.race([l,p])},validateTimeout:({timeout:v})=>{if(v!==void 0&&(!Number.isFinite(v)||v<0))throw new TypeError(`Expected the \`timeout\` option to be a non-negative integer, got \`${v}\` (${typeof v})`)},setExitHandler:async(v,{cleanup:w,detached:E},f)=>{if(!w||E)return f;const h=t(()=>{v.kill()});return f.finally(()=>{h()})}},Ma}var La,El;function Iy(){if(El)return La;El=1;const e=t=>t!==null&&typeof t=="object"&&typeof t.pipe=="function";return e.writable=t=>e(t)&&t.writable!==!1&&typeof t._write=="function"&&typeof t._writableState=="object",e.readable=t=>e(t)&&t.readable!==!1&&typeof t._read=="function"&&typeof t._readableState=="object",e.duplex=t=>e.writable(t)&&e.readable(t),e.transform=t=>e.duplex(t)&&typeof t._transform=="function",La=e,La}var jt={exports:{}},Va,Sl;function Oy(){if(Sl)return Va;Sl=1;const{PassThrough:e}=Ba;return Va=t=>{t={...t};const{array:s}=t;let{encoding:r}=t;const c=r==="buffer";let n=!1;s?n=!(r||c):r=r||"utf8",c&&(r=null);const a=new e({objectMode:n});r&&a.setEncoding(r);let i=0;const u=[];return a.on("data",d=>{u.push(d),n?i=u.length:i+=d.length}),a.getBufferedValue=()=>s?u:c?Buffer.concat(u,i):u.join(""),a.getBufferedLength=()=>i,a},Va}var bl;function Ty(){if(bl)return jt.exports;bl=1;const{constants:e}=fd,t=Ba,{promisify:s}=Tl,r=Oy(),c=s(t.pipeline);class n extends Error{constructor(){super("maxBuffer exceeded"),this.name="MaxBufferError"}}async function a(i,u){if(!i)throw new Error("Expected a stream");u={maxBuffer:1/0,...u};const{maxBuffer:d}=u,o=r(u);return await new Promise(($,g)=>{const v=w=>{w&&o.getBufferedLength()<=e.MAX_LENGTH&&(w.bufferedData=o.getBufferedValue()),g(w)};(async()=>{try{await c(i,o),$()}catch(w){v(w)}})(),o.on("data",()=>{o.getBufferedLength()>d&&v(new n)})}),o.getBufferedValue()}return jt.exports=a,jt.exports.buffer=(i,u)=>a(i,{...u,encoding:"buffer"}),jt.exports.array=(i,u)=>a(i,{...u,array:!0}),jt.exports.MaxBufferError=n,jt.exports}var Fa,Pl;function jy(){if(Pl)return Fa;Pl=1;const{PassThrough:e}=Ba;return Fa=function(){var t=[],s=new e({objectMode:!0});return s.setMaxListeners(0),s.add=r,s.isEmpty=c,s.on("unpipe",n),Array.prototype.slice.call(arguments).forEach(r),s;function r(a){return Array.isArray(a)?(a.forEach(r),this):(t.push(a),a.once("end",n.bind(null,a)),a.once("error",s.emit.bind(s,"error")),a.pipe(s,{end:!1}),this)}function c(){return t.length==0}function n(a){t=t.filter(function(i){return i!==a}),!t.length&&s.readable&&s.end()}},Fa}var Ua,Rl;function Cy(){if(Rl)return Ua;Rl=1;const e=Iy(),t=Ty(),s=jy(),r=(d,o)=>{o===void 0||d.stdin===void 0||(e(o)?o.pipe(d.stdin):d.stdin.end(o))},c=(d,{all:o})=>{if(!o||!d.stdout&&!d.stderr)return;const $=s();return d.stdout&&$.add(d.stdout),d.stderr&&$.add(d.stderr),$},n=async(d,o)=>{if(d){d.destroy();try{return await o}catch($){return $.bufferedData}}},a=(d,{encoding:o,buffer:$,maxBuffer:g})=>{if(!(!d||!$))return o?t(d,{encoding:o,maxBuffer:g}):t.buffer(d,{maxBuffer:g})};return Ua={handleInput:r,makeAllStream:c,getSpawnedResult:async({stdout:d,stderr:o,all:$},{encoding:g,buffer:v,maxBuffer:w},E)=>{const f=a(d,{encoding:g,buffer:v,maxBuffer:w}),h=a(o,{encoding:g,buffer:v,maxBuffer:w}),l=a($,{encoding:g,buffer:v,maxBuffer:w*2});try{return await Promise.all([E,f,h,l])}catch(p){return Promise.all([{error:p,signal:p.signal,timedOut:p.timedOut},n(d,f),n(o,h),n($,l)])}},validateInputSync:({input:d})=>{if(e(d))throw new TypeError("The `input` option cannot be a stream in sync mode")}},Ua}var za,Nl;function Ay(){if(Nl)return za;Nl=1;const e=(async()=>{})().constructor.prototype,t=["then","catch","finally"].map(c=>[c,Reflect.getOwnPropertyDescriptor(e,c)]);return za={mergePromise:(c,n)=>{for(const[a,i]of t){const u=typeof n=="function"?(...d)=>Reflect.apply(i.value,n(),d):i.value.bind(n);Reflect.defineProperty(c,a,{...i,value:u})}return c},getSpawnedPromise:c=>new Promise((n,a)=>{c.on("exit",(i,u)=>{n({exitCode:i,signal:u})}),c.on("error",i=>{a(i)}),c.stdin&&c.stdin.on("error",i=>{a(i)})})},za}var Ga,Il;function ky(){if(Il)return Ga;Il=1;const e=(u,d=[])=>Array.isArray(d)?[u,...d]:[u],t=/^[\w.-]+$/,s=/"/g,r=u=>typeof u!="string"||t.test(u)?u:`"${u.replace(s,'\\"')}"`,c=(u,d)=>e(u,d).join(" "),n=(u,d)=>e(u,d).map(o=>r(o)).join(" "),a=/ +/g;return Ga={joinCommand:c,getEscapedCommand:n,parseCommand:u=>{const d=[];for(const o of u.trim().split(a)){const $=d[d.length-1];$&&$.endsWith("\\")?d[d.length-1]=`${$.slice(0,-1)} ${o}`:d.push(o)}return d}},Ga}var Ol;function qy(){if(Ol)return gt.exports;Ol=1;const e=kt,t=Ka,s=my(),r=yy(),c=vy(),n=$y(),a=Sy(),i=by(),{spawnedKill:u,spawnedCancel:d,setupTimeout:o,validateTimeout:$,setExitHandler:g}=Ny(),{handleInput:v,getSpawnedResult:w,makeAllStream:E,validateInputSync:f}=Cy(),{mergePromise:h,getSpawnedPromise:l}=Ay(),{joinCommand:p,parseCommand:S,getEscapedCommand:y}=ky(),_=1e3*1e3*100,P=({env:D,extendEnv:V,preferLocal:F,localDir:q,execPath:z})=>{const W=V?{...process.env,...D}:D;return F?c.env({env:W,cwd:q,execPath:z}):W},T=(D,V,F={})=>{const q=s._parse(D,V,F);return D=q.command,V=q.args,F=q.options,F={maxBuffer:_,buffer:!0,stripFinalNewline:!0,extendEnv:!0,preferLocal:!1,localDir:F.cwd||process.cwd(),execPath:process.execPath,encoding:"utf8",reject:!0,cleanup:!0,all:!1,windowsHide:!0,...F},F.env=P(F),F.stdio=i(F),process.platform==="win32"&&e.basename(D,".exe")==="cmd"&&V.unshift("/q"),{file:D,args:V,options:F,parsed:q}},M=(D,V,F)=>typeof V!="string"&&!Buffer.isBuffer(V)?F===void 0?void 0:"":D.stripFinalNewline?r(V):V,U=(D,V,F)=>{const q=T(D,V,F),z=p(D,V),W=y(D,V);$(q.options);let x;try{x=t.spawn(q.file,q.args,q.options)}catch(m){const b=new t.ChildProcess,j=Promise.reject(a({error:m,stdout:"",stderr:"",all:"",command:z,escapedCommand:W,parsed:q,timedOut:!1,isCanceled:!1,killed:!1}));return h(b,j)}const B=l(x),X=o(x,q.options,B),A=g(x,q.options,X),N={isCanceled:!1};x.kill=u.bind(null,x.kill.bind(x)),x.cancel=d.bind(null,x,N);const I=n(async()=>{const[{error:m,exitCode:b,signal:j,timedOut:G},K,Z,Y]=await w(x,q.options,A),R=M(q.options,K),O=M(q.options,Z),k=M(q.options,Y);if(m||b!==0||j!==null){const L=a({error:m,exitCode:b,signal:j,stdout:R,stderr:O,all:k,command:z,escapedCommand:W,parsed:q,timedOut:G,isCanceled:N.isCanceled,killed:x.killed});if(!q.options.reject)return L;throw L}return{command:z,escapedCommand:W,exitCode:0,stdout:R,stderr:O,all:k,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}});return v(x,q.options.input),x.all=E(x,q.options),h(x,I)};return gt.exports=U,gt.exports.sync=(D,V,F)=>{const q=T(D,V,F),z=p(D,V),W=y(D,V);f(q.options);let x;try{x=t.spawnSync(q.file,q.args,q.options)}catch(A){throw a({error:A,stdout:"",stderr:"",all:"",command:z,escapedCommand:W,parsed:q,timedOut:!1,isCanceled:!1,killed:!1})}const B=M(q.options,x.stdout,x.error),X=M(q.options,x.stderr,x.error);if(x.error||x.status!==0||x.signal!==null){const A=a({stdout:B,stderr:X,error:x.error,signal:x.signal,exitCode:x.status,command:z,escapedCommand:W,parsed:q,timedOut:x.error&&x.error.code==="ETIMEDOUT",isCanceled:!1,killed:x.signal!==null});if(!q.options.reject)return A;throw A}return{command:z,escapedCommand:W,exitCode:0,stdout:B,stderr:X,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}},gt.exports.command=(D,V)=>{const[F,...q]=S(D);return U(F,q,V)},gt.exports.commandSync=(D,V)=>{const[F,...q]=S(D);return U.sync(F,q,V)},gt.exports.node=(D,V,F={})=>{V&&!Array.isArray(V)&&typeof V=="object"&&(F=V,V=[]);const q=i.node(F),z=process.execArgv.filter(B=>!B.startsWith("--inspect")),{nodePath:W=process.execPath,nodeOptions:x=z}=F;return U(W,[...x,D,...Array.isArray(V)?V:[]],{...F,stdin:void 0,stdout:void 0,stderr:void 0,stdio:q,shell:!1})},gt.exports}var Dy=qy();const My=Ja(Dy);function Ly({onlyFirst:e=!1}={}){const c="(?:\\u001B\\][\\s\\S]*?(?:\\u0007|\\u001B\\u005C|\\u009C))|[\\u001B\\u009B][[\\]()#;?]*(?:\\d{1,4}(?:[;:]\\d{0,4})*)?[\\dA-PR-TZcf-nq-uy=><~]";return new RegExp(c,e?void 0:"g")}const Vy=Ly();function ad(e){if(typeof e!="string")throw new TypeError(`Expected a \`string\`, got \`${typeof e}\``);return e.replace(Vy,"")}const Fy=()=>{const{env:e}=ce;if(ce.platform==="win32")return e.COMSPEC||"cmd.exe";try{const{shell:t}=Gn.userInfo();if(t)return t}catch{}return ce.platform==="darwin"?e.SHELL||"/bin/zsh":e.SHELL||"/bin/sh"},Uy=Fy(),zy=["-ilc",'echo -n "_SHELL_ENV_DELIMITER_"; env; echo -n "_SHELL_ENV_DELIMITER_"; exit'],Gy={DISABLE_AUTO_UPDATE:"true"},xy=e=>{e=e.split("_SHELL_ENV_DELIMITER_")[1];const t={};for(const s of ad(e).split(`
`).filter(r=>!!r)){const[r,...c]=s.split("=");t[r]=c.join("=")}return t};function Ky(e){if(ce.platform==="win32")return ce.env;try{const{stdout:t}=My.sync(e||Uy,zy,{env:Gy});return xy(t)}catch{return ce.env}}function Hy(e){const{PATH:t}=Ky(e?.shell);return t}function By(){if(ce.platform==="win32")return;const e=Hy();ce.env.PATH=(e?ad(e):void 0)||["./node_modules/.bin","/.nodebrew/current/bin","/usr/local/bin",ce.env.PATH].join(":")}By();new ny;process.env.DIST_ELECTRON=se.join(__dirname,"../..");process.env.DIST=se.join(process.env.DIST_ELECTRON,"dist");process.env.PUBLIC=process.env.VITE_DEV_SERVER_URL?se.join(process.env.DIST_ELECTRON,"public"):process.env.DIST;Gn.release().startsWith("6.1")&&pe.app.disableHardwareAcceleration();process.platform==="win32"&&pe.app.setAppUserModelId(pe.app.getName());pe.app.requestSingleInstanceLock()||(pe.app.quit(),process.exit(0));let je=null;const id=se.join(__dirname,"../preload/index.js"),od=process.env.VITE_DEV_SERVER_URL,cd=se.join(process.env.DIST,"index.html");async function ud(){je=new pe.BrowserWindow({title:"Site Manager",icon:se.join(process.env.PUBLIC||"","favicon.ico"),webPreferences:{preload:id,nodeIntegration:!1,contextIsolation:!0},width:1200,height:800,backgroundColor:"#1e1e1e"}),process.env.VITE_DEV_SERVER_URL?(je.loadURL(od),je.webContents.openDevTools()):je.loadFile(cd),je.webContents.on("did-finish-load",()=>{je?.webContents.send("main-process-message",new Date().toLocaleString())}),je.webContents.setWindowOpenHandler(({url:e})=>(e.startsWith("https:")&&pe.shell.openExternal(e),{action:"deny"}))}pe.app.whenReady().then(ud);pe.app.on("window-all-closed",()=>{je=null,process.platform!=="darwin"&&pe.app.quit()});pe.app.on("second-instance",()=>{je&&(je.isMinimized()&&je.restore(),je.focus())});pe.app.on("activate",()=>{const e=pe.BrowserWindow.getAllWindows();e.length?e[0].focus():ud()});pe.ipcMain.handle("open-win",(e,t)=>{const s=new pe.BrowserWindow({webPreferences:{preload:id,nodeIntegration:!0,contextIsolation:!1}});process.env.VITE_DEV_SERVER_URL?s.loadURL(`${od}#${t}`):s.loadFile(cd,{hash:t})});
